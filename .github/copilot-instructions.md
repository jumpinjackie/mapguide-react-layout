# Naming Convention and coding style

- Use `PascalCase` for class names and React components.
- Use `camelCase` for variables and function names.
- Use `UPPER_SNAKE_CASE` for constants.
- Use `kebab-case` for file names.
- TypeScript interfaces should be prefixed with `I` (e.g., `IUser`).
- React component prop interfaces should be suffixed with `Props` (e.g., `UserProps`).
- Use `const` for constants and `let` for variables that may change.
- Use `async/await` for asynchronous code.
- Use TypeScript mapped and utility types where possible to avoid creating new types.
- In any exported function or class that is generated, insert a `@hidden` tag in the JSDoc comment to indicate that it is not intended for public use.
   - This tag may be removed at a later time at the author's discretion. Do not re-insert this tag if it is not already present in any JSDoc comments.
- Generated TypeScript test files should be named with a `.spec.ts` or `.spec.tsx` suffix.
- When generating import statements for internal modules, use the most-relative path possible.
   - Avoid importing from relative directories (implying an index.ts or index.tsx barrel module is present there)
   - If an import can be made a type-only import, use `import type` syntax.
- Do not use `import *` syntax for importing any of our modules.
- Ensure that import statements for static content like images, SVG icons or CSS files come after regular import statements.
- Tag all generated code with a `@since` tag in the JSDoc comment to indicate the version of the library in which it was introduced.
   - The value of this tag should be the current version of the library, e.g., `@since 0.15`. This version number can be found in the `version` property of the root `package.json` file.
   - Only consider the major.version.minor parts of this `version` property, the minor part can be omitted if it is `0`.
      - e.g., if the `version` property is `0.15.0`, the value of the `@since` tag should be `0.15`.
      - e.g., if the `version` property is `0.15.3`, the value of the `@since` tag should be `0.15.3`.
      - e.g., if the `version` property is `0.15.0-pre.1234`, the value of the `@since` tag should be `0.15`.
      - e.g., if the `version` property is `0.15.4-pre.1234`, the value of the `@since` tag should be `0.15.4`.
   - If a comment already exists with a `@since` tag, do not overwrite it. Instead, append the new version to the existing `@since` tag and provide a short description of changes after it.
      - e.g., if the existing comment is `@since 0.15.0`, the new comment should be 
         ```
         @since 0.15.3 - Added new feature X
         @since 0.15.0
         ```
   - Only apply this tag to code that is generated by the AI. Do not apply this tag to code that is already present in the codebase.
- When generating comments/documentation for a React functional component, do not generate documentation for the `props` parameter of the component function.
   - This is because the `props` parameter is already documented by the TypeScript interface that defines the props for the component.
   - Instead, document the component itself and its purpose, and refer to the props interface for details on the props.
- When generating comments/documentation for a React functional component, do not document the return type of the component function.
   - The return type of a React functional component is always `JSX.Element`, and this is already implied by the fact that the component returns JSX.
- When generating comments/documentation for a React functional component, do not document the `children` prop.
   - The `children` prop is a special prop in React that is automatically passed to every component, and it is already documented by the TypeScript interface that defines the props for the component.
- When generating comments/documentation for a React functional component, include examples of how to use the component in the documentation.
   - This helps users understand how to use the component and provides a quick reference for common use cases.
   - Use the `@example` tag in the JSDoc comment to provide examples of how to use the component.
- If generated comments or documentation only spans a single line, still put newlines before and after the comment or documentation.
   - This is to ensure consistency with multi-line comments and documentation, and to make it easier to read and maintain the code.
   - Do not do this:
```typescript
   /** This comment only spans a single line */
```
   - Instead, do this:
```typescript
   /**
    * This comment only spans a single line
    */
```

# Story generation for Storybook

- Use `@storybook/react` for React components.
- Use `@storybook/addon-docs` for documentation.
- Use `@storybook/addon-controls` for dynamic controls.
- Use `@storybook/addon-actions` for event handling.
- Use `@storybook/addon-viewport` for responsive design testing.
- Use `@storybook/addon-a11y` for accessibility testing.
- Use `@storybook/addon-backgrounds` for background color testing.
- Use `@storybook/addon-toolbars` for custom toolbars.
- Use `@storybook/addon-links` for linking stories.
- Use `@storybook/addon-knobs` for dynamic props.
- Use `@storybook/addon-essentials` for essential addons.
- Use `@storybook/addon-interactions` for simulating user interactions.
- Use `@storybook/addon-measure` for performance measurement.
- Use `@storybook/addon-outline` for visualizing component outlines.
- Use the following file structure for Storybook stories:
  - Always stories under `src/stories` directory
  - Name the story files with a `.stories.tsx` suffix.
  - Use the same name as the component for the story file (e.g., `MyComponent.stories.tsx`).
  - Use `export default` to define the component and its metadata.
  - Use named exports for each story, following the format `export const [StoryName] = () => <Component />;`.
  - Use `args` to define default props for the component.
  - Use `argTypes` to define controls for the component's props.

# Test Generation

- Use `vitest` as the test framework.
- Use `@testing-library/react` for React component testing.
- Put these test files in the top-level `test` directory with the same relative directory structure as the module under test
   - Ensure that imports for modules under test are relative to the module under test
      - For example, if the module under test is `src/components/MyComponent.tsx`, the test file should be `test/components/MyComponent.spec.tsx`.
      - In this example, the test file should import the module under test using a relative path, like `import MyComponent from '../../src/components/MyComponent';`.
- If it is clear a test case can be parameterized, use `test.each` to create parameterized tests instead of creating individual test cases
- Do not `vi.mock` internal modules unless it is absolutely necessary for the test.
- Do not generate superfluous test cases that do not add value. Examples include:
   - Tests that only check for the existence of a function or class.
   - Tests that only check for the existence of a module or file.
   - If this means that a test file is empty, then it is acceptable to leave the test file empty.
- Do not use `import *` syntax for importing any of our modules under test.
- Do not generate tests for modules that only contains exported types, interfaces or constants.

# Code generation guidelines around React components

- Do not generate `useState` setters that call other `useState` setters in their update callback. This is illegal in React and will raise runtime errors about calling setState on render.

# Review guidelines around React components

- Do not blindly suggest that `useEffect` calls always require full dependency arrays. Many components in this library require code that runs on mount and on unmount and need an empty dependency array for that to happen.