(self.webpackChunkmapguide_react_layout=self.webpackChunkmapguide_react_layout||[]).push([[179],{38011:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module=__webpack_require__.nmd(module),(0,__webpack_require__(3012).configure)([__webpack_require__(61568)],module,!1)},54687:function(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__){"use strict";var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,{parameters:function(){return parameters}});__webpack_require__(47941),__webpack_require__(82526),__webpack_require__(57327),__webpack_require__(38880),__webpack_require__(54747),__webpack_require__(49337);var client_api=__webpack_require__(11526),esm=__webpack_require__(23827),parameters=(__webpack_require__(3012),__webpack_require__(39990),__webpack_require__(84539),{actions:{argTypesRegex:"^on[A-Z].*"},controls:{matchers:{color:/(background|color)$/i,date:/Date$/}}});function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":case"argTypes":return esm.kg.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify(value));case"decorators":return value.forEach((function(decorator){return(0,client_api.$9)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return(0,client_api.HZ)(loader,!1)}));case"parameters":return(0,client_api.h1)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return(0,client_api.My)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return(0,client_api._C)(enhancer)}));case"render":return(0,client_api.$P)(value);case"globals":case"globalTypes":var v={};return v[key]=value,(0,client_api.h1)(v,!1);default:return console.log(key+" was not supported :( !")}}))},86261:function(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__){"use strict";__webpack_require__(3012)},93720:function(__unused_webpack_module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isGenericSubjectMapLayer=exports.GenericSubjectLayerType=void 0,function(GenericSubjectLayerType){GenericSubjectLayerType.TileWMS="TileWMS",GenericSubjectLayerType.CSV="CSV",GenericSubjectLayerType.KML="KML",GenericSubjectLayerType.GeoJSON="GeoJSON",GenericSubjectLayerType.GeoJSON_Inline="GeoJSON_Inline",GenericSubjectLayerType.CustomVector="CustomVector",GenericSubjectLayerType.MVT="MVT"}(exports.GenericSubjectLayerType||(exports.GenericSubjectLayerType={})),exports.isGenericSubjectMapLayer=function isGenericSubjectMapLayer(map){var _a;return"string"==typeof(null===(_a=map)||void 0===_a?void 0:_a.type)}},92070:function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.closeComponent=exports.openComponent=exports.closeFlyout=exports.openFlyout=exports.closeContextMenu=exports.openContextMenu=void 0;var tslib_1=__webpack_require__(70655),actions_1=__webpack_require__(4485);exports.openContextMenu=function openContextMenu(position){return{type:actions_1.ActionType.CONTEXT_MENU_OPEN,payload:(0,tslib_1.__assign)({},position)}},exports.closeContextMenu=function closeContextMenu(){return{type:actions_1.ActionType.CONTEXT_MENU_CLOSE}},exports.openFlyout=function openFlyout(id,metrics){return{type:actions_1.ActionType.FLYOUT_OPEN,payload:{flyoutId:id,metrics:metrics}}},exports.closeFlyout=function closeFlyout(id){return{type:actions_1.ActionType.FLYOUT_CLOSE,payload:{flyoutId:id}}},exports.openComponent=function openComponent(id,metrics,name,props){return{type:actions_1.ActionType.COMPONENT_OPEN,payload:{flyoutId:id,metrics:metrics,name:name,props:props}}},exports.closeComponent=function closeComponent(id){return{type:actions_1.ActionType.COMPONENT_CLOSE,payload:{flyoutId:id}}}},10519:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(47941),__webpack_require__(88674),__webpack_require__(41539),__webpack_require__(23123),__webpack_require__(74916),Object.defineProperty(exports,"__esModule",{value:!0}),exports.ViewerInitCommand=exports.isStateless=exports.getMapDefinitionsFromFlexLayout=exports.buildSubjectLayerDefn=void 0;var tslib_1=__webpack_require__(70655),init_1=__webpack_require__(63611),common_1=__webpack_require__(18036),command_spec_1=__webpack_require__(62402),array_1=__webpack_require__(24698),logger_1=__webpack_require__(97838),command_1=__webpack_require__(74130),i18n_1=__webpack_require__(196),constants_1=__webpack_require__(12872),actions_1=__webpack_require__(4485),url_1=__webpack_require__(7976),error_1=__webpack_require__(59404),string_1=__webpack_require__(53775);function tryExtractMapMetadata(extension){var ext={};for(var k in extension){if((0,string_1.strStartsWith)(k,"Meta_"))ext[k.substring("Meta_".length)]=extension[k]}return ext}function buildSubjectLayerDefn(name,map){for(var _a,_b,st=map.Extension.source_type,initiallyVisible=null===(_a=map.Extension.initially_visible)||void 0===_a||_a,sp={},lo={},meta={},keys=Object.keys(map.Extension),popupTemplate=map.Extension.popup_template,selectable=null===(_b=map.Extension.is_selectable)||void 0===_b||_b,_i=0,keys_1=keys;_i<keys_1.length;_i++){var k=keys_1[_i],spidx=k.indexOf("source_param_"),loidx=k.indexOf("layer_opt_"),midx=k.indexOf("meta_");if(0==spidx)sp[k.substring("source_param_".length)]=map.Extension[k];else if(0==loidx){lo[k.substring("layer_opt_".length)]=map.Extension[k]}else if(0==midx){meta[k.substring("meta_".length)]=map.Extension[k]}}var sl={name:name,description:map.Extension.layer_description,displayName:map.Extension.display_name,driverName:map.Extension.driver_name,type:st,layerOptions:lo,sourceParams:sp,meta:Object.keys(meta).length>0?meta:void 0,initiallyVisible:initiallyVisible,selectable:selectable,popupTemplate:popupTemplate,vectorStyle:map.Extension.vector_layer_style};return map.Extension.cluster&&(sl.cluster=(0,tslib_1.__assign)({},map.Extension.cluster)),sl}function getMapDefinitionsFromFlexLayout(appDef){var _a,maps=[],configs=function getMapGuideConfiguration(appDef){var configs=[];if(appDef.MapSet)for(var _i=0,_a=appDef.MapSet.MapGroup;_i<_a.length;_i++)for(var mg=_a[_i],_b=0,_c=mg.Map;_b<_c.length;_b++){var map=_c[_b];"MapGuide"==map.Type&&configs.push([mg["@id"],map])}return configs}(appDef);if(configs.length>0)for(var _i=0,configs_1=configs;_i<configs_1.length;_i++){var c=configs_1[_i];maps.push({name:c[0],mapDef:c[1].Extension.ResourceId,metadata:tryExtractMapMetadata(c[1].Extension)})}if(null===(_a=appDef.MapSet)||void 0===_a?void 0:_a.MapGroup)for(var _b=0,_c=appDef.MapSet.MapGroup;_b<_c.length;_b++)for(var mGroup=_c[_b],_d=0,_e=mGroup.Map;_d<_e.length;_d++){var map=_e[_d];if("SubjectLayer"==map.Type){var name_1=mGroup["@id"];maps.push(buildSubjectLayerDefn(name_1,map))}}if(0==maps.length)throw new error_1.MgError("No Map Definition or subject layer found in Application Definition");return maps}exports.buildSubjectLayerDefn=buildSubjectLayerDefn,exports.getMapDefinitionsFromFlexLayout=getMapDefinitionsFromFlexLayout,exports.isStateless=function isStateless(appDef){var _a;if("true"==(null===(_a=appDef.Extension)||void 0===_a?void 0:_a.Stateless))return!0;try{return 0==getMapDefinitionsFromFlexLayout(appDef).length}catch(e){return!0}};var ViewerInitCommand=function(){function ViewerInitCommand(dispatch){this.dispatch=dispatch}return ViewerInitCommand.prototype.initLocaleAsync=function(options){return(0,tslib_1.__awaiter)(this,void 0,void 0,(function(){var locale,r,res;return(0,tslib_1.__generator)(this,(function(_a){switch(_a.label){case 0:return(locale=options.locale)==i18n_1.DEFAULT_LOCALE?[3,4]:[4,fetch("strings/"+locale+".json")];case 1:return(r=_a.sent()).ok?[4,r.json()]:[3,3];case 2:return res=_a.sent(),(0,i18n_1.registerStringBundle)(locale,res),this.dispatch({type:actions_1.ActionType.SET_LOCALE,payload:locale}),(0,logger_1.info)("Registered string bundle for locale: "+locale),[3,4];case 3:(0,logger_1.warn)("Failed to register string bundle for locale: "+locale),_a.label=4;case 4:return[2]}}))}))},ViewerInitCommand.prototype.getExtraProjectionsFromFlexLayout=function(appDef){for(var epsgs=[],_i=0,_a=appDef.WidgetSet;_i<_a.length;_i++)for(var _b=0,_c=_a[_i].Widget;_b<_c.length;_b++){var w=_c[_b];if("CoordinateTracker"==w.Type)for(var _d=0,ps_1=w.Extension.Projection||[];_d<ps_1.length;_d++){var p=ps_1[_d];epsgs.push(p.split(":")[1])}else if("CursorPosition"==w.Type){var dp=w.Extension.DisplayProjection;dp&&epsgs.push(dp.split(":")[1])}}return(0,array_1.makeUnique)(epsgs)},ViewerInitCommand.prototype.initFromAppDefCoreAsync=function(appDef,options,mapsByName,warnings){return(0,tslib_1.__awaiter)(this,void 0,void 0,(function(){var _a,taskPane,hasTaskBar,hasStatus,hasNavigator,hasSelectionPanel,hasLegend,viewSize,widgetsByKey,isStateless,initialTask,locale,featureTooltipsEnabled,config,tbConf,_i,_b,widgetSet,_c,_d,cont,tbName,_e,_f,w,mapsDict,maps,_g,firstMapName,firstSessionId,_h,tb;return(0,tslib_1.__generator)(this,(function(_j){for(_a=(0,command_spec_1.parseWidgetsInAppDef)(appDef,command_1.registerCommand),taskPane=_a.taskPane,hasTaskBar=_a.hasTaskBar,hasStatus=_a.hasStatus,hasNavigator=_a.hasNavigator,hasSelectionPanel=_a.hasSelectionPanel,hasLegend=_a.hasLegend,viewSize=_a.viewSize,widgetsByKey=_a.widgetsByKey,isStateless=_a.isStateless,initialTask=_a.initialTask,locale=options.locale,featureTooltipsEnabled=options.featureTooltipsEnabled,(config={}).isStateless=isStateless,tbConf={},_i=0,_b=appDef.WidgetSet;_i<_b.length;_i++){for(widgetSet=_b[_i],_c=0,_d=widgetSet.Container;_c<_d.length;_c++)cont=_d[_c],tbName=cont.Name,tbConf[tbName]={items:(0,command_spec_1.convertFlexLayoutUIItems)(isStateless,cont.Item,widgetsByKey,locale)};for(_e=0,_f=widgetSet.Widget;_e<_f.length;_e++)"CursorPosition"==(w=_f[_e]).Type&&(config.coordinateProjection=w.Extension.DisplayProjection,config.coordinateDecimals=w.Extension.Precision,config.coordinateDisplayFormat=w.Extension.Template)}return mapsDict=mapsByName,maps=this.setupMaps(appDef,mapsDict,config,warnings),appDef.Title&&(document.title=appDef.Title||document.title),_g=this.establishInitialMapNameAndSession(mapsDict),firstMapName=_g[0],firstSessionId=_g[1],_h=(0,command_spec_1.prepareSubMenus)(tbConf),tb=_h[0],_h[1]||warnings.push((0,i18n_1.tr)("INIT_WARNING_NO_CONTEXT_MENU",locale,{containerName:constants_1.WEBLAYOUT_CONTEXTMENU})),[2,(0,init_1.normalizeInitPayload)({activeMapName:firstMapName,initialUrl:(0,url_1.ensureParameters)(initialTask,firstMapName,firstSessionId,locale),featureTooltipsEnabled:featureTooltipsEnabled,locale:locale,maps:maps,config:config,capabilities:{hasTaskPane:null!=taskPane,hasTaskBar:hasTaskBar,hasStatusBar:hasStatus,hasNavigator:hasNavigator,hasSelectionPanel:hasSelectionPanel,hasLegend:hasLegend,hasToolbar:Object.keys(tbConf).length>0,hasViewSize:null!=viewSize},toolbars:tb,warnings:warnings,initialActiveTool:common_1.ActiveMapTool.Pan},options.layout)]}))}))},ViewerInitCommand}();exports.ViewerInitCommand=ViewerInitCommand},17594:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(68309),__webpack_require__(88674),__webpack_require__(41539),__webpack_require__(78783),__webpack_require__(66992),__webpack_require__(33948),__webpack_require__(21249),__webpack_require__(69826),__webpack_require__(92222),Object.defineProperty(exports,"__esModule",{value:!0}),exports.DefaultViewerInitCommand=void 0;var tslib_1=__webpack_require__(70655),common_1=__webpack_require__(18036),i18n_1=__webpack_require__(196),string_1=__webpack_require__(53775),client_1=__webpack_require__(61772),init_1=__webpack_require__(63611),request_builder_1=__webpack_require__(75549),logger_1=__webpack_require__(97838),error_1=__webpack_require__(59404),projections_1=__webpack_require__(36553),proj4_1=__webpack_require__(23148),proj4_2=(0,tslib_1.__importDefault)(__webpack_require__(96280)),init_command_1=__webpack_require__(10519),command_spec_1=__webpack_require__(62402),session_store_1=__webpack_require__(66445),shortid=(0,tslib_1.__importStar)(__webpack_require__(14670)),constants_1=__webpack_require__(12872),command_1=__webpack_require__(74130),url_1=__webpack_require__(7976),assert_1=__webpack_require__(47575),lazy_1=__webpack_require__(78027),type_guards_1=__webpack_require__(64726),DefaultViewerInitCommand=function(_super){function DefaultViewerInitCommand(dispatch){return _super.call(this,dispatch)||this}return(0,tslib_1.__extends)(DefaultViewerInitCommand,_super),DefaultViewerInitCommand.prototype.attachClient=function(client){this.client=client},DefaultViewerInitCommand.prototype.establishInitialMapNameAndSession=function(mapsByName){var firstMapName="",firstSessionId="";for(var mapName in mapsByName)if(!firstMapName&&!firstSessionId){var map=mapsByName[mapName];if((0,type_guards_1.isRuntimeMap)(map)){firstMapName=map.Name,firstSessionId=map.SessionId;break}}return[firstMapName,firstSessionId]},DefaultViewerInitCommand.prototype.getDesiredTargetMapName=function(mapDef){var lastSlash=mapDef.lastIndexOf("/"),lastDot=mapDef.lastIndexOf(".");return lastSlash>=0&&lastDot>=0&&lastDot>lastSlash?""+mapDef.substring(lastSlash+1,lastDot):"Map_"+shortid.generate()},DefaultViewerInitCommand.prototype.initFromWebLayoutAsync=function(webLayout,session,sessionWasReused){return(0,tslib_1.__awaiter)(this,void 0,void 0,(function(){var _a,mapsByName,warnings,_b,locale,featureTooltipsEnabled,cmdsByKey,mainToolbar,taskBar,contextMenu,config,maps,_c,firstMapName,firstSessionId,menus,tb,_this=this;return(0,tslib_1.__generator)(this,(function(_d){switch(_d.label){case 0:return[4,this.createRuntimeMapsAsync(session,webLayout,!1,(function(wl){return[{name:_this.getDesiredTargetMapName(wl.Map.ResourceId),mapDef:wl.Map.ResourceId,metadata:{}}]}),(function(){return[]}),sessionWasReused)];case 1:return _a=_d.sent(),mapsByName=_a[0],warnings=_a[1],_b=this.options,locale=_b.locale,featureTooltipsEnabled=_b.featureTooltipsEnabled,_b.externalBaseLayers,cmdsByKey=(0,command_spec_1.parseCommandsInWebLayout)(webLayout,command_1.registerCommand),mainToolbar=webLayout.ToolBar.Visible?(0,command_spec_1.convertWebLayoutUIItems)(webLayout.ToolBar.Button,cmdsByKey,locale):[],taskBar=webLayout.TaskPane.TaskBar.Visible?(0,command_spec_1.convertWebLayoutUIItems)(webLayout.TaskPane.TaskBar.MenuButton,cmdsByKey,locale,!1):[],contextMenu=webLayout.ContextMenu.Visible?(0,command_spec_1.convertWebLayoutUIItems)(webLayout.ContextMenu.MenuItem,cmdsByKey,locale,!1):[],config={},null!=webLayout.SelectionColor&&(config.selectionColor=webLayout.SelectionColor),null!=webLayout.MapImageFormat&&(config.imageFormat=webLayout.MapImageFormat),null!=webLayout.SelectionImageFormat&&(config.selectionImageFormat=webLayout.SelectionImageFormat),null!=webLayout.PointSelectionBuffer&&(config.pointSelectionBuffer=webLayout.PointSelectionBuffer),null,null!=webLayout.Map.InitialView&&{x:webLayout.Map.InitialView.CenterX,y:webLayout.Map.InitialView.CenterY,scale:webLayout.Map.InitialView.Scale},""!=webLayout.Title&&(document.title=webLayout.Title||document.title),maps={},_c=this.establishInitialMapNameAndSession(mapsByName),firstMapName=_c[0],firstSessionId=_c[1],(menus={})[constants_1.WEBLAYOUT_TOOLBAR]={items:mainToolbar},menus[constants_1.WEBLAYOUT_TASKMENU]={items:taskBar},menus[constants_1.WEBLAYOUT_CONTEXTMENU]={items:contextMenu},tb=(0,command_spec_1.prepareSubMenus)(menus)[0],[2,{activeMapName:firstMapName,featureTooltipsEnabled:featureTooltipsEnabled,initialUrl:(0,url_1.ensureParameters)(webLayout.TaskPane.InitialTask||"server/TaskPane.html",firstMapName,firstSessionId,locale),initialTaskPaneWidth:webLayout.TaskPane.Width,initialInfoPaneWidth:webLayout.InformationPane.Width,maps:maps,locale:locale,config:config,capabilities:{hasTaskPane:webLayout.TaskPane.Visible,hasTaskBar:webLayout.TaskPane.TaskBar.Visible,hasStatusBar:webLayout.StatusBar.Visible,hasNavigator:webLayout.ZoomControl.Visible,hasSelectionPanel:webLayout.InformationPane.Visible&&webLayout.InformationPane.PropertiesVisible,hasLegend:webLayout.InformationPane.Visible&&webLayout.InformationPane.LegendVisible,hasToolbar:webLayout.ToolBar.Visible,hasViewSize:webLayout.StatusBar.Visible},toolbars:tb,warnings:warnings,initialActiveTool:common_1.ActiveMapTool.Pan}]}}))}))},DefaultViewerInitCommand.prototype.tryDescribeRuntimeMapAsync=function(mapName,session,mapDef){return(0,tslib_1.__awaiter)(this,void 0,void 0,(function(){var _a,_b,e_1,_c,_d,_e,_f;return(0,tslib_1.__generator)(this,(function(_g){switch(_g.label){case 0:(0,assert_1.assertIsDefined)(this.client),_g.label=1;case 1:return _g.trys.push([1,4,,8]),_b=(_a=this.client).describeRuntimeMap,_e={mapname:mapName,requestedFeatures:request_builder_1.RuntimeMapFeatureFlags.LayerFeatureSources|request_builder_1.RuntimeMapFeatureFlags.LayerIcons|request_builder_1.RuntimeMapFeatureFlags.LayersAndGroups},[4,session.getValueAsync()];case 2:return[4,_b.apply(_a,[(_e.session=_g.sent(),_e)])];case 3:return[2,_g.sent()];case 4:return"MgResourceNotFoundException"!==(e_1=_g.sent()).message?[3,7]:(_d=(_c=this.client).createRuntimeMap,_f={mapDefinition:mapDef,requestedFeatures:request_builder_1.RuntimeMapFeatureFlags.LayerFeatureSources|request_builder_1.RuntimeMapFeatureFlags.LayerIcons|request_builder_1.RuntimeMapFeatureFlags.LayersAndGroups},[4,session.getValueAsync()]);case 5:return[4,_d.apply(_c,[(_f.session=_g.sent(),_f.targetMapName=mapName,_f)])];case 6:return[2,_g.sent()];case 7:throw e_1;case 8:return[2]}}))}))},DefaultViewerInitCommand.prototype.isMapDefinition=function(arg){return null!=arg.mapDef},DefaultViewerInitCommand.prototype.createRuntimeMapsAsync=function(session,res,isStateless,mapDefSelector,projectionSelector,sessionWasReused){return(0,tslib_1.__awaiter)(this,void 0,void 0,(function(){var mapDefs,mapPromises,warnings,locale,siteVersion,_i,mapDefs_1,siteVer,_a,mapDefs_2,_b,_c,_d,_e,maps,fetchEpsgs,_f,maps_1,m,epsg,mapDef,extraEpsgs,_g,extraEpsgs_1,e,mapsByName,_h,maps_2,map,_j,mapDefs_3,gs,_k,_this=this;return(0,tslib_1.__generator)(this,(function(_l){switch(_l.label){case 0:if(mapDefs=mapDefSelector(res),mapPromises=[],warnings=[],locale=this.options.locale,{},!isStateless)return[3,5];siteVersion=new lazy_1.AsyncLazy((function(){return(0,tslib_1.__awaiter)(_this,void 0,void 0,(function(){return(0,tslib_1.__generator)(this,(function(_a){switch(_a.label){case 0:return(0,assert_1.assertIsDefined)(this.client),[4,this.client.getSiteVersion()];case 1:return[2,_a.sent()]}}))}))})),_i=0,mapDefs_1=mapDefs,_l.label=1;case 1:return _i<mapDefs_1.length?(m=mapDefs_1[_i],this.isMapDefinition(m)?[4,siteVersion.getValueAsync()]:[3,3]):[3,4];case 2:siteVer=_l.sent(),(0,assert_1.assertIsDefined)(this.client),mapPromises.push(this.describeRuntimeMapStateless(this.client,siteVer.Version,m)),_l.label=3;case 3:return _i++,[3,1];case 4:return[3,10];case 5:_a=0,mapDefs_2=mapDefs,_l.label=6;case 6:return _a<mapDefs_2.length?(m=mapDefs_2[_a],this.isMapDefinition(m)?sessionWasReused?((0,logger_1.info)("Session ID re-used. Attempting recovery of map state of: "+m.name),mapPromises.push(this.tryDescribeRuntimeMapAsync(m.name,session,m.mapDef)),[3,9]):[3,7]:[3,9]):[3,10];case 7:return(0,logger_1.info)("Creating runtime map state ("+m.name+") for: "+m.mapDef),(0,assert_1.assertIsDefined)(this.client),_c=(_b=mapPromises).push,_e=(_d=this.client).createRuntimeMap,_k={mapDefinition:m.mapDef,requestedFeatures:request_builder_1.RuntimeMapFeatureFlags.LayerFeatureSources|request_builder_1.RuntimeMapFeatureFlags.LayerIcons|request_builder_1.RuntimeMapFeatureFlags.LayersAndGroups},[4,session.getValueAsync()];case 8:_c.apply(_b,[_e.apply(_d,[(_k.session=_l.sent(),_k.targetMapName=m.name,_k)])]),_l.label=9;case 9:return _a++,[3,6];case 10:return[4,Promise.all(mapPromises)];case 11:for(maps=_l.sent(),fetchEpsgs=[],_f=0,maps_1=maps;_f<maps_1.length;_f++){if(m=maps_1[_f],epsg=m.CoordinateSystem.EpsgCode,mapDef=m.MapDefinition,"0"==epsg)throw new error_1.MgError((0,i18n_1.tr)("INIT_ERROR_UNSUPPORTED_COORD_SYS",locale||i18n_1.DEFAULT_LOCALE,{mapDefinition:mapDef}));proj4_2.default.defs["EPSG:"+epsg]||fetchEpsgs.push({epsg:epsg,mapDef:mapDef})}for(extraEpsgs=projectionSelector(res),_g=0,extraEpsgs_1=extraEpsgs;_g<extraEpsgs_1.length;_g++)e=extraEpsgs_1[_g],fetchEpsgs.push({epsg:e,mapDef:""});return[4,Promise.all(fetchEpsgs.map((function(f){return(0,projections_1.resolveProjectionFromEpsgIoAsync)(f.epsg,locale,f.mapDef)})))];case 12:for(_l.sent(),(0,logger_1.debug)("Register proj4 with OpenLayers"),(0,proj4_1.register)(proj4_2.default),mapsByName={},_h=0,maps_2=maps;_h<maps_2.length;_h++)map=maps_2[_h],mapsByName[map.Name]=map;for(_j=0,mapDefs_3=mapDefs;_j<mapDefs_3.length;_j++)gs=mapDefs_3[_j],this.isMapDefinition(gs)||(mapsByName[gs.name]=gs);return[2,[mapsByName,warnings]]}}))}))},DefaultViewerInitCommand.prototype.describeRuntimeMapStateless=function(client,siteVersion,m){var _a,_b,_c;return(0,tslib_1.__awaiter)(this,void 0,void 0,(function(){var name,mapDef,metadata,mdf,rt,groups,layers,tsd,sTileWidth,sTileHeight,_i,_d,bg,_e,_f,_g,_h,grp,_j,_k,lyr;return(0,tslib_1.__generator)(this,(function(_l){switch(_l.label){case 0:return name=m.name,mapDef=m.mapDef,metadata=m.metadata,[4,null===(_a=this.client)||void 0===_a?void 0:_a.getResource(mapDef,{username:"Anonymous"})];case 1:if(!(mdf=_l.sent()))throw new Error("Failed to fetch map def");return rt={SessionId:"",Extents:{LowerLeftCoordinate:{X:mdf.Extents.MinX,Y:mdf.Extents.MinY},UpperRightCoordinate:{X:mdf.Extents.MaxX,Y:mdf.Extents.MaxY}},SiteVersion:siteVersion,Name:name,DisplayDpi:96,BackgroundColor:mdf.BackgroundColor,MapDefinition:mapDef,CoordinateSystem:{MentorCode:metadata.MentorCode,EpsgCode:metadata.EpsgCode,MetersPerUnit:metadata.MetersPerUnit,Wkt:mdf.CoordinateSystem},IconMimeType:"image/png"},groups=[],layers=[],mdf.TileSetSource?(rt.TileSetDefinition=mdf.TileSetSource.ResourceId,[4,client.getResource(mdf.TileSetSource.ResourceId)]):[3,3];case 2:for("Default"==(tsd=_l.sent()).TileStoreParameters.TileProvider?(sTileWidth=null===(_b=tsd.TileStoreParameters.Parameter.find((function(p){return"TileWidth"==p.Name})))||void 0===_b?void 0:_b.Value,sTileHeight=null===(_c=tsd.TileStoreParameters.Parameter.find((function(p){return"TileHeight"==p.Name})))||void 0===_c?void 0:_c.Value,(0,string_1.strIsNullOrEmpty)(sTileWidth)||(0,string_1.strIsNullOrEmpty)(sTileHeight)||(rt.TileWidth=parseInt(sTileWidth,10),rt.TileHeight=parseInt(sTileHeight,10))):"XYZ"==tsd.TileStoreParameters.TileProvider&&(rt.TileHeight=256,rt.TileHeight=256),_i=0,_d=tsd.BaseMapLayerGroup;_i<_d.length;_i++)for(bg=_d[_i],groups.push({Name:bg.Name,DisplayInLegend:bg.ShowInLegend,LegendLabel:bg.LegendLabel,ObjectId:bg.Name,ExpandInLegend:bg.ExpandInLegend,Visible:bg.Visible,ActuallyVisible:bg.Visible,Type:3}),_e=0,_f=bg.BaseMapLayer;_e<_f.length;_e++)lyr=_f[_e],layers.push({Name:lyr.Name,DisplayInLegend:lyr.ShowInLegend,Selectable:!1,LegendLabel:lyr.LegendLabel,ExpandInLegend:lyr.ExpandInLegend,Visible:!0,ParentId:bg.Name,ActuallyVisible:!0,LayerDefinition:lyr.ResourceId,ObjectId:lyr.Name,Type:2});_l.label=3;case 3:for(_g=0,_h=mdf.MapLayerGroup;_g<_h.length;_g++)grp=_h[_g],groups.push({Name:grp.Name,DisplayInLegend:grp.ShowInLegend,LegendLabel:grp.LegendLabel,ObjectId:grp.Name,ExpandInLegend:grp.ExpandInLegend,Visible:grp.Visible,ActuallyVisible:grp.Visible,Type:1});for(_j=0,_k=mdf.MapLayer;_j<_k.length;_j++)lyr=_k[_j],layers.push({Name:lyr.Name,DisplayInLegend:lyr.ShowInLegend,Selectable:!1,LegendLabel:lyr.LegendLabel,ExpandInLegend:lyr.ExpandInLegend,Visible:!0,ParentId:lyr.Group,ActuallyVisible:!0,LayerDefinition:lyr.ResourceId,ObjectId:lyr.Name,Type:1});return rt.Group=groups,rt.Layer=layers,[2,rt]}}))}))},DefaultViewerInitCommand.prototype.setupMaps=function(appDef,mapsByName,config,warnings){var dict={};if(appDef.MapSet)for(var _i=0,_a=appDef.MapSet.MapGroup;_i<_a.length;_i++){for(var mGroup=_a[_i],mapName=void 0,initExternalLayers=[],externalBaseLayers=[],_b=0,_c=mGroup.Map;_b<_c.length;_b++){var map=_c[_b];if("MapGuide"===map.Type)for(var name_1 in config.selectionColor||null==map.Extension.SelectionColor||(config.selectionColor=map.Extension.SelectionColor),config.imageFormat||null==map.Extension.ImageFormat||(config.imageFormat=map.Extension.ImageFormat),config.selectionImageFormat||null==map.Extension.SelectionFormat||(config.selectionImageFormat=map.Extension.SelectionFormat),mapsByName){var mapDef=mapsByName[name_1];if((0,type_guards_1.isRuntimeMap)(mapDef)&&mapDef.MapDefinition==map.Extension.ResourceId){mapName=name_1;break}}else"SubjectLayer"==map.Type?mapName=mGroup["@id"]:"External"==map.Type?initExternalLayers.push((0,init_command_1.buildSubjectLayerDefn)(map.Extension.layer_name,map)):(0,init_1.processLayerInMapGroup)(map,warnings,config,appDef,externalBaseLayers)}(0,init_1.applyInitialBaseLayerVisibility)(externalBaseLayers);var initialView=void 0;mGroup.InitialView&&(initialView={x:mGroup.InitialView.CenterX,y:mGroup.InitialView.CenterY,scale:mGroup.InitialView.Scale}),mapName&&(dict[mapName]={mapGroupId:mGroup["@id"],map:mapsByName[mapName],initialView:initialView,externalBaseLayers:externalBaseLayers,initialExternalLayers:initExternalLayers})}return dict},DefaultViewerInitCommand.prototype.initFromAppDefAsync=function(appDef,session,sessionWasReused){return(0,tslib_1.__awaiter)(this,void 0,void 0,(function(){var _a,mapsByName,warnings,_this=this;return(0,tslib_1.__generator)(this,(function(_b){switch(_b.label){case 0:return[4,this.createRuntimeMapsAsync(session,appDef,(0,init_command_1.isStateless)(appDef),(function(fl){return(0,init_command_1.getMapDefinitionsFromFlexLayout)(fl)}),(function(fl){return _this.getExtraProjectionsFromFlexLayout(fl)}),sessionWasReused)];case 1:return _a=_b.sent(),mapsByName=_a[0],warnings=_a[1],[4,this.initFromAppDefCoreAsync(appDef,this.options,mapsByName,warnings)];case 2:return[2,_b.sent()]}}))}))},DefaultViewerInitCommand.prototype.sessionAcquiredAsync=function(session,sessionWasReused){return(0,tslib_1.__awaiter)(this,void 0,void 0,(function(){var _a,resourceId,locale,wl,_b,_c,_d,_e,_f,_g,cl,fl,_h,_j;return(0,tslib_1.__generator)(this,(function(_k){switch(_k.label){case 0:if(_a=this.options,resourceId=_a.resourceId,locale=_a.locale,resourceId)return[3,6];cl=new client_1.Client("","mapagent"),_k.label=1;case 1:return _k.trys.push([1,4,,5]),[4,cl.get("appdef.json")];case 2:return fl=_k.sent(),[4,this.initFromAppDefAsync(fl,session,sessionWasReused)];case 3:return[2,_k.sent()];case 4:throw _k.sent(),new error_1.MgError((0,i18n_1.tr)("INIT_ERROR_MISSING_RESOURCE_PARAM",locale));case 5:return[3,25];case 6:return"string"!=typeof resourceId?[3,22]:(0,string_1.strEndsWith)(resourceId,"WebLayout")?((0,assert_1.assertIsDefined)(this.client),_c=(_b=this.client).getResource,_d=[resourceId],_h={},[4,session.getValueAsync()]):[3,10];case 7:return[4,_c.apply(_b,_d.concat([(_h.SESSION=_k.sent(),_h)]))];case 8:return wl=_k.sent(),[4,this.initFromWebLayoutAsync(wl,session,sessionWasReused)];case 9:return[2,_k.sent()];case 10:return(0,string_1.strEndsWith)(resourceId,"ApplicationDefinition")?((0,assert_1.assertIsDefined)(this.client),_f=(_e=this.client).getResource,_g=[resourceId],_j={},[4,session.getValueAsync()]):[3,14];case 11:return[4,_f.apply(_e,_g.concat([(_j.SESSION=_k.sent(),_j)]))];case 12:return fl=_k.sent(),[4,this.initFromAppDefAsync(fl,session,sessionWasReused)];case 13:return[2,_k.sent()];case 14:if(!(0,string_1.isResourceId)(resourceId))return[3,15];throw new error_1.MgError((0,i18n_1.tr)("INIT_ERROR_UNKNOWN_RESOURCE_TYPE",locale,{resourceId:resourceId}));case 15:return fl=void 0,this.client?[3,17]:[4,(cl=new client_1.Client("","mapagent")).get(resourceId)];case 16:return fl=_k.sent(),[3,19];case 17:return[4,this.client.get(resourceId)];case 18:fl=_k.sent(),_k.label=19;case 19:return[4,this.initFromAppDefAsync(fl,session,sessionWasReused)];case 20:return[2,_k.sent()];case 21:return[3,25];case 22:return[4,resourceId()];case 23:return fl=_k.sent(),[4,this.initFromAppDefAsync(fl,session,sessionWasReused)];case 24:return[2,_k.sent()];case 25:return[2]}}))}))},DefaultViewerInitCommand.prototype.runAsync=function(options){return(0,tslib_1.__awaiter)(this,void 0,void 0,(function(){var sessionWasReused,session,payload,initSelections,_a,_b,_i,mapName,sset,_this=this;return(0,tslib_1.__generator)(this,(function(_c){switch(_c.label){case 0:return this.options=options,[4,this.initLocaleAsync(this.options)];case 1:return _c.sent(),sessionWasReused=!1,this.options.session?((0,logger_1.info)("Re-using session: "+this.options.session),sessionWasReused=!0,session=new lazy_1.AsyncLazy((function(){return Promise.resolve(_this.options.session)}))):session=new lazy_1.AsyncLazy((function(){return(0,tslib_1.__awaiter)(_this,void 0,void 0,(function(){return(0,tslib_1.__generator)(this,(function(_a){switch(_a.label){case 0:return(0,assert_1.assertIsDefined)(this.client),[4,this.client.createSession("Anonymous","")];case 1:return[2,_a.sent()]}}))}))})),[4,this.sessionAcquiredAsync(session,sessionWasReused)];case 2:if(payload=_c.sent(),!sessionWasReused)return[3,10];for(_b in initSelections={},_a=[],payload.maps)_a.push(_b);_i=0,_c.label=3;case 3:return _i<_a.length?(mapName=_a[_i],[4,(0,session_store_1.retrieveSelectionSetFromLocalStorage)(session,mapName)]):[3,6];case 4:(sset=_c.sent())&&(initSelections[mapName]=sset),_c.label=5;case 5:return _i++,[3,3];case 6:payload.initialSelections=initSelections,_c.label=7;case 7:return _c.trys.push([7,9,,10]),[4,(0,session_store_1.clearSessionStore)()];case 8:return _c.sent(),[3,10];case 9:return _c.sent(),[3,10];case 10:return[2,payload]}}))}))},DefaultViewerInitCommand}(init_command_1.ViewerInitCommand);exports.DefaultViewerInitCommand=DefaultViewerInitCommand},63611:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(69826),__webpack_require__(57327),__webpack_require__(23123),__webpack_require__(74916),__webpack_require__(68309),__webpack_require__(21249),Object.defineProperty(exports,"__esModule",{value:!0}),exports.acknowledgeInitWarnings=exports.initLayout=exports.processLayerInMapGroup=exports.normalizeInitPayload=exports.applyInitialBaseLayerVisibility=void 0;var tslib_1=__webpack_require__(70655),client_1=__webpack_require__(61772),string_1=__webpack_require__(53775),actions_1=__webpack_require__(4485),runtime_1=__webpack_require__(49538),i18n_1=__webpack_require__(196),layout_1=__webpack_require__(97881),logger_1=__webpack_require__(97838);exports.applyInitialBaseLayerVisibility=function applyInitialBaseLayerVisibility(externalBaseLayers){if(externalBaseLayers.length>0){var firstBase=externalBaseLayers.find((function(bl){return"UTFGrid"!=bl.kind}));firstBase&&(firstBase.visible=!0);for(var _i=0,nonVisuals_1=externalBaseLayers.filter((function(bl){return"UTFGrid"==bl.kind}));_i<nonVisuals_1.length;_i++){nonVisuals_1[_i].visible=!0}}},exports.normalizeInitPayload=function normalizeInitPayload(payload,layout){if(!(0,string_1.strIsNullOrEmpty)(layout)){var caps=(0,layout_1.getLayoutCapabilities)(layout);caps&&(caps.hasTaskPane||((0,logger_1.debug)("Overriding hasTaskPane capability to false"),payload.capabilities.hasTaskPane=!1))}return payload};var _counter=0;exports.processLayerInMapGroup=function processLayerInMapGroup(map,warnings,config,appDef,externalBaseLayers){switch(map.Type){case"Google":warnings.push((0,i18n_1.tr)("INIT_WARNING_UNSUPPORTED_GOOGLE_MAPS",config.locale));break;case"VirtualEarth":var _a=map.Extension.Options,name_1=_a.name,type=_a.type,sName=Array.isArray(name_1)?name_1[0]:name_1,options={},bAdd=!0;switch(sType=Array.isArray(type)?type[0]:type){case"Aerial":case"a":options.imagerySet="Aerial";break;case"AerialWithLabels":options.imagerySet="AerialWithLabels";break;case"Road":options.imagerySet="Road";break;default:bAdd=!1,warnings.push((0,i18n_1.tr)("INIT_WARNING_BING_UNKNOWN_LAYER",config.locale,{type:type}))}appDef.Extension.BingMapKey?options.key=appDef.Extension.BingMapKey:(bAdd=!1,warnings.push((0,i18n_1.tr)("INIT_WARNING_BING_API_KEY_REQD",config.locale))),bAdd&&externalBaseLayers.push({name:sName,kind:"BingMaps",options:options});break;case"OpenStreetMap":var _b=map.Extension.Options,name_2=_b.name;type=_b.type,sName=Array.isArray(name_2)?name_2[0]:name_2,options={};switch(sType=Array.isArray(type)?type[0]:type){case"CycleMap":options.url="http://{a-c}.tile.opencyclemap.org/cycle/{z}/{x}/{y}.png";break;case"TransportMap":options.url="http://tile2.opencyclemap.org/transport/{z}/{x}/{y}.png"}externalBaseLayers.push({name:sName,kind:"OSM",options:options});break;case"Stamen":var _c=map.Extension.Options,name_3=_c.name,sType=(type=_c.type,sName=Array.isArray(name_3)?name_3[0]:name_3,Array.isArray(type)?type[0]:type);externalBaseLayers.push({name:sName,kind:"Stamen",options:{layer:sType}});break;case"UTFGrid":externalBaseLayers.push({name:"UTFGridSource"+_counter++,kind:"UTFGrid",options:{tileJSON:{scheme:"xyz",grids:Array.isArray(map.Extension.UrlTemplate)?(0,tslib_1.__spreadArray)([],map.Extension.UrlTemplate,!0):[map.Extension.UrlTemplate]}}});break;case"XYZ":var _d=map.Extension.Options,name_4=_d.name,attributions=(type=_d.type,_d.attributions),tilePixelRatio=(sName=Array.isArray(name_4)?name_4[0]:name_4,sType=Array.isArray(type)?type[0]:type,1);map.Extension.Options.tilePixelRatio&&(tilePixelRatio=parseInt(map.Extension.Options.tilePixelRatio[0],10));var urls=(map.Extension.Options.urls||[]).map((function(s){return(0,string_1.strReplaceAll)(s,"${","{")}));externalBaseLayers.push({name:sName,kind:"XYZ",options:{layer:sType,urls:urls,attributions:attributions,tilePixelRatio:tilePixelRatio}})}},exports.initLayout=function initLayout(cmd,options){var opts=(0,tslib_1.__assign)({},options);return function(dispatch,getState){var args=getState().config;if(args.agentUri&&args.agentKind){var client=new client_1.Client(args.agentUri,args.agentKind);cmd.attachClient(client)}cmd.runAsync(options).then((function(payload){var initPayload=payload;if(opts.initialView&&(initPayload.initialView=(0,tslib_1.__assign)({},opts.initialView)),opts.initialActiveMap&&(initPayload.activeMapName=opts.initialActiveMap),initPayload.initialHideGroups=opts.initialHideGroups,initPayload.initialHideLayers=opts.initialHideLayers,initPayload.initialShowGroups=opts.initialShowGroups,initPayload.initialShowLayers=opts.initialShowLayers,initPayload.featureTooltipsEnabled=opts.featureTooltipsEnabled,dispatch({type:actions_1.ActionType.INIT_APP,payload:payload}),options.onInit){var viewer=(0,runtime_1.getViewer)();viewer&&options.onInit(viewer)}})).catch((function(err){!function processAndDispatchInitError(error,includeStack,dispatch,opts){error.stack?dispatch({type:actions_1.ActionType.INIT_ERROR,payload:{error:{message:error.message,stack:(error.stack||"").split("\n")},includeStack:includeStack,options:opts}}):dispatch({type:actions_1.ActionType.INIT_ERROR,payload:{error:{message:error.message,stack:[]},includeStack:includeStack,options:opts}})}(err,!1,dispatch,opts)}))}},exports.acknowledgeInitWarnings=function acknowledgeInitWarnings(){return{type:actions_1.ActionType.INIT_ACKNOWLEDGE_WARNINGS}}},24774:function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.refresh=exports.setLayerSelectable=exports.setGroupExpanded=exports.setLayerVisibility=exports.setGroupVisibility=void 0;var tslib_1=__webpack_require__(70655),client_1=__webpack_require__(61772),request_builder_1=__webpack_require__(75549),common_1=__webpack_require__(18036),actions_1=__webpack_require__(4485);exports.setGroupVisibility=function setGroupVisibility(mapName,options){return{type:actions_1.ActionType.LEGEND_SET_GROUP_VISIBILITY,payload:(0,tslib_1.__assign)((0,tslib_1.__assign)({},options),{mapName:mapName})}},exports.setLayerVisibility=function setLayerVisibility(mapName,options){return{type:actions_1.ActionType.LEGEND_SET_LAYER_VISIBILITY,payload:(0,tslib_1.__assign)((0,tslib_1.__assign)({},options),{mapName:mapName})}},exports.setGroupExpanded=function setGroupExpanded(mapName,options){return{type:actions_1.ActionType.LEGEND_SET_GROUP_EXPANDABLE,payload:(0,tslib_1.__assign)((0,tslib_1.__assign)({},options),{mapName:mapName})}},exports.setLayerSelectable=function setLayerSelectable(mapName,options){return{type:actions_1.ActionType.LEGEND_SET_LAYER_SELECTABLE,payload:(0,tslib_1.__assign)((0,tslib_1.__assign)({},options),{mapName:mapName})}},exports.refresh=function refresh(){return function(dispatch,getState){var state=getState(),args=state.config,map=(0,common_1.getRuntimeMap)(state);map&&args.agentUri&&args.agentKind&&new client_1.Client(args.agentUri,args.agentKind).describeRuntimeMap({mapname:map.Name,session:map.SessionId,requestedFeatures:request_builder_1.RuntimeMapFeatureFlags.LayerFeatureSources|request_builder_1.RuntimeMapFeatureFlags.LayerIcons|request_builder_1.RuntimeMapFeatureFlags.LayersAndGroups}).then((function(res){args.activeMapName&&dispatch({type:actions_1.ActionType.MAP_REFRESH,payload:{mapName:args.activeMapName,map:res}})}))}}},83552:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(57327),__webpack_require__(92222),Object.defineProperty(exports,"__esModule",{value:!0}),exports.clearClientSelection=exports.addClientSelectedFeature=exports.removeMapLayerBusyWorker=exports.addMapLayerBusyWorker=exports.setMapLayerVectorStyle=exports.setMapLayerVisibility=exports.setHeatmapLayerRadius=exports.setHeatmapLayerBlur=exports.setMapLayerOpacity=exports.setMapLayerIndex=exports.removeMapLayer=exports.externalLayersReady=exports.mapLayerAdded=exports.showSelectedFeature=exports.setViewRotationEnabled=exports.setViewRotation=exports.setManualFeatureTooltipsEnabled=exports.setFeatureTooltipsEnabled=exports.setActiveMap=exports.setActiveTool=exports.nextView=exports.previousView=exports.setViewSizeUnits=exports.setLayerTransparency=exports.setMouseCoordinates=exports.setScale=exports.setBaseLayer=exports.setBusyCount=exports.invokeCommand=exports.setSelection=exports.mapResized=exports.setCurrentView=exports.queryMapFeatures=void 0;var tslib_1=__webpack_require__(70655),common_1=__webpack_require__(18036),runtime_1=__webpack_require__(49538),number_1=__webpack_require__(96632),client_1=__webpack_require__(61772),deArrayify_1=__webpack_require__(99729),array_1=__webpack_require__(24698),actions_1=__webpack_require__(4485),session_store_1=__webpack_require__(66445),site_version_1=__webpack_require__(98355),viewer_state_1=__webpack_require__(39116);function combineSelectedFeatureSets(oldRes,newRes){if(null==oldRes)return newRes;for(var merged={SelectedLayer:[]},_i=0,_a=oldRes.SelectedLayer;_i<_a.length;_i++){var layer=_a[_i];merged.SelectedLayer.push(layer)}if(newRes)for(var _loop_2=function _loop_2(layer){var layerId=layer["@id"],layerName=layer["@name"],existing=merged.SelectedLayer.filter((function(l){return l["@id"]==layerId&&l["@name"]==layerName}));0==existing.length?merged.SelectedLayer.push(layer):existing[0].Feature=function combineSelectedFeatures(oldRes,newRes){for(var merged=[],_i=0,oldRes_1=oldRes;_i<oldRes_1.length;_i++){var feat=oldRes_1[_i];merged.push(feat)}for(var _loop_1=function _loop_1(feat){0==merged.filter((function(f){for(var _i=0,_a=f.Property;_i<_a.length;_i++)for(var p=_a[_i],_b=0,_c=feat.Property;_b<_c.length;_b++){var np=_c[_b];if(p.Name==np.Name&&p.Value!=np.Value)return!1}return!0})).length&&merged.push(feat)},_a=0,newRes_1=newRes;_a<newRes_1.length;_a++)_loop_1(feat=newRes_1[_a]);return merged}(existing[0].Feature,layer.Feature)},_b=0,_c=newRes.SelectedLayer;_b<_c.length;_b++){_loop_2(layer=_c[_b])}return merged}function combineFeatureSets(oldRes,newRes){if(null==oldRes)return newRes;for(var merged={Layer:[]},_i=0,_a=oldRes.Layer;_i<_a.length;_i++){var layer=_a[_i];merged.Layer.push(layer)}if(newRes)for(var _loop_3=function _loop_3(layer){var layerId=layer["@id"],existing=merged.Layer.filter((function(l){return l["@id"]==layerId}));0==existing.length?merged.Layer.push(layer):existing[0].Class.ID=(0,array_1.makeUnique)(existing[0].Class.ID.concat(layer.Class.ID))},_b=0,_c=newRes.Layer;_b<_c.length;_b++){_loop_3(layer=_c[_b])}return merged}function setSelection(mapName,selectionSet){return{type:actions_1.ActionType.MAP_SET_SELECTION,payload:{mapName:mapName,selection:selectionSet}}}exports.queryMapFeatures=function queryMapFeatures(mapName,opts){return function(dispatch,getState){var state=getState(),args=state.config,map=(0,common_1.getRuntimeMap)(state),selectionSet=(0,common_1.getSelectionSet)(state);if(map&&args.agentKind&&args.agentUri){var client_2=new client_1.Client(args.agentUri,args.agentKind),success_1=function success_1(res){null!=opts.callback&&opts.callback(res)},sv=(0,site_version_1.getSiteVersion)(map),queryOp_1=(0,site_version_1.canUseQueryMapFeaturesV4)(sv)?function(opts){return client_2.queryMapFeatures_v4(opts)}:function(opts){return client_2.queryMapFeatures(opts)};queryOp_1(opts.options).then((function(res){if(1===opts.options.persist)if(!0===opts.append){var combined_1=function combineSelections(oldRes,newRes){return oldRes?{SelectedFeatures:combineSelectedFeatureSets(oldRes.SelectedFeatures,newRes.SelectedFeatures),FeatureSet:combineFeatureSets(oldRes.FeatureSet,newRes.FeatureSet),Hyperlink:void 0,InlineSelectionImage:void 0}:newRes}(selectionSet,res),mergedXml=(0,deArrayify_1.buildSelectionXml)(combined_1.FeatureSet);queryOp_1({session:map.SessionId,mapname:map.Name,persist:1,featurefilter:mergedXml}).then((function(){(0,session_store_1.persistSelectionSetToLocalStorage)(map.SessionId,mapName,combined_1),dispatch(setSelection(mapName,combined_1)),success_1(combined_1)}))}else(0,session_store_1.persistSelectionSetToLocalStorage)(map.SessionId,mapName,res),dispatch(setSelection(mapName,res)),success_1(res);else success_1(res)})).catch((function failure(err){null!=opts.errBack&&opts.errBack(err)}))}}},exports.setCurrentView=function setCurrentView(view){return function(dispatch,getState){var _a,_b,state=getState(),currentView=(0,common_1.getCurrentView)(state),newView=(0,tslib_1.__assign)({},view),mapName=state.config.activeMapName,dispatchThis=!0;if(currentView&&mapName){var mapState=state.mapState[mapName],fs=null===(_b=null===(_a=null==mapState?void 0:mapState.mapguide)||void 0===_a?void 0:_a.runtimeMap)||void 0===_b?void 0:_b.FiniteDisplayScale;if(fs&&fs.length>0){var fi=(0,number_1.getFiniteScaleIndexForScale)(fs,newView.scale);newView.scale=fs[fi]}(0,viewer_state_1.areViewsCloseToEqual)(currentView,newView)&&(dispatchThis=!1)}dispatchThis&&mapName&&dispatch({type:actions_1.ActionType.MAP_SET_VIEW,payload:{mapName:mapName,view:newView}})}},exports.mapResized=function mapResized(width,height){return{type:actions_1.ActionType.MAP_RESIZED,payload:{width:width,height:height}}},exports.setSelection=setSelection,exports.invokeCommand=function invokeCommand(cmd,parameters){return function(dispatch,getState){return cmd.invoke(dispatch,getState,(0,runtime_1.getViewer)(),parameters)}},exports.setBusyCount=function setBusyCount(busyCount){return{type:actions_1.ActionType.MAP_SET_BUSY_COUNT,payload:busyCount}},exports.setBaseLayer=function setBaseLayer(mapName,layerName){return{type:actions_1.ActionType.MAP_SET_BASE_LAYER,payload:{mapName:mapName,layerName:layerName}}},exports.setScale=function setScale(mapName,scale){var resolution,viewer=(0,runtime_1.getViewer)();return viewer&&(resolution=viewer.scaleToResolution(scale)),{type:actions_1.ActionType.MAP_SET_SCALE,payload:{mapName:mapName,scale:scale,resolution:resolution}}},exports.setMouseCoordinates=function setMouseCoordinates(mapName,coord){return{type:actions_1.ActionType.UPDATE_MOUSE_COORDINATES,payload:{mapName:mapName,coord:coord}}},exports.setLayerTransparency=function setLayerTransparency(mapName,layerName,opacity){return{type:actions_1.ActionType.MAP_SET_LAYER_TRANSPARENCY,payload:{mapName:mapName,layerName:layerName,opacity:opacity}}},exports.setViewSizeUnits=function setViewSizeUnits(unit){return{type:actions_1.ActionType.MAP_SET_VIEW_SIZE_UNITS,payload:unit}},exports.previousView=function previousView(mapName){return{type:actions_1.ActionType.MAP_PREVIOUS_VIEW,payload:{mapName:mapName}}},exports.nextView=function nextView(mapName){return{type:actions_1.ActionType.MAP_NEXT_VIEW,payload:{mapName:mapName}}},exports.setActiveTool=function setActiveTool(tool){return{type:actions_1.ActionType.MAP_SET_ACTIVE_TOOL,payload:tool}},exports.setActiveMap=function setActiveMap(mapName){return{type:actions_1.ActionType.MAP_SET_ACTIVE_MAP,payload:mapName}},exports.setFeatureTooltipsEnabled=function setFeatureTooltipsEnabled(enabled){return{type:actions_1.ActionType.MAP_SET_MAPTIP,payload:enabled}},exports.setManualFeatureTooltipsEnabled=function setManualFeatureTooltipsEnabled(enabled){return{type:actions_1.ActionType.MAP_SET_MANUAL_MAPTIP,payload:enabled}},exports.setViewRotation=function setViewRotation(rotation){return{type:actions_1.ActionType.MAP_SET_VIEW_ROTATION,payload:rotation}},exports.setViewRotationEnabled=function setViewRotationEnabled(enabled){return{type:actions_1.ActionType.MAP_SET_VIEW_ROTATION_ENABLED,payload:enabled}},exports.showSelectedFeature=function showSelectedFeature(mapName,layerId,selectionKey){return{type:actions_1.ActionType.MAP_SHOW_SELECTED_FEATURE,payload:{mapName:mapName,layerId:layerId,selectionKey:selectionKey}}},exports.mapLayerAdded=function mapLayerAdded(mapName,layer,defaultStyle){return{type:actions_1.ActionType.LAYER_ADDED,payload:{mapName:mapName,layer:layer,defaultStyle:defaultStyle}}},exports.externalLayersReady=function externalLayersReady(mapName){return{type:actions_1.ActionType.EXTERNAL_LAYERS_READY,payload:{mapName:mapName}}},exports.removeMapLayer=function removeMapLayer(mapName,layerName){return{type:actions_1.ActionType.REMOVE_LAYER,payload:{mapName:mapName,layerName:layerName}}},exports.setMapLayerIndex=function setMapLayerIndex(mapName,layerName,index){return{type:actions_1.ActionType.SET_LAYER_INDEX,payload:{mapName:mapName,layerName:layerName,index:index}}},exports.setMapLayerOpacity=function setMapLayerOpacity(mapName,layerName,opacity){return{type:actions_1.ActionType.SET_LAYER_OPACITY,payload:{mapName:mapName,layerName:layerName,opacity:opacity}}},exports.setHeatmapLayerBlur=function setHeatmapLayerBlur(mapName,layerName,blur){return{type:actions_1.ActionType.SET_HEATMAP_LAYER_BLUR,payload:{mapName:mapName,layerName:layerName,blur:blur}}},exports.setHeatmapLayerRadius=function setHeatmapLayerRadius(mapName,layerName,radius){return{type:actions_1.ActionType.SET_HEATMAP_LAYER_RADIUS,payload:{mapName:mapName,layerName:layerName,radius:radius}}},exports.setMapLayerVisibility=function setMapLayerVisibility(mapName,layerName,visible){return{type:actions_1.ActionType.SET_LAYER_VISIBILITY,payload:{mapName:mapName,layerName:layerName,visible:visible}}},exports.setMapLayerVectorStyle=function setMapLayerVectorStyle(mapName,layerName,style,which){return{type:actions_1.ActionType.SET_LAYER_VECTOR_STYLE,payload:{mapName:mapName,layerName:layerName,style:style,which:which}}},exports.addMapLayerBusyWorker=function addMapLayerBusyWorker(mapName,layerName){return{type:actions_1.ActionType.ADD_LAYER_BUSY_WORKER,payload:{mapName:mapName,layerName:layerName}}},exports.removeMapLayerBusyWorker=function removeMapLayerBusyWorker(mapName,layerName){return{type:actions_1.ActionType.REMOVE_LAYER_BUSY_WORKER,payload:{mapName:mapName,layerName:layerName}}},exports.addClientSelectedFeature=function addClientSelectedFeature(mapName,layerName,feature){return{type:actions_1.ActionType.MAP_ADD_CLIENT_SELECTED_FEATURE,payload:{mapName:mapName,layerName:layerName,feature:feature}}},exports.clearClientSelection=function clearClientSelection(mapName){return{type:actions_1.ActionType.MAP_CLEAR_CLIENT_SELECTION,payload:{mapName:mapName}}}},6136:function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.hideModal=exports.showModalUrl=exports.showModalComponent=void 0;var tslib_1=__webpack_require__(70655),actions_1=__webpack_require__(4485);exports.showModalComponent=function showModalComponent(options){return{type:actions_1.ActionType.MODAL_SHOW_COMPONENT,payload:(0,tslib_1.__assign)({},options)}},exports.showModalUrl=function showModalUrl(options){return{type:actions_1.ActionType.MODAL_SHOW_URL,payload:(0,tslib_1.__assign)({},options)}},exports.hideModal=function hideModal(name){return{type:actions_1.ActionType.MODAL_CLOSE,payload:name}}},9899:function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.pushUrl=exports.goForward=exports.goBack=exports.goHome=void 0;var error_1=__webpack_require__(59404),actions_1=__webpack_require__(4485);exports.goHome=function goHome(){return function(dispatch,getState){if(null==getState().taskpane.initialUrl)throw new error_1.MgError("Case not handled yet: Home action when no initial task URL set");dispatch({type:actions_1.ActionType.TASK_PANE_HOME})}},exports.goBack=function goBack(){return{type:actions_1.ActionType.TASK_PANE_BACK}},exports.goForward=function goForward(){return{type:actions_1.ActionType.TASK_PANE_FORWARD}},exports.pushUrl=function pushUrl(url,silent){return{type:actions_1.ActionType.TASK_PANE_PUSH_URL,payload:{url:url,silent:silent}}}},61289:function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.setLegendVisibility=exports.setSelectionPanelVisibility=exports.setTaskPaneVisibility=exports.setElementStates=void 0;var actions_1=__webpack_require__(4485);exports.setElementStates=function setElementStates(states){return{type:actions_1.ActionType.FUSION_SET_ELEMENT_STATE,payload:states}},exports.setTaskPaneVisibility=function setTaskPaneVisibility(visible){return{type:actions_1.ActionType.FUSION_SET_TASK_PANE_VISIBILITY,payload:visible}},exports.setSelectionPanelVisibility=function setSelectionPanelVisibility(visible){return{type:actions_1.ActionType.FUSION_SET_SELECTION_PANEL_VISIBILITY,payload:visible}},exports.setLegendVisibility=function setLegendVisibility(visible){return{type:actions_1.ActionType.FUSION_SET_LEGEND_VISIBILITY,payload:visible}}},45574:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(54747),__webpack_require__(57327),__webpack_require__(68309),Object.defineProperty(exports,"__esModule",{value:!0}),exports.BaseLayerSetOL=void 0;var olHas=(0,__webpack_require__(70655).__importStar)(__webpack_require__(40177)),BaseLayerSetOL=function(){function BaseLayerSetOL(externalBaseLayersGroup,projection,dpi,extent,inPerUnit,view){this.externalBaseLayersGroup=externalBaseLayersGroup,this.projection=projection,this.dpi=dpi,this.extent=extent,this.inPerUnit=inPerUnit,this.view=view}return BaseLayerSetOL.prototype.getMetersPerUnit=function(){return this.inPerUnit/39.37},BaseLayerSetOL.prototype.scaleToResolution=function(scale){return scale/this.inPerUnit/this.dpi*olHas.DEVICE_PIXEL_RATIO},BaseLayerSetOL.prototype.resolutionToScale=function(resolution){return resolution*this.dpi*this.inPerUnit/olHas.DEVICE_PIXEL_RATIO},BaseLayerSetOL.prototype.updateExternalBaseLayers=function(externalBaseLayers){this.externalBaseLayersGroup&&this.externalBaseLayersGroup.getLayers().forEach((function(l){var match=(externalBaseLayers||[]).filter((function(el){return el.name===l.get("title")}));1==match.length?l.setVisible(!!match[0].visible):l.setVisible(!1)}))},BaseLayerSetOL.prototype.refreshMap=function(mode){},BaseLayerSetOL}();exports.BaseLayerSetOL=BaseLayerSetOL},95478:function(__unused_webpack_module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.bootstrap=void 0,exports.bootstrap=function bootstrap(){}},99729:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(21249),__webpack_require__(69600),Object.defineProperty(exports,"__esModule",{value:!0}),exports.getActiveSelectedFeatureXml=exports.buildSelectionXml=exports.deArrayify=exports.isQueryMapFeaturesResponse=exports.isSiteVersion=exports.isTileSet=exports.isMapDef=exports.isAppDef=exports.isWebLayout=void 0;var error_1=__webpack_require__(59404),constants_1=__webpack_require__(12872);function buildPropertyGetter(){return function(el,name,type){return void 0===type&&(type="string"),function tryGetAsProperty(el,name,type){void 0===type&&(type="string");if(!el[name])return null;if(1===el[name].length){var val=el[name][0];switch(type){case"int":return parseInt(val,10);case"float":return parseFloat(val);case"boolean":return"true"===val.toLowerCase();default:return val}}}(el,name,type)}}function deArrayifyRules(rules){var getter=buildPropertyGetter();return rules.map((function(r){return{LegendLabel:getter(r,"LegendLabel"),Filter:getter(r,"Filter"),Icon:getter(r,"Icon")}}))}function deArrayifyFeatureStyles(fts){if(!fts)return[];var getter=buildPropertyGetter();return fts.map((function(ft){return{Type:getter(ft,"Type","int"),Rule:deArrayifyRules(ft.Rule)}}))}function deArrayifyScaleRanges(scales){if(!scales)return[{MinScale:0,MaxScale:constants_1.MDF_INFINITY,FeatureStyle:[]}];var getter=buildPropertyGetter();return scales.map((function(sc){return{MinScale:getter(sc,"MinScale","float"),MaxScale:getter(sc,"MaxScale","float"),FeatureStyle:deArrayifyFeatureStyles(sc.FeatureStyle)}}))}function deArrayifyFeatureSourceInfo(fs){if(fs&&1===fs.length){var getter=buildPropertyGetter();return{ResourceId:getter(fs[0],"ResourceId"),ClassName:getter(fs[0],"ClassName"),Geometry:getter(fs[0],"Geometry")}}}function deArrayifyLayers(layers){if(!layers)return layers;var getter=buildPropertyGetter();return layers.map((function(lyr){var layer={Type:getter(lyr,"Type","int"),Selectable:getter(lyr,"Selectable","boolean"),LayerDefinition:getter(lyr,"LayerDefinition"),Name:getter(lyr,"Name"),LegendLabel:getter(lyr,"LegendLabel"),ObjectId:getter(lyr,"ObjectId"),ParentId:getter(lyr,"ParentId"),DisplayInLegend:getter(lyr,"DisplayInLegend","boolean"),ExpandInLegend:getter(lyr,"ExpandInLegend","boolean"),Visible:getter(lyr,"Visible","boolean"),ActuallyVisible:getter(lyr,"ActuallyVisible","boolean"),FeatureSource:deArrayifyFeatureSourceInfo(lyr.FeatureSource),ScaleRange:deArrayifyScaleRanges(lyr.ScaleRange)};return lyr.ScaleRange||(layer.Selectable=!1),layer}))}function deArrayifyGroups(groups){if(groups){var getter=buildPropertyGetter();return groups.map((function(grp){return{Type:getter(grp,"Type","int"),Name:getter(grp,"Name"),LegendLabel:getter(grp,"LegendLabel"),ObjectId:getter(grp,"ObjectId"),ParentId:getter(grp,"ParentId"),DisplayInLegend:getter(grp,"DisplayInLegend","boolean"),ExpandInLegend:getter(grp,"ExpandInLegend","boolean"),Visible:getter(grp,"Visible","boolean"),ActuallyVisible:getter(grp,"ActuallyVisible","boolean")}}))}}function deArrayifyCoordinateSystem(cs){if(!cs||1!==cs.length)throw new error_1.MgError("Malformed input. Expected CoordinateSystem element");var getter=buildPropertyGetter();return{Wkt:getter(cs[0],"Wkt"),MentorCode:getter(cs[0],"MentorCode"),EpsgCode:getter(cs[0],"EpsgCode"),MetersPerUnit:getter(cs[0],"MetersPerUnit","float")}}function deArrayifyCoordinate(coord){if(!coord||1!==coord.length)throw new error_1.MgError("Malformed input. Expected coordinate array");var getter=buildPropertyGetter();return{X:getter(coord[0],"X","float"),Y:getter(coord[0],"Y","float")}}function deArrayifyExtents(extents){if(!extents||1!==extents.length)throw new error_1.MgError("Malformed input. Expected extent element");return{LowerLeftCoordinate:deArrayifyCoordinate(extents[0].LowerLeftCoordinate),UpperRightCoordinate:deArrayifyCoordinate(extents[0].UpperRightCoordinate)}}function deArrayifyFiniteDisplayScales(fds){if(fds)return fds.map(parseFloat)}function deArrayifyFeatureSetClass(json){var root=json,getter=buildPropertyGetter();if(1!=root.length)throw new error_1.MgError("Malformed input. Expected Class element");return{"@id":getter(root[0],"@id"),ID:root[0].ID}}function deArrayifyFeatureSetLayers(json){var getter=buildPropertyGetter();return(json||[]).map((function(root){return{"@id":getter(root,"@id"),"@name":getter(root,"@name"),Class:deArrayifyFeatureSetClass(root.Class)}}))}function deArrayifyFeatureSet(json){var root=json;if(null!=root&&1==root.length)return{Layer:deArrayifyFeatureSetLayers(root[0].Layer)}}function deArrayifyInlineSelectionImage(json){var root=json;if(null!=root&&1==root.length){var getter=buildPropertyGetter();return{MimeType:getter(root[0],"MimeType"),Content:getter(root[0],"Content")}}}function deArrayifyFeatureProperties(json){var getter=buildPropertyGetter();return(json||[]).map((function(root){return{Name:getter(root,"Name"),Value:getter(root,"Value")}}))}function deArrayifyFeatures(json){var getter=buildPropertyGetter();return(json||[]).map((function(root){return{Bounds:getter(root,"Bounds"),Property:deArrayifyFeatureProperties(root.Property),SelectionKey:getter(root,"SelectionKey")}}))}function deArrayifyLayerMetadataProperties(json){var getter=buildPropertyGetter();return(json||[]).map((function(root){return{DisplayName:getter(root,"DisplayName"),Name:getter(root,"Name"),Type:getter(root,"Type","int")}}))}function deArrayifyLayerMetadata(json){var root=json;if(null!=root&&1==root.length)return{Property:deArrayifyLayerMetadataProperties(root[0].Property)}}function deArrayifySelectedLayer(json){var getter=buildPropertyGetter();return(json||[]).map((function(root){return{"@id":getter(root,"@id"),"@name":getter(root,"@name"),Feature:deArrayifyFeatures(root.Feature),LayerMetadata:deArrayifyLayerMetadata(root.LayerMetadata)}}))}function deArrayifySelectedFeatures(json){var root=json;if(null!=root&&1==root.length)return{SelectedLayer:deArrayifySelectedLayer(root[0].SelectedLayer)}}function deArrayifyWebLayoutControl(json){var root=json;if(null==root||1!=root.length)throw new error_1.MgError("Malformed input. Expected control element");return{Visible:buildPropertyGetter()(root[0],"Visible","boolean")}}function deArrayifyWebLayoutInfoPane(json){var root=json;if(null==root||1!=root.length)throw new error_1.MgError("Malformed input. Expected InformationPane element");var getter=buildPropertyGetter();return{Visible:getter(root[0],"Visible","boolean"),Width:getter(root[0],"Width","int"),LegendVisible:getter(root[0],"LegendVisible","boolean"),PropertiesVisible:getter(root[0],"PropertiesVisible","boolean")}}function deArrayifyWebLayoutInitialView(json){var root=json;if(null!=root&&1==root.length){var getter=buildPropertyGetter();return{CenterX:getter(root[0],"CenterX","float"),CenterY:getter(root[0],"CenterY","float"),Scale:getter(root[0],"Scale","float")}}}function deArrayifyWebLayoutMap(json){var root=json;if(null==root||1!=root.length)throw new error_1.MgError("Malformed input. Expected Map element");var getter=buildPropertyGetter();return{ResourceId:getter(root[0],"ResourceId"),InitialView:deArrayifyWebLayoutInitialView(root[0].InitialView),HyperlinkTarget:getter(root[0],"HyperlinkTarget"),HyperlinkTargetFrame:getter(root[0],"HyperlinkTargetFrame")}}function deArrayifyTaskButton(json){var root=json;if(null==root||1!=root.length)throw new error_1.MgError("Malformed input. Expected TaskButton element");var getter=buildPropertyGetter();return{Name:getter(root[0],"Name"),Tooltip:getter(root[0],"Tooltip"),Description:getter(root[0],"Description"),ImageURL:getter(root[0],"ImageURL"),DisabledImageURL:getter(root[0],"DisabledImageURL")}}function deArrayifyWebLayoutTaskBar(json){var root=json;if(null==root||1!=root.length)throw new error_1.MgError("Malformed input. Expected TaskBar element");var taskbar={Visible:buildPropertyGetter()(root[0],"Visible","boolean"),Home:deArrayifyTaskButton(root[0].Home),Forward:deArrayifyTaskButton(root[0].Forward),Back:deArrayifyTaskButton(root[0].Back),Tasks:deArrayifyTaskButton(root[0].Tasks),MenuButton:[]};if(root[0].MenuButton)for(var _i=0,_a=root[0].MenuButton;_i<_a.length;_i++){var mb=_a[_i];taskbar.MenuButton.push(deArrayifyUIItem(mb))}return taskbar}function deArrayifyWebLayoutTaskPane(json){var root=json;if(null==root||1!=root.length)throw new error_1.MgError("Malformed input. Expected TaskPane element");var getter=buildPropertyGetter();return{Visible:getter(root[0],"Visible","boolean"),InitialTask:getter(root[0],"InitialTask"),Width:getter(root[0],"Width","int"),TaskBar:deArrayifyWebLayoutTaskBar(root[0].TaskBar)}}function deArrayifyUIItem(json){var root=json,getter=buildPropertyGetter(),func=getter(root,"Function"),item={Function:func};switch(func){case"Command":item.Command=getter(root,"Command");break;case"Flyout":item.Label=getter(root,"Label"),item.Tooltip=getter(root,"Tooltip"),item.Description=getter(root,"Description"),item.ImageURL=getter(root,"ImageURL"),item.DisabledImageURL=getter(root,"DisabledImageURL"),item.SubItem=[];for(var _i=0,_a=root.SubItem;_i<_a.length;_i++){var si=_a[_i];item.SubItem.push(deArrayifyUIItem(si))}}return item}function deArrayifyItemContainer(json,name){var root=json;if(null==root||1!=root.length)throw new error_1.MgError("Malformed input. Expected container element");var getter=buildPropertyGetter(),container={};container[name]=[];for(var _i=0,_a=root[0][name];_i<_a.length;_i++){var item=_a[_i];container[name].push(deArrayifyUIItem(item))}return void 0!==root[0].Visible&&(container.Visible=getter(root[0],"Visible","boolean")),container}function deArrayifyCommand(json){var root=json,getter=buildPropertyGetter(),cmd={"@xsi:type":getter(root,"@xsi:type"),Name:getter(root,"Name"),Label:getter(root,"Label"),Tooltip:getter(root,"Tooltip"),Description:getter(root,"Description"),ImageURL:getter(root,"ImageURL"),DisabledImageURL:getter(root,"DisabledImageURL"),TargetViewer:getter(root,"TargetViewer")};return void 0!==root.Action&&(cmd.Action=getter(root,"Action")),void 0!==root.Target&&(cmd.Target=getter(root,"Target")),void 0!==root.TargetFrame&&(cmd.TargetFrame=getter(root,"TargetFrame")),void 0!==root.Layer&&(cmd.Layer=getter(root,"Layer"),cmd.Prompt=getter(root,"Prompt"),cmd.ResultColumns=function deArrayifyWebLayoutSearchResultColumnSet(json){var root=json;if(null==root||1!=root.length)throw new error_1.MgError("Malformed input. Expected ResultColumns element");for(var getter=buildPropertyGetter(),res={Column:[]},_i=0,_a=root[0].Column;_i<_a.length;_i++){var col=_a[_i];res.Column.push({Name:getter(col,"Name"),Property:getter(col,"Property")})}return res}(root.ResultColumns),cmd.Filter=getter(root,"Filter"),cmd.MatchLimit=getter(root,"MatchLimit","int")),void 0!==root.URL&&(cmd.URL=getter(root,"URL")),void 0!==root.DisableIfSelectionEmpty&&(cmd.LayerSet=function deArrayifyWebLayoutInvokeURLLayerSet(json){var root=json;if(null!=root&&1==root.length)return{Layer:root[0].Layer}}(root.LayerSet),cmd.AdditionalParameter=function deArrayifyWebLayoutParameterPairs(json){var root=json,pairs=[];if(!root)return pairs;for(var getter=buildPropertyGetter(),_i=0,root_1=root;_i<root_1.length;_i++){var kvp=root_1[_i];pairs.push({Key:getter(kvp,"Key"),Value:getter(kvp,"Value")})}return pairs}(root.AdditionalParameter),cmd.DisableIfSelectionEmpty=getter(root,"DisableIfSelectionEmpty","boolean")),void 0!==root.Script&&(cmd.Script=getter(root,"Script")),cmd}function deArrayifyWebLayoutCommandSet(json){var root=json;if(null==root||1!=root.length)throw new error_1.MgError("Malformed input. Expected CommandSet element");var set={Command:[]};if(root[0].Command)for(var _i=0,_a=root[0].Command;_i<_a.length;_i++){var cmd=_a[_i];set.Command.push(deArrayifyCommand(cmd))}return set}function deArrayifyMapGroup(json){var root=json;if(null==root)throw new error_1.MgError("Malformed input. Expected MapGroup element");var getter=buildPropertyGetter(),mapGroup={"@id":getter(root,"@id","string"),InitialView:void 0,Map:[]};if(root.InitialView){var iview=root.InitialView[0];mapGroup.InitialView={CenterX:getter(iview,"CenterX","float"),CenterY:getter(iview,"CenterY","float"),Scale:getter(iview,"Scale","float")}}if(root.Map)for(var _i=0,_a=root.Map;_i<_a.length;_i++){var m=_a[_i];mapGroup.Map.push({Type:getter(m,"Type","string"),Extension:deArrayifyExtension(m.Extension)})}return mapGroup}function deArrayifyMapSet(json){var root=json;if(null==root||1!=root.length)throw new error_1.MgError("Malformed input. Expected MapSet element");var set={MapGroup:[]};if(root[0].MapGroup)for(var _i=0,_a=root[0].MapGroup;_i<_a.length;_i++){var map=_a[_i];set.MapGroup.push(deArrayifyMapGroup(map))}return set}function deArrayifyContainerItems(json){var items=[],getter=buildPropertyGetter();if(json&&json.length)for(var _i=0,json_1=json;_i<json_1.length;_i++){var i=json_1[_i];switch(getter(i,"Function","string")){case"Separator":items.push({Function:"Separator"});break;case"Widget":items.push({Function:"Widget",Widget:getter(i,"Widget","string")});break;case"Flyout":items.push({Function:"Flyout",Label:getter(i,"Label","string"),Tooltip:getter(i,"Tooltip","string"),ImageUrl:getter(i,"ImageUrl","string"),ImageClass:getter(i,"ImageClass","string"),Item:deArrayifyContainerItems(i.Item||[])})}}return items}function deArrayifyContainer(json){for(var containers=[],getter=buildPropertyGetter(),_i=0,json_2=json;_i<json_2.length;_i++){var c=json_2[_i];containers.push({Name:getter(c,"Name","string"),Type:getter(c,"Type","string"),Extension:deArrayifyExtension(c.Extension),Item:deArrayifyContainerItems(c.Item)})}return containers}function deArrayifyWidgets(json){for(var widgets=[],_i=0,json_3=json;_i<json_3.length;_i++){var w=json_3[_i];if("UiWidgetType"==w["@xsi:type"]){var uiw=deArrayifyUiWidget(w);widgets.push(uiw)}else widgets.push(deArrayifyWidget(w))}return widgets}function deArrayifyWidget(json){var root=json;if(null==root)throw new error_1.MgError("Malformed input. Expected Widget element");var getter=buildPropertyGetter();return{WidgetType:getter(root,"@xsi:type","string"),Name:getter(root,"Name","string"),Type:getter(root,"Type","string"),Extension:deArrayifyExtension(root.Extension)}}function deArrayifyExtension(json,arrayCheck){void 0===arrayCheck&&(arrayCheck=!0);var root=json;if(null==root)return null;if(arrayCheck&&1!=root.length)throw new error_1.MgError("Malformed input. Expected Extension element");var getter=buildPropertyGetter(),ext={};for(var key in root[0])if(Array.isArray(root[0][key]))switch(key){case"AdditionalParameter":for(var params=[],_i=0,_a=root[0][key];_i<_a.length;_i++){var p=_a[_i];params.push({Key:getter(p,"Key","string"),Value:getter(p,"Value","string")})}ext[key]=params;break;case"Projection":ext[key]=root[0][key];break;default:ext[key]=getter(root[0],key,"string")}else ext[key]=deArrayifyExtension(root[0][key],!1);return ext}function deArrayifyUiWidget(json){var root=json;if(null==root)throw new error_1.MgError("Malformed input. Expected Widget element");var getter=buildPropertyGetter();return{WidgetType:getter(root,"@xsi:type","string"),ImageUrl:getter(root,"ImageUrl","string"),ImageClass:getter(root,"ImageClass","string"),Label:getter(root,"Label","string"),Tooltip:getter(root,"Tooltip","string"),StatusText:getter(root,"StatusText","string"),Disabled:getter(root,"Disabled","boolean"),Name:getter(root,"Name","string"),Type:getter(root,"Type","string"),Extension:deArrayifyExtension(root.Extension)}}function deArrayifyMapWidget(json){var root=json;if(null==root||1!=root.length)throw new error_1.MgError("Malformed input. Expected MapWidget element");var getter=buildPropertyGetter();return{WidgetType:getter(root,"@xsi:type","string"),MapId:getter(root,"MapId","string"),Name:getter(root,"Name","string"),Type:getter(root,"Type","string"),Extension:deArrayifyExtension(root.Extension)}}function deArrayifyWidgetSet(json){for(var widgetSet=[],_i=0,json_4=json;_i<json_4.length;_i++){var ws=json_4[_i];widgetSet.push({Container:deArrayifyContainer(ws.Container),MapWidget:deArrayifyMapWidget(ws.MapWidget),Widget:deArrayifyWidgets(ws.Widget)})}return widgetSet}function deArrayifyMapDefinitionGroups(json){for(var groups=[],getter=buildPropertyGetter(),_i=0,json_5=json;_i<json_5.length;_i++){var g=json_5[_i];groups.push({Name:getter(g,"Name"),ExpandInLegend:getter(g,"ExpandInLegend","boolean"),ShowInLegend:getter(g,"ShowInLegend","boolean"),Visible:getter(g,"Visible","boolean"),LegendLabel:getter(g,"LegendLabel"),Group:getter(g,"Group")})}return groups}function deArrayifyMapDefinitionLayers(json){for(var layers=[],getter=buildPropertyGetter(),_i=0,json_6=json;_i<json_6.length;_i++){var g=json_6[_i];layers.push({Name:getter(g,"Name"),ResourceId:getter(g,"ResourceId"),ExpandInLegend:getter(g,"ExpandInLegend","boolean"),ShowInLegend:getter(g,"ShowInLegend","boolean"),Selectable:getter(g,"Selectable","boolean"),Visible:getter(g,"Visible","boolean"),LegendLabel:getter(g,"LegendLabel"),Group:getter(g,"Group")})}return layers}function deArrayifyTileSetDefinitionLayers(json){for(var getter=buildPropertyGetter(),layers=[],_i=0,json_7=json;_i<json_7.length;_i++){var l=json_7[_i];layers.push({Name:getter(l,"Name"),ResourceId:getter(l,"ResourceId"),Selectable:getter(l,"Selectable","boolean"),ShowInLegend:getter(l,"ShowInLegend","boolean"),LegendLabel:getter(l,"LegendLabel"),ExpandInLegend:getter(l,"ExpandInLegend","boolean")})}return layers}function deArrayifyTileSetDefinitionGroups(json){for(var getter=buildPropertyGetter(),groups=[],_i=0,json_8=json;_i<json_8.length;_i++){var g=json_8[_i];groups.push({Name:getter(g,"Name"),Visible:getter(g,"Visible","boolean"),ShowInLegend:getter(g,"ShowInLegend","boolean"),ExpandInLegend:getter(g,"ExpandInLegend","boolean"),LegendLabel:getter(g,"LegendLabel"),BaseMapLayer:deArrayifyTileSetDefinitionLayers(g.BaseMapLayer)})}return groups}function deArrayifyTileSetDefinitionParamList(root){for(var getter=buildPropertyGetter(),params=[],_i=0,root_2=root;_i<root_2.length;_i++){var p=root_2[_i];params.push({Name:getter(p,"Name"),Value:getter(p,"Value")})}return params}function deArrayifyTileSetDefinitionParams(root){return{TileProvider:buildPropertyGetter()(root,"TileProvider"),Parameter:deArrayifyTileSetDefinitionParamList(root[0].Parameter)}}exports.isWebLayout=function isWebLayout(arg){return null!=arg.CommandSet&&null!=arg.ContextMenu&&null!=arg.Map},exports.isAppDef=function isAppDef(arg){return null!=arg.WidgetSet},exports.isMapDef=function isMapDef(arg){return null!=arg.Extents&&null!=arg.BackgroundColor&&null!=arg.CoordinateSystem&&null!=arg.MapLayer&&null!=arg.MapLayerGroup},exports.isTileSet=function isTileSet(arg){return null!=arg.Extents&&null!=arg.TileStoreParameters&&null!=arg.BaseMapLayerGroup},exports.isSiteVersion=function isSiteVersion(arg){return null!=arg.Version},exports.isQueryMapFeaturesResponse=function isQueryMapFeaturesResponse(arg){return null!=arg.FeatureSet||null!=arg.Hyperlink||null!=arg.InlineSelectionImage||null!=arg.SelectedFeatures||null!=arg.Tooltip},exports.deArrayify=function deArrayify(json){if(json.RuntimeMap)return function deArrayifyRuntimeMap(json){var root=json,getter=buildPropertyGetter();return{SessionId:getter(root,"SessionId"),SiteVersion:getter(root,"SiteVersion"),Name:getter(root,"Name"),MapDefinition:getter(root,"MapDefinition"),TileSetDefinition:getter(root,"TileSetDefinition"),TileWidth:getter(root,"TileWidth","int"),TileHeight:getter(root,"TileHeight","int"),BackgroundColor:getter(root,"BackgroundColor"),DisplayDpi:getter(root,"DisplayDpi","int"),IconMimeType:getter(root,"IconMimeType"),CoordinateSystem:deArrayifyCoordinateSystem(root.CoordinateSystem),Extents:deArrayifyExtents(root.Extents),Group:deArrayifyGroups(root.Group),Layer:deArrayifyLayers(root.Layer),FiniteDisplayScale:deArrayifyFiniteDisplayScales(root.FiniteDisplayScale)}}(json.RuntimeMap);if(json.FeatureInformation)return function deArrayifyFeatureInformation(json){var root=json,getter=buildPropertyGetter();return{FeatureSet:deArrayifyFeatureSet(root.FeatureSet),Hyperlink:getter(root,"Hyperlink"),InlineSelectionImage:deArrayifyInlineSelectionImage(root.InlineSelectionImage),SelectedFeatures:deArrayifySelectedFeatures(root.SelectedFeatures),Tooltip:getter(root,"Tooltip")}}(json.FeatureInformation);if(json.WebLayout)return function deArrayifyWebLayout(json){var root=json,getter=buildPropertyGetter();return{Title:getter(root,"Title"),Map:deArrayifyWebLayoutMap(root.Map),EnablePingServer:getter(root,"EnablePingServer","boolean"),SelectionColor:getter(root,"SelectionColor"),PointSelectionBuffer:getter(root,"PointSelectionBuffer","int"),MapImageFormat:getter(root,"MapImageFormat"),SelectionImageFormat:getter(root,"SelectionImageFormat"),StartupScript:getter(root,"StartupScript"),ToolBar:deArrayifyItemContainer(root.ToolBar,"Button"),InformationPane:deArrayifyWebLayoutInfoPane(root.InformationPane),ContextMenu:deArrayifyItemContainer(root.ContextMenu,"MenuItem"),TaskPane:deArrayifyWebLayoutTaskPane(root.TaskPane),StatusBar:deArrayifyWebLayoutControl(root.StatusBar),ZoomControl:deArrayifyWebLayoutControl(root.ZoomControl),CommandSet:deArrayifyWebLayoutCommandSet(root.CommandSet)}}(json.WebLayout);if(json.ApplicationDefinition)return function deArrayifyFlexibleLayout(json){var root=json,getter=buildPropertyGetter();return{Title:getter(root,"Title"),TemplateUrl:getter(root,"TemplateUrl"),MapSet:deArrayifyMapSet(root.MapSet),WidgetSet:deArrayifyWidgetSet(root.WidgetSet),Extension:deArrayifyExtension(root.Extension)}}(json.ApplicationDefinition);if(json.MapDefinition)return function deArrayifyMapDefinition(json){var _a,_b,root=json,getter=buildPropertyGetter(),eGetter=buildPropertyGetter(),resp={BackgroundColor:getter(root,"BackgroundColor"),CoordinateSystem:getter(root,"CoordinateSystem"),Extents:{MinX:eGetter(root.Extents[0],"MinX","float"),MinY:eGetter(root.Extents[0],"MinY","float"),MaxX:eGetter(root.Extents[0],"MaxX","float"),MaxY:eGetter(root.Extents[0],"MaxY","float")},MapLayer:deArrayifyMapDefinitionLayers(null!==(_a=root.MapLayer)&&void 0!==_a?_a:[]),MapLayerGroup:deArrayifyMapDefinitionGroups(null!==(_b=root.MapLayerGroup)&&void 0!==_b?_b:[])};if(root.TileSetSource){var tGetter=buildPropertyGetter();resp.TileSetSource={ResourceId:tGetter(root.TileSetSource,"ResourceId")}}return resp}(json.MapDefinition);if(json.TileSetDefinition)return function deArrayifyTileSetDefinition(json){var root=json,eGetter=buildPropertyGetter();return{Extents:{MinX:eGetter(root.Extents[0],"MinX","float"),MinY:eGetter(root.Extents[0],"MinY","float"),MaxX:eGetter(root.Extents[0],"MaxX","float"),MaxY:eGetter(root.Extents[0],"MaxY","float")},TileStoreParameters:deArrayifyTileSetDefinitionParams(json.TileStoreParameters),BaseMapLayerGroup:deArrayifyTileSetDefinitionGroups(json.BaseMapLayerGroup)}}(json.TileSetDefinition);if(json.SiteVersion)return{Version:json.SiteVersion.Version[0]};var keys=[];for(var k in json)keys.push(k);throw new error_1.MgError("Unsure how to process JSON response. Root elements are: ("+keys.join(", ")+")")},exports.buildSelectionXml=function buildSelectionXml(selection,layerIds){var xml='<?xml version="1.0" encoding="utf-8"?>';if(xml+='<FeatureSet xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="FeatureSet-1.0.0.xsd">',selection)for(var _i=0,selLayers_1=selection.Layer;_i<selLayers_1.length;_i++){var layer=selLayers_1[_i],layerId=layer["@id"];if(!(null!=layerIds&&layerIds.indexOf(layerId)<0)){xml+='<Layer id="'+layerId+'">';var cls=layer.Class;xml+='<Class id="'+cls["@id"]+'">';for(var _a=0,_b=cls.ID;_a<_b.length;_a++){xml+="<ID>"+_b[_a]+"</ID>"}xml+="</Class>",xml+="</Layer>"}}return xml+="</FeatureSet>"},exports.getActiveSelectedFeatureXml=function getActiveSelectedFeatureXml(selection,feat){for(var _i=0,_a=selection.Layer;_i<_a.length;_i++){var layer=_a[_i],layerId=layer["@id"];if(layerId==feat.layerId){var key=feat.selectionKey,xml='<?xml version="1.0" encoding="utf-8"?>';return xml+='<FeatureSet xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="FeatureSet-1.0.0.xsd">',xml+='<Layer id="'+layerId+'">',xml+='<Class id="'+layer.Class["@id"]+'">',xml+="<ID>"+key+"</ID>",xml+="</Class>",xml+="</Layer>",xml+="</FeatureSet>"}}}},54418:function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createRequestBuilder=exports.registerRequestBuilder=void 0;var error_1=__webpack_require__(59404),_builders={};exports.registerRequestBuilder=function registerRequestBuilder(kind,factory){_builders[kind]=factory},exports.createRequestBuilder=function createRequestBuilder(agentUri,kind){if(_builders[kind])return _builders[kind](agentUri);throw new error_1.MgError("Unknown or unsupported client kind: "+kind)}},24656:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(69600),__webpack_require__(21249),__webpack_require__(47941),__webpack_require__(88674),__webpack_require__(41539),Object.defineProperty(exports,"__esModule",{value:!0}),exports.MapAgentRequestBuilder=exports.serialize=exports.isErrorResponse=void 0;var tslib_1=__webpack_require__(70655),error_1=__webpack_require__(59404),deArrayify_1=__webpack_require__(99729),i18n_1=__webpack_require__(196),request_builder_1=__webpack_require__(75549);function isErrorResponse(response){return!response.ok||559===response.status}function serialize(data,uppercase){return void 0===uppercase&&(uppercase=!0),Object.keys(data).map((function(keyName){return encodeURIComponent(uppercase?keyName.toUpperCase():keyName)+"="+encodeURIComponent(data[keyName])})).join("&")}exports.isErrorResponse=isErrorResponse,exports.serialize=serialize;var MapAgentRequestBuilder=function(_super){function MapAgentRequestBuilder(agentUri,locale){void 0===locale&&(locale=i18n_1.DEFAULT_LOCALE);var _this=_super.call(this,agentUri)||this;return _this.locale=locale,_this}return(0,tslib_1.__extends)(MapAgentRequestBuilder,_super),MapAgentRequestBuilder.prototype.get=function(url){return(0,tslib_1.__awaiter)(this,void 0,void 0,(function(){var response,json;return(0,tslib_1.__generator)(this,(function(_a){switch(_a.label){case 0:return[4,fetch(url,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"GET"})];case 1:if(!isErrorResponse(response=_a.sent()))return[3,2];throw new error_1.MgError(response.statusText);case 2:return[4,response.json()];case 3:return json=_a.sent(),[2,(0,deArrayify_1.deArrayify)(json)]}}))}))},MapAgentRequestBuilder.prototype.post=function(url,data){return(0,tslib_1.__awaiter)(this,void 0,void 0,(function(){var response,json;return(0,tslib_1.__generator)(this,(function(_a){switch(_a.label){case 0:return data.format||(data.format="application/json"),[4,fetch(url,{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},method:"POST",body:serialize(data)})];case 1:if(!isErrorResponse(response=_a.sent()))return[3,2];throw new error_1.MgError(response.statusText);case 2:return[4,response.json()];case 3:return json=_a.sent(),[2,(0,deArrayify_1.deArrayify)(json)]}}))}))},MapAgentRequestBuilder.prototype.stringifyGetUrl=function(options){options.version||(options.version="1.0.0"),options.locale||(options.locale=this.locale),options.format||(options.format="application/json");var url=this.agentUri,bFirst=!0;for(var key in options)bFirst?(url+="?"+key.toUpperCase()+"="+options[key],bFirst=!1):url+="&"+key.toUpperCase()+"="+options[key];return url},MapAgentRequestBuilder.prototype.createSession=function(username,password){return(0,tslib_1.__awaiter)(this,void 0,void 0,(function(){var url,response;return(0,tslib_1.__generator)(this,(function(_a){switch(_a.label){case 0:return url=this.agentUri,[4,fetch(url,{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},method:"POST",body:serialize({operation:"CREATESESSION",version:"1.0.0",USERNAME:username,PASSWORD:password})})];case 1:if(!isErrorResponse(response=_a.sent()))return[3,2];throw new error_1.MgError(response.statusText);case 2:return[4,response.text()];case 3:return[2,_a.sent()]}}))}))},MapAgentRequestBuilder.prototype.getServerSessionTimeout=function(session){return(0,tslib_1.__awaiter)(this,void 0,void 0,(function(){var url,response,val;return(0,tslib_1.__generator)(this,(function(_a){switch(_a.label){case 0:return url=this.agentUri,[4,fetch(url,{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},method:"POST",body:serialize({operation:"GETSESSIONTIMEOUT",version:"1.0.0",SESSION:session})})];case 1:if(!isErrorResponse(response=_a.sent()))return[3,2];throw new error_1.MgError(response.statusText);case 2:return[4,response.text()];case 3:return val=_a.sent(),[2,parseInt(val,10)]}}))}))},MapAgentRequestBuilder.prototype.getResource=function(resourceId,args){if(null!=args){var p1={operation:"GETRESOURCECONTENT",resourceId:resourceId},url=this.stringifyGetUrl((0,tslib_1.__assign)((0,tslib_1.__assign)({},args),p1));return this.get(url)}url=this.stringifyGetUrl({operation:"GETRESOURCE",resourceId:resourceId});return this.get(url)},MapAgentRequestBuilder.prototype.getSiteVersion=function(){var url=this.stringifyGetUrl((0,tslib_1.__assign)({},{operation:"GETSITEVERSION",version:"1.0.0",username:"Anonymous"}));return this.get(url)},MapAgentRequestBuilder.prototype.createRuntimeMap=function(options){var url=this.stringifyGetUrl((0,tslib_1.__assign)((0,tslib_1.__assign)({},options),{operation:"CREATERUNTIMEMAP",version:"3.0.0"}));return this.get(url)},MapAgentRequestBuilder.prototype.queryMapFeatures=function(options){return this.post(this.agentUri,(0,tslib_1.__assign)((0,tslib_1.__assign)({},options),{operation:"QUERYMAPFEATURES",version:"2.6.0"}))},MapAgentRequestBuilder.prototype.queryMapFeatures_v4=function(options){return this.post(this.agentUri,(0,tslib_1.__assign)((0,tslib_1.__assign)({},options),{operation:"QUERYMAPFEATURES",version:"4.0.0"}))},MapAgentRequestBuilder.prototype.describeRuntimeMap=function(options){var url=this.stringifyGetUrl((0,tslib_1.__assign)((0,tslib_1.__assign)({},options),{operation:"DESCRIBERUNTIMEMAP",version:"3.0.0"}));return this.get(url)},MapAgentRequestBuilder.prototype.getTileTemplateUrl=function(resourceId,groupName,xPlaceholder,yPlaceholder,zPlaceholder){return this.agentUri+"?OPERATION=GETTILEIMAGE&VERSION=1.2.0&USERNAME=Anonymous&MAPDEFINITION="+resourceId+"&BASEMAPLAYERGROUPNAME="+groupName+"&TILECOL="+xPlaceholder+"&TILEROW="+yPlaceholder+"&SCALEINDEX="+zPlaceholder},MapAgentRequestBuilder}(request_builder_1.RequestBuilder);exports.MapAgentRequestBuilder=MapAgentRequestBuilder},61772:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(88674),__webpack_require__(41539),Object.defineProperty(exports,"__esModule",{value:!0}),exports.Client=void 0;var tslib_1=__webpack_require__(70655),error_1=__webpack_require__(59404),mapagent_1=__webpack_require__(24656),factory_1=__webpack_require__(54418),Client=function(){function Client(agentUri,kind){this.builder=(0,factory_1.createRequestBuilder)(agentUri,kind)}return Client.prototype.getText=function(url){return(0,tslib_1.__awaiter)(this,void 0,void 0,(function(){var r;return(0,tslib_1.__generator)(this,(function(_a){switch(_a.label){case 0:return[4,fetch(url)];case 1:if(!(r=_a.sent()).ok)throw new error_1.MgError(r.statusText);return[4,r.text()];case 2:return[2,_a.sent()]}}))}))},Client.prototype.get=function(url){return new Promise((function(resolve,reject){fetch(url,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"GET"}).then((function(response){if((0,mapagent_1.isErrorResponse)(response))throw new error_1.MgError(response.statusText);resolve(response.json())})).catch(reject)}))},Client.prototype.post=function(url,data){return data.format||(data.format="application/json"),new Promise((function(resolve,reject){fetch(url,{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},method:"POST",body:(0,mapagent_1.serialize)(data)}).then((function(response){if((0,mapagent_1.isErrorResponse)(response))throw new error_1.MgError(response.statusText);resolve(response.json())})).catch(reject)}))},Client.prototype.createSession=function(username,password){return this.builder.createSession(username,password)},Client.prototype.getServerSessionTimeout=function(session){return this.builder.getServerSessionTimeout(session)},Client.prototype.getSiteVersion=function(){return this.builder.getSiteVersion()},Client.prototype.getResource=function(resourceId,args){return this.builder.getResource(resourceId,args)},Client.prototype.createRuntimeMap=function(options){return this.builder.createRuntimeMap(options)},Client.prototype.describeRuntimeMap=function(options){return this.builder.describeRuntimeMap(options)},Client.prototype.queryMapFeatures=function(options){return this.builder.queryMapFeatures(options)},Client.prototype.queryMapFeatures_v4=function(options){return this.builder.queryMapFeatures_v4(options)},Client.prototype.getTileTemplateUrl=function(resourceId,groupName,xPlaceholder,yPlaceholder,zPlaceholder){return this.builder.getTileTemplateUrl(resourceId,groupName,xPlaceholder,yPlaceholder,zPlaceholder)},Client}();exports.Client=Client},18036:function(__unused_webpack_module,exports,__webpack_require__){"use strict";function getMapGuideSubState(state){if(state.config.activeMapName)return state.mapState[state.config.activeMapName].mapguide}__webpack_require__(57327),Object.defineProperty(exports,"__esModule",{value:!0}),exports.MgBuiltInLayers=exports.MG_BASE_LAYER_GROUP_NAME=exports.MG_LAYER_TYPE_NAME=exports.MgLayerType=exports.SourceProperty=exports.LayerProperty=exports.getExternalBaseLayers=exports.getCurrentView=exports.getRuntimeMap=exports.getSelectionSet=exports.getMapGuideSubState=exports.getInitialView=exports.ALWAYS_TRUE=exports.ALWAYS_FALSE=exports.NOOP=exports.KC_U=exports.KC_ESCAPE=exports.DEFAULT_MODAL_SIZE=exports.RefreshMode=exports.ActiveMapTool=exports.UnitOfMeasure=exports.BLANK_SIZE=void 0,exports.BLANK_SIZE={w:1,h:1},function(UnitOfMeasure){UnitOfMeasure[UnitOfMeasure.Unknown=0]="Unknown",UnitOfMeasure[UnitOfMeasure.Inches=1]="Inches",UnitOfMeasure[UnitOfMeasure.Feet=2]="Feet",UnitOfMeasure[UnitOfMeasure.Yards=3]="Yards",UnitOfMeasure[UnitOfMeasure.Miles=4]="Miles",UnitOfMeasure[UnitOfMeasure.NauticalMiles=5]="NauticalMiles",UnitOfMeasure[UnitOfMeasure.Millimeters=6]="Millimeters",UnitOfMeasure[UnitOfMeasure.Centimeters=7]="Centimeters",UnitOfMeasure[UnitOfMeasure.Meters=8]="Meters",UnitOfMeasure[UnitOfMeasure.Kilometers=9]="Kilometers",UnitOfMeasure[UnitOfMeasure.Degrees=10]="Degrees",UnitOfMeasure[UnitOfMeasure.DecimalDegrees=11]="DecimalDegrees",UnitOfMeasure[UnitOfMeasure.DMS=12]="DMS",UnitOfMeasure[UnitOfMeasure.Pixels=13]="Pixels"}(exports.UnitOfMeasure||(exports.UnitOfMeasure={})),function(ActiveMapTool){ActiveMapTool[ActiveMapTool.Zoom=0]="Zoom",ActiveMapTool[ActiveMapTool.Select=1]="Select",ActiveMapTool[ActiveMapTool.Pan=2]="Pan",ActiveMapTool[ActiveMapTool.None=3]="None"}(exports.ActiveMapTool||(exports.ActiveMapTool={})),function(RefreshMode){RefreshMode[RefreshMode.LayersOnly=1]="LayersOnly",RefreshMode[RefreshMode.SelectionOnly=2]="SelectionOnly"}(exports.RefreshMode||(exports.RefreshMode={})),exports.DEFAULT_MODAL_SIZE=[350,500],exports.KC_ESCAPE=27,exports.KC_U=85,exports.NOOP=function NOOP(){},exports.ALWAYS_FALSE=function ALWAYS_FALSE(){return!1},exports.ALWAYS_TRUE=function ALWAYS_TRUE(){return!0},exports.getInitialView=function getInitialView(state){if(state.config.activeMapName)return state.mapState[state.config.activeMapName].initialView},exports.getMapGuideSubState=getMapGuideSubState,exports.getSelectionSet=function getSelectionSet(state){var _a;return null===(_a=getMapGuideSubState(state))||void 0===_a?void 0:_a.selectionSet},exports.getRuntimeMap=function getRuntimeMap(state){var _a;return null===(_a=getMapGuideSubState(state))||void 0===_a?void 0:_a.runtimeMap},exports.getCurrentView=function getCurrentView(state){if(state.config.activeMapName)return state.mapState[state.config.activeMapName].currentView},exports.getExternalBaseLayers=function getExternalBaseLayers(state,includeNonVisual){if(state.config.activeMapName)return includeNonVisual?state.mapState[state.config.activeMapName].externalBaseLayers:state.mapState[state.config.activeMapName].externalBaseLayers.filter((function(ebl){return"UTFGrid"!=ebl.kind}))},function(LayerProperty){LayerProperty.LAYER_TYPE="layer_type",LayerProperty.LAYER_NAME="name",LayerProperty.LAYER_DISPLAY_NAME="display_name",LayerProperty.IS_GROUP="is_group",LayerProperty.IS_EXTERNAL="is_external",LayerProperty.IS_SELECTABLE="is_selectable",LayerProperty.IS_SCRATCH="is_scratch",LayerProperty.HAS_WMS_LEGEND="has_wms_legend",LayerProperty.VECTOR_STYLE="vector_style",LayerProperty.WGS84_BBOX="wgs84_bbox",LayerProperty.BUSY_WORKER_COUNT="busy_worker_count",LayerProperty.SELECTED_POPUP_CONFIGURATION="popup_config",LayerProperty.LAYER_DESCRIPTION="layer_description",LayerProperty.LAYER_METADATA="layer_metadata",LayerProperty.IS_HOVER_HIGHLIGHT="is_hover_highlight",LayerProperty.IS_MEASURE="is_measure",LayerProperty.IS_WMS_SELECTION_OVERLAY="is_wms_selection_overlay",LayerProperty.IS_HEATMAP="is_heatmap"}(exports.LayerProperty||(exports.LayerProperty={})),function(SourceProperty){SourceProperty.SUPPRESS_LOAD_EVENTS="suppress_load_events"}(exports.SourceProperty||(exports.SourceProperty={})),function(MgLayerType){MgLayerType.Untiled="MapGuide_Untiled",MgLayerType.Tiled="MapGuide_Tiled"}(exports.MgLayerType||(exports.MgLayerType={})),exports.MG_LAYER_TYPE_NAME="MapGuide",exports.MG_BASE_LAYER_GROUP_NAME="Base Tile Layers",function(MgBuiltInLayers){MgBuiltInLayers.Overlay="MapGuide Dynamic Overlay",MgBuiltInLayers.SelectionOverlay="MapGuide Selection Overlay",MgBuiltInLayers.ActiveFeatureSelectionOverlay="MapGuide Active Feature Selection Overlay"}(exports.MgBuiltInLayers||(exports.MgBuiltInLayers={}))},98737:function(__unused_webpack_module,exports,__webpack_require__){"use strict";function extend(extent1,extent2){return extent2[0]<extent1[0]&&(extent1[0]=extent2[0]),extent2[2]>extent1[2]&&(extent1[2]=extent2[2]),extent2[1]<extent1[1]&&(extent1[1]=extent2[1]),extent2[3]>extent1[3]&&(extent1[3]=extent2[3]),extent1}__webpack_require__(69600),__webpack_require__(54747),__webpack_require__(21249),__webpack_require__(23123),__webpack_require__(74916),__webpack_require__(68309),Object.defineProperty(exports,"__esModule",{value:!0}),exports.CompositeSelection=exports.CompositeSelectionLayer=void 0;var CompositeSelectionLayer=function(){function CompositeSelectionLayer(layer){if(this.layer=layer,this.features=[],this.isSelectedLayer(this.layer))for(var _i=0,_a=this.layer.Feature;_i<_a.length;_i++){var f=_a[_i];this.features.push(f)}else for(var _b=0,_c=this.layer.features;_b<_c.length;_b++){f=_c[_b];var fp=[];for(var k in f.properties)fp.push({Name:k,Value:f.properties[k]});var fb=f.bounds?f.bounds.join(" "):void 0;this.features.push({Bounds:fb,Property:fp})}}return CompositeSelectionLayer.prototype.isSelectedLayer=function(layer){return layer.Feature&&layer["@id"]&&layer["@name"]},CompositeSelectionLayer.prototype.getBounds=function(){var bounds;if(this.isSelectedLayer(this.layer))this.layer.Feature.forEach((function(feat){var b=feat.Bounds?feat.Bounds.split(" ").map((function(s){return parseFloat(s)})):void 0;b&&(bounds=bounds?extend(bounds,b):b)}));else for(var _i=0,_a=this.layer.features;_i<_a.length;_i++){var f=_a[_i];f.bounds&&(bounds=null==bounds?f.bounds:extend(bounds,f.bounds))}return bounds},CompositeSelectionLayer.prototype.getLayerId=function(){if(this.isSelectedLayer(this.layer))return this.layer["@id"]},CompositeSelectionLayer.prototype.getName=function(){return this.isSelectedLayer(this.layer)?this.layer["@name"]:this.layer.name},CompositeSelectionLayer.prototype.getFeatureAt=function(featureIndex){return this.features[featureIndex]},CompositeSelectionLayer.prototype.getFeatureCount=function(){return this.features.length},CompositeSelectionLayer.prototype.getLayerMetadata=function(){if(this.isSelectedLayer(this.layer))return this.layer.LayerMetadata},CompositeSelectionLayer}();exports.CompositeSelectionLayer=CompositeSelectionLayer;var CompositeSelection=function(){function CompositeSelection(mgSelection,clientSelection){if(this.layers=[],mgSelection)for(var _i=0,_a=mgSelection.SelectedLayer;_i<_a.length;_i++){var layer=_a[_i];this.layers.push(new CompositeSelectionLayer(layer))}if(clientSelection)for(var _b=0,_c=clientSelection.layers;_b<_c.length;_b++){layer=_c[_b];this.layers.push(new CompositeSelectionLayer(layer))}}return CompositeSelection.prototype.getBounds=function(){if(0!=this.layers.length){for(var bounds,_i=0,_a=this.layers;_i<_a.length;_i++){var layerBounds=_a[_i].getBounds();layerBounds&&(bounds=bounds?extend(bounds,layerBounds):layerBounds)}return bounds}},CompositeSelection.prototype.getLayers=function(){return this.layers},CompositeSelection.prototype.getLayerCount=function(){return this.layers.length},CompositeSelection.prototype.getLayerAt=function(layerIndex){return this.layers[layerIndex]},CompositeSelection.prototype.getFeatureAt=function(layerIndex,featureIndex){var layer=this.getLayerAt(layerIndex);return null==layer?void 0:layer.getFeatureAt(featureIndex)},CompositeSelection}();exports.CompositeSelection=CompositeSelection},49443:function(__unused_webpack_module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isSearchCommand=exports.isInvokeURLCommand=exports.isTargetedCommand=exports.isBasicCommand=exports.isSeparatorItem=exports.isFlyoutItem=exports.isCommandItem=void 0,exports.isCommandItem=function isCommandItem(item){return"Command"===item.Function},exports.isFlyoutItem=function isFlyoutItem(item){return"Flyout"===item.Function},exports.isSeparatorItem=function isSeparatorItem(item){return"Separator"===item.Function},exports.isBasicCommand=function isBasicCommand(cmd){return void 0!==cmd.Action},exports.isTargetedCommand=function isTargetedCommand(cmd){return void 0!==cmd.Target},exports.isInvokeURLCommand=function isInvokeURLCommand(cmd){return void 0!==cmd.URL&&void 0!==cmd.DisableIfSelectionEmpty},exports.isSearchCommand=function isSearchCommand(cmd){return"SearchCommandType"==cmd["@xsi:type"]}},59404:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(68309),Object.defineProperty(exports,"__esModule",{value:!0}),exports.isSessionExpiredError=exports.MgError=void 0;var tslib_1=__webpack_require__(70655),MgError=function(_super){function MgError(message){var _this=_super.call(this,message)||this;return _this.message=message,_this.name="MgError",_this.message=message,_this.stack=(new Error).stack,_this}return(0,tslib_1.__extends)(MgError,_super),MgError}(Error);exports.MgError=MgError,exports.isSessionExpiredError=function isSessionExpiredError(err){return err.message.indexOf("MgSessionExpiredException")>=0}},67216:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(47941),Object.defineProperty(exports,"__esModule",{value:!0}),exports.ExprEvalContext=void 0;var expr_eval_1=__webpack_require__(46217),string_1=__webpack_require__(53775),ol_style_helpers_1=__webpack_require__(68189),ExprEvalContext=function(){function ExprEvalContext(){this.exprCache={},this.filterCache={},this.clusterExprCache={},this.clusterFilterCache={},this.parser=new expr_eval_1.Parser,this.parser.functions.agg_sum=function(collectionProperty,property){if(Array.isArray(collectionProperty))return collectionProperty.reduce((function(running,currentItem){var _a;return running+(null!==(_a=currentItem.get(property))&&void 0!==_a?_a:0)}),0)},this.parser.functions.arr_size=function(collectionProperty){return Array.isArray(collectionProperty)?collectionProperty.length:1},this.parser.functions.feat_property=function(feature,name){return feature?feature.get(name):void 0}}return ExprEvalContext.prototype.addFilter=function(expr){this.filterCache[expr]||(this.filterCache[expr]=this.parser.parse(expr))},ExprEvalContext.prototype.addExpr=function(expr){this.exprCache[expr]||(this.exprCache[expr]=this.parser.parse(expr))},ExprEvalContext.prototype.addClusterFilter=function(expr){this.clusterFilterCache[expr]||(this.clusterFilterCache[expr]=this.parser.parse(expr))},ExprEvalContext.prototype.addClusterExpr=function(expr){this.clusterExprCache[expr]||(this.clusterExprCache[expr]=this.parser.parse(expr))},ExprEvalContext.prototype.cleanValues=function(feat){for(var vals=feat.getProperties(),cvals={},_i=0,keys_1=Object.keys(vals);_i<keys_1.length;_i++){var k=keys_1[_i];cvals[(0,string_1.strReplaceAll)(k," ","_")]=vals[k]}return cvals},ExprEvalContext.prototype.evaluateFilter=function(feat){var cvals=this.cleanValues(feat),cache=(0,ol_style_helpers_1.isClusteredFeature)(feat)?this.clusterFilterCache:this.filterCache;for(var filter in cache)if(1==cache[filter].evaluate(cvals))return filter},ExprEvalContext.prototype.evaluate=function(expr,feat){var cvals=this.cleanValues(feat);return(0,ol_style_helpers_1.isClusteredFeature)(feat)?(this.addClusterExpr(expr),this.clusterExprCache[expr].evaluate(cvals)):(this.addExpr(expr),this.exprCache[expr].evaluate(cvals))},ExprEvalContext}();exports.ExprEvalContext=ExprEvalContext},10501:function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.GenericLayerSetOL=exports.DEFAULT_METERS_PER_UNIT=void 0;var tslib_1=__webpack_require__(70655),base_layer_set_1=__webpack_require__(45574),Tile_1=(0,tslib_1.__importDefault)(__webpack_require__(92479)),Image_1=(0,tslib_1.__importDefault)(__webpack_require__(20228));exports.DEFAULT_METERS_PER_UNIT=1;var GenericLayerSetOL=function(_super){function GenericLayerSetOL(view,subjectLayer,extent,externalBaseLayersGroup,projection,metersPerUnit,dpi){void 0===metersPerUnit&&(metersPerUnit=exports.DEFAULT_METERS_PER_UNIT),void 0===dpi&&(dpi=96);var _this=_super.call(this,externalBaseLayersGroup,projection,dpi,extent,39.37*metersPerUnit,view)||this;return _this.subjectLayer=subjectLayer,_this}return(0,tslib_1.__extends)(GenericLayerSetOL,_super),GenericLayerSetOL.prototype.getLayers=function(){var layers=[];return this.externalBaseLayersGroup&&layers.push(this.externalBaseLayersGroup),this.subjectLayer&&layers.push(this.subjectLayer),layers},GenericLayerSetOL.prototype.getSourcesForProgressTracking=function(){var sources=[];if(this.externalBaseLayersGroup)for(var _i=0,bls_1=this.externalBaseLayersGroup.getLayersArray();_i<bls_1.length;_i++){var bl=bls_1[_i];(bl instanceof Image_1.default||bl instanceof Tile_1.default)&&sources.push(bl.getSource())}return(this.subjectLayer instanceof Image_1.default||this.subjectLayer instanceof Tile_1.default)&&sources.push(this.subjectLayer.getSource()),sources},GenericLayerSetOL.prototype.updateTransparency=function(trans){},GenericLayerSetOL.prototype.showActiveSelectedFeature=function(mapExtent,size,uri){},GenericLayerSetOL.prototype.update=function(showGroups,showLayers,hideGroups,hideLayers){},GenericLayerSetOL.prototype.updateSelectionColor=function(color){},GenericLayerSetOL}(base_layer_set_1.BaseLayerSetOL);exports.GenericLayerSetOL=GenericLayerSetOL},196:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(69600),__webpack_require__(23123),__webpack_require__(74916),Object.defineProperty(exports,"__esModule",{value:!0}),exports.tr=exports.fmt=exports.registerStringBundle=exports.DEFAULT_LOCALE=void 0;var en_1=__webpack_require__(48539),logger_1=__webpack_require__(97838);exports.DEFAULT_LOCALE="en";var STRINGS={en:en_1.STRINGS_EN};function fmt(format,args){var str=format;if(null!=args){for(var p in args)str=str.split("{"+p+"}").join(args[p]);return str}return str}exports.registerStringBundle=function registerStringBundle(locale,bundle){STRINGS[locale]=bundle},exports.fmt=fmt,exports.tr=function tr(key,locale,args){void 0===locale&&(locale=exports.DEFAULT_LOCALE);var bundle=STRINGS[locale];if(bundle){var str=bundle[key];return str?null!=args?fmt(str,args):str:((0,logger_1.warn)("String bundle for locale ("+locale+") is missing localized string for key: "+key),key)}return(0,logger_1.warn)("No such string bundle for locale: "+locale),key}},69615:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(43290),__webpack_require__(21249),__webpack_require__(68309),__webpack_require__(88674),__webpack_require__(41539),__webpack_require__(26699),__webpack_require__(32023),Object.defineProperty(exports,"__esModule",{value:!0}),exports.LayerManager=exports.getLayerInfo=void 0;var tslib_1=__webpack_require__(70655),common_1=__webpack_require__(18036),Vector_1=(0,tslib_1.__importDefault)(__webpack_require__(30933)),ol_style_helpers_1=__webpack_require__(68189),Tile_1=(0,tslib_1.__importDefault)(__webpack_require__(92479)),Image_1=(0,tslib_1.__importDefault)(__webpack_require__(20228)),ImageWMS_1=(0,tslib_1.__importDefault)(__webpack_require__(42225)),TileWMS_1=(0,tslib_1.__importDefault)(__webpack_require__(14409)),Vector_2=(0,tslib_1.__importDefault)(__webpack_require__(86333)),Heatmap_1=(0,tslib_1.__importDefault)(__webpack_require__(7061)),driver_registry_1=__webpack_require__(67036),i18n_1=__webpack_require__(196),ol_style_contracts_1=__webpack_require__(42720),external_layer_factory_1=__webpack_require__(31807),colorbrewer_1=(0,tslib_1.__importDefault)(__webpack_require__(79020)),string_1=__webpack_require__(53775),color_brewer_1=__webpack_require__(21363);function cloneObject(obj){return JSON.parse(JSON.stringify(obj))}function clonePointWithFill(baseTemplate,fillColor){if(baseTemplate){var clone=cloneObject(baseTemplate);switch(clone.type){case"Circle":clone.fill.color=fillColor}return clone}}function cloneLineWithFill(baseTemplate,fillColor){if(baseTemplate){var clone=cloneObject(baseTemplate);return clone.color=fillColor,clone}}function clonePolyWithFill(baseTemplate,fillColor){if(baseTemplate){var clone=cloneObject(baseTemplate);return clone.fill.color=fillColor,clone}}function ensureLabelText(style,expr,isLine){void 0===isLine&&(isLine=!1),style.label?style.label.text=expr:(style.label={text:expr,textAlign:"left",offsetX:15,fill:{color:"#000000",alpha:255},stroke:{color:"#ffffff",alpha:255,width:3}},isLine&&(style.label.placement="line"))}function ensureLabelTextForStyle(fstyle,expr){fstyle.line&&ensureLabelText(fstyle.line,expr,!0),fstyle.point&&ensureLabelText(fstyle.point,expr),fstyle.polygon&&ensureLabelText(fstyle.polygon,expr)}exports.getLayerInfo=function getLayerInfo(layer,isExternal){var _a,_b,vectorStyle,cs,ext,hs;if(layer instanceof Image_1.default||layer instanceof Tile_1.default){var source_1=layer.getSource();1==layer.get(common_1.LayerProperty.HAS_WMS_LEGEND)&&(source_1 instanceof ImageWMS_1.default||source_1 instanceof TileWMS_1.default)&&(ext={type:"WMS",getLegendUrl:function getLegendUrl(res){return source_1.getLegendUrl(res)}})}if(layer instanceof Vector_2.default){var vs=layer.get(common_1.LayerProperty.VECTOR_STYLE);vs&&(vectorStyle=vs.toVectorLayerStyle(),cs=vs.toClusterSettings())}return layer instanceof Heatmap_1.default&&(hs={blur:layer.getBlur(),radius:layer.getRadius()}),{visible:layer.getVisible(),selectable:1==layer.get(common_1.LayerProperty.IS_SELECTABLE),name:layer.get(common_1.LayerProperty.LAYER_NAME),displayName:null!==(_a=layer.get(common_1.LayerProperty.LAYER_DISPLAY_NAME))&&void 0!==_a?_a:layer.get(common_1.LayerProperty.LAYER_NAME),description:layer.get(common_1.LayerProperty.LAYER_DESCRIPTION),type:layer.get(common_1.LayerProperty.LAYER_TYPE),opacity:layer.getOpacity(),isExternal:isExternal,extensions:ext,vectorStyle:vectorStyle,cluster:cs,heatmap:hs,busyWorkerCount:null!==(_b=layer.get(common_1.LayerProperty.BUSY_WORKER_COUNT))&&void 0!==_b?_b:0,metadata:layer.get(common_1.LayerProperty.LAYER_METADATA)}};var LayerManager=function(){function LayerManager(map,layerSet){this.map=map,this.layerSet=layerSet,this._olFormats=(0,driver_registry_1.getFormatDrivers)()}return LayerManager.prototype.tryGetSubjectLayer=function(){return this.layerSet.tryGetSubjectLayer()},LayerManager.prototype.addExternalLayer=function(extLayer,onlyAddIfNotExists,appSettings){if(!onlyAddIfNotExists||!this.hasLayer(extLayer.name))return this.layerSet.addExternalLayer(this.map,extLayer,appSettings)},LayerManager.prototype.getLayers=function(){return this.layerSet.getCustomLayers(this.map)},LayerManager.prototype.hasLayer=function(name){return this.layerSet.hasLayer(name)},LayerManager.prototype.addLayer=function(name,layer,allowReplace){return this.layerSet.addLayer(this.map,name,layer,allowReplace)},LayerManager.prototype.removeLayer=function(name){return this.layerSet.removeLayer(this.map,name)},LayerManager.prototype.getLayer=function(name){return this.layerSet.getLayer(name)},LayerManager.prototype.apply=function(layers){this.layerSet.apply(this.map,layers)},LayerManager.prototype.parseFeaturesFromFile=function(options){var file=options.file,layerName=options.name,locale=options.locale,that=this;return new Promise((function(resolve,reject){var reader=new FileReader;reader.addEventListener("load",(function handler(e){var _a;return(0,tslib_1.__awaiter)(this,void 0,void 0,(function(){var result,formats,loadedType,bLoaded,i,ii,format;return(0,tslib_1.__generator)(this,(function(_b){switch(_b.label){case 0:if(!(result=null===(_a=e.target)||void 0===_a?void 0:_a.result)||"string"!=typeof result)return[3,8];0==(formats=that._olFormats).length&&reject(new Error((0,i18n_1.tr)("ADD_LOCAL_FILE_LAYER_FAILURE_NO_FORMATS",locale))),loadedType=void 0,bLoaded=!1,i=0,ii=formats.length,_b.label=1;case 1:if(!(i<ii))return[3,7];format=formats[i],_b.label=2;case 2:return _b.trys.push([2,4,,5]),[4,format.tryParse(file.size,result)];case 3:return loadedType=_b.sent(),[3,5];case 4:return _b.sent(),[3,5];case 5:if(loadedType&&loadedType.hasFeatures())return loadedType.name=layerName,bLoaded=!0,[3,7];_b.label=6;case 6:return++i,[3,1];case 7:return bLoaded&&loadedType?resolve(loadedType):reject(new Error((0,i18n_1.tr)("ADD_LOCAL_FILE_LAYER_FAILURE",locale))),[3,9];case 8:reject(new Error((0,i18n_1.tr)("ADD_LOCAL_FILE_LAYER_FAILURE_NOT_TEXT",locale))),_b.label=9;case 9:return[2]}}))}))})),reader.readAsText(file)}))},LayerManager.prototype.addLayerFromParsedFeatures=function(options){var _a,_b,_c;return(0,tslib_1.__awaiter)(this,void 0,void 0,(function(){var features,projection,defaultStyle,extraOptions,labelOnProperty,selectedPopupTemplate,metadata,proj,view,source,csArgs,layer,clusterSettings,k,bStyle,values,baseTemplatePoint,baseTemplateLine,baseTemplatePoly,th,ramp,chosenRamp,ruleCount,palette,i,v,filter,style;return(0,tslib_1.__generator)(this,(function(_d){switch(_d.label){case 0:return features=options.features,projection=options.projection,defaultStyle=options.defaultStyle,extraOptions=options.extraOptions,labelOnProperty=options.labelOnProperty,selectedPopupTemplate=options.selectedPopupTemplate,metadata=options.metadata,(proj=projection)||(view=this.map.getView(),proj=view.getProjection()),(source=new Vector_1.default).set(common_1.SourceProperty.SUPPRESS_LOAD_EVENTS,!0),"Cluster"==(null==extraOptions?void 0:extraOptions.kind)&&(csArgs={distance:extraOptions.clusterDistance}),layer="Heatmap"==(null==extraOptions?void 0:extraOptions.kind)?new Heatmap_1.default({source:source,weight:extraOptions.weightProperty}):new Vector_2.default({source:(0,external_layer_factory_1.clusterSourceIfRequired)(source,{cluster:csArgs}),className:"external-vector-layer",declutter:!0}),[4,features.addTo(source,this.map.getView().getProjection(),proj)];case 1:if(_d.sent(),layer.set(common_1.LayerProperty.LAYER_NAME,features.name),layer.set(common_1.LayerProperty.LAYER_DISPLAY_NAME,features.name),layer.set(common_1.LayerProperty.LAYER_TYPE,features.type),"Heatmap"==(null==extraOptions?void 0:extraOptions.kind)?layer.set(common_1.LayerProperty.IS_HEATMAP,!0):layer.set(common_1.LayerProperty.IS_SELECTABLE,!0),layer.set(common_1.LayerProperty.IS_EXTERNAL,!0),layer.set(common_1.LayerProperty.IS_GROUP,!1),metadata&&layer.set(common_1.LayerProperty.LAYER_METADATA,metadata),selectedPopupTemplate&&layer.set(common_1.LayerProperty.SELECTED_POPUP_CONFIGURATION,selectedPopupTemplate),"Cluster"==(null==extraOptions?void 0:extraOptions.kind)&&(clusterSettings={distance:extraOptions.clusterDistance,onClick:null!==(_a=extraOptions.onClusterClickAction)&&void 0!==_a?_a:ol_style_contracts_1.ClusterClickAction.ShowPopup,style:cloneObject(null!==(_c=null!==(_b=extraOptions.clusterStyle)&&void 0!==_b?_b:defaultStyle)&&void 0!==_c?_c:ol_style_contracts_1.DEFAULT_CLUSTERED_LAYER_STYLE)},!(0,string_1.strIsNullOrEmpty)(labelOnProperty)))for(k in clusterSettings.style)ensureLabelTextForStyle(clusterSettings.style[k],{expr:"if (arr_size(features) == 1, feat_property(features[0], '"+labelOnProperty+"'), '')"});return bStyle=null!=defaultStyle?defaultStyle:cloneObject(ol_style_contracts_1.DEFAULT_VECTOR_LAYER_STYLE),features.geometryTypes.includes("Point")||(delete bStyle.default.point,null==clusterSettings||delete clusterSettings.style.default.point),features.geometryTypes.includes("LineString")||(delete bStyle.default.line,null==clusterSettings||delete clusterSettings.style.default.line),features.geometryTypes.includes("Polygon")||(delete bStyle.default.polygon,null==clusterSettings||delete clusterSettings.style.default.polygon),(0,string_1.strIsNullOrEmpty)(labelOnProperty)||ensureLabelTextForStyle(bStyle.default,{expr:labelOnProperty}),"Theme"!=(null==extraOptions?void 0:extraOptions.kind)?[3,3]:[4,features.getDistinctValues(extraOptions.themeOnProperty)];case 2:for(values=_d.sent(),baseTemplatePoint=bStyle.default.point,baseTemplateLine=bStyle.default.line,baseTemplatePoly=bStyle.default.polygon,th=extraOptions.colorBrewerTheme,(ramp=colorbrewer_1.default[th])||(ramp=colorbrewer_1.default.Blues),chosenRamp=(0,color_brewer_1.getMaxRamp)(ramp),ruleCount=Math.min(values.length,chosenRamp.length),palette=ramp[ruleCount],i=0;i<ruleCount;i++)v=values[i],filter=extraOptions.themeOnProperty+" == '"+v+"'",style={label:v,point:clonePointWithFill(baseTemplatePoint,palette[i]),line:cloneLineWithFill(baseTemplateLine,palette[i]),polygon:clonePolyWithFill(baseTemplatePoly,palette[i])},(0,string_1.strIsNullOrEmpty)(labelOnProperty)||ensureLabelTextForStyle(style,{expr:labelOnProperty}),bStyle[filter]=style;_d.label=3;case 3:return layer instanceof Vector_2.default&&(0,ol_style_helpers_1.setOLVectorLayerStyle)(layer,bStyle,clusterSettings),[2,this.addLayer(features.name,layer)]}}))}))},LayerManager}();exports.LayerManager=LayerManager},62599:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(88674),__webpack_require__(41539),__webpack_require__(57327),Object.defineProperty(exports,"__esModule",{value:!0}),exports.CSV_COLUMN_ALIASES=exports.CsvFormatDriver=void 0;var tslib_1=__webpack_require__(70655),GeoJSON_1=(0,tslib_1.__importDefault)(__webpack_require__(64678)),parsed_features_1=__webpack_require__(24793),string_1=__webpack_require__(53775),Papa=__webpack_require__(57460),CsvFormatDriver=function(){function CsvFormatDriver(aliases){this.aliases=aliases,this.type="CSV"}return CsvFormatDriver.prototype.tryParse=function(size,text){var aliases=this.aliases,type=this.type;return new Promise((function(resolve,reject){Papa.parse(text,{header:!0,complete:function complete(results){var _a,_b,_this=this;if(results.data&&0!=results.data.length)if(results.meta.fields){for(var parsed=void 0,_loop_1=function _loop_1(alias){if(parsed)return"break";var xc=null===(_a=results.meta.fields.filter((function(s){return s.toLowerCase()==alias.xColumn.toLowerCase()})))||void 0===_a?void 0:_a[0],yc=null===(_b=results.meta.fields.filter((function(s){return s.toLowerCase()==alias.yColumn.toLowerCase()})))||void 0===_b?void 0:_b[0];if(!(0,string_1.strIsNullOrEmpty)(xc)&&!(0,string_1.strIsNullOrEmpty)(yc)){var first=results.data[0],firstX=parseFloat(first[xc]),firstY=parseFloat(first[yc]);if(first&&!isNaN(firstX)&&!isNaN(firstY)){for(var json={type:"FeatureCollection",features:[]},_c=0,_d=results.data;_c<_d.length;_c++){var d=_d[_c],x=parseFloat(d[xc]),y=parseFloat(d[yc]);if(!isNaN(x)&&!isNaN(y)){var f={type:"Feature",geometry:{coordinates:[x,y],type:"Point"},properties:d};delete f.properties[xc],delete f.properties[yc],json.features.push(f)}}var features_1=(new GeoJSON_1.default).readFeatures(json),propNames=[];if(features_1.length>0)for(var first_1=features_1[0],_e=0,_f=first_1.getKeys();_e<_f.length;_e++){var k=_f[_e];k!=first_1.getGeometryName()&&propNames.push(k)}return parsed=new parsed_features_1.ParsedFeatures(type,size,(function pfs(){return(0,tslib_1.__awaiter)(_this,void 0,void 0,(function(){return(0,tslib_1.__generator)(this,(function(_a){return[2,features_1]}))}))}),features_1.length>0,["Point"],propNames),"break"}}},_i=0,aliases_1=aliases;_i<aliases_1.length;_i++){if("break"===_loop_1(aliases_1[_i]))break}parsed?resolve(parsed):reject(new Error("Data successfully parsed as CSV, but coordinate columns could not be found"))}else reject(new Error("No fields found in CSV metadata"));else reject(new Error("No data parsed. Probably not a CSV file"))}})}))},CsvFormatDriver}();exports.CsvFormatDriver=CsvFormatDriver,exports.CSV_COLUMN_ALIASES=[{xColumn:"lon",yColumn:"lat"},{xColumn:"lng",yColumn:"lat"},{xColumn:"longitude",yColumn:"latitude"},{xColumn:"x",yColumn:"y"},{xColumn:"easting",yColumn:"northing"}]},67036:function(__unused_webpack_module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.addFormatDriver=exports.getFormatDrivers=void 0;var _drivers=[];exports.getFormatDrivers=function getFormatDrivers(){return _drivers},exports.addFormatDriver=function addFormatDriver(driver){_drivers.push(driver)}},61407:function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FormatDriver=void 0;var tslib_1=__webpack_require__(70655),parsed_features_1=__webpack_require__(24793),FormatDriver=function(){function FormatDriver(type,format,defaultProjection){void 0===defaultProjection&&(defaultProjection=null),this.type=type,this.format=format,this.defaultProjection=defaultProjection}return FormatDriver.prototype.tryParse=function(size,text){return(0,tslib_1.__awaiter)(this,void 0,void 0,(function(){var fs,bHasPoint,bHasLine,bHasPoly,_i,fs_1,f,g,geomTypes,propNames,first,_a,_b,k,features,_this=this;return(0,tslib_1.__generator)(this,(function(_c){for(fs=this.format.readFeatures(text),bHasPoint=!1,bHasLine=!1,bHasPoly=!1,_i=0,fs_1=fs;_i<fs_1.length;_i++)switch(f=fs_1[_i],null==(g=f.getGeometry())?void 0:g.getType()){case"Point":bHasPoint=!0;break;case"LineString":case"LinearRing":bHasLine=!0;break;case"Polygon":bHasPoly=!0;break;case"MultiPoint":bHasPoint=!0;break;case"MultiLineString":bHasLine=!0;break;case"MultiPolygon":bHasPoly=!0;break;case"GeometryCollection":bHasPoint=!0;break;case"Circle":bHasPoly=!0}if(geomTypes=[],bHasPoint&&geomTypes.push("Point"),bHasLine&&geomTypes.push("LineString"),bHasPoly&&geomTypes.push("Polygon"),propNames=[],fs.length>0)for(first=fs[0],_a=0,_b=first.getKeys();_a<_b.length;_a++)(k=_b[_a])!=first.getGeometryName()&&propNames.push(k);return features=function features(){return(0,tslib_1.__awaiter)(_this,void 0,void 0,(function(){return(0,tslib_1.__generator)(this,(function(_a){return[2,fs]}))}))},[2,new parsed_features_1.ParsedFeatures(this.type,size,features,fs.length>0,geomTypes,propNames,this.defaultProjection)]}))}))},FormatDriver}();exports.FormatDriver=FormatDriver},24793:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(26699),__webpack_require__(32023),Object.defineProperty(exports,"__esModule",{value:!0}),exports.ParsedFeatures=void 0;var tslib_1=__webpack_require__(70655),string_1=__webpack_require__(53775),ParsedFeatures=function(){function ParsedFeatures(type,size,features,hasFeaturesFlag,geometryTypes,propertyNames,projection){void 0===projection&&(projection=null),this.type=type,this.size=size,this.features=features,this.hasFeaturesFlag=hasFeaturesFlag,this.geometryTypes=geometryTypes,this.propertyNames=propertyNames,this.projection=projection}return ParsedFeatures.prototype.hasFeatures=function(){return this.hasFeaturesFlag},ParsedFeatures.prototype.addTo=function(source,mapProjection,dataProjection){return(0,tslib_1.__awaiter)(this,void 0,void 0,(function(){var features,_i,features_1,f,g,tg;return(0,tslib_1.__generator)(this,(function(_a){switch(_a.label){case 0:return[4,this.features()];case 1:if(features=_a.sent(),dataProjection)for(_i=0,features_1=features;_i<features_1.length;_i++)f=features_1[_i],(g=f.getGeometry())&&(tg=g.transform(dataProjection,mapProjection),f.setGeometry(tg));return source.addFeatures(features),[2]}}))}))},ParsedFeatures.prototype.getDistinctValues=function(propertyName){return(0,tslib_1.__awaiter)(this,void 0,void 0,(function(){var values,features,_i,features_2,f,v;return(0,tslib_1.__generator)(this,(function(_a){switch(_a.label){case 0:return values=[],[4,this.features()];case 1:for(features=_a.sent(),_i=0,features_2=features;_i<features_2.length;_i++)f=features_2[_i],v=f.get(propertyName),(0,string_1.strIsNullOrEmpty)(v)||values.includes(v)||values.push(v);return[2,values]}}))}))},ParsedFeatures}();exports.ParsedFeatures=ParsedFeatures},83709:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(21249),__webpack_require__(47941),__webpack_require__(2707),__webpack_require__(57327),__webpack_require__(68309),Object.defineProperty(exports,"__esModule",{value:!0}),exports.LayerSetGroupBase=void 0;var tslib_1=__webpack_require__(70655),common_1=__webpack_require__(18036),ol_mapguide_source_factory_1=__webpack_require__(6768),layer_manager_1=__webpack_require__(69615),error_1=__webpack_require__(59404),i18n_1=__webpack_require__(196),ol_style_helpers_1=__webpack_require__(68189),Vector_1=(0,tslib_1.__importDefault)(__webpack_require__(86333)),Vector_2=(0,tslib_1.__importDefault)(__webpack_require__(30933)),Image_1=(0,tslib_1.__importDefault)(__webpack_require__(50636)),TileImage_1=(0,tslib_1.__importDefault)(__webpack_require__(3769)),View_1=(0,tslib_1.__importDefault)(__webpack_require__(59220)),external_layer_factory_1=__webpack_require__(31807),Tile_1=(0,tslib_1.__importDefault)(__webpack_require__(92479)),UrlTile_1=(0,tslib_1.__importDefault)(__webpack_require__(7074)),Image_2=(0,tslib_1.__importDefault)(__webpack_require__(20228)),logger_1=__webpack_require__(97838),Fill_1=(0,tslib_1.__importDefault)(__webpack_require__(51345)),Stroke_1=(0,tslib_1.__importDefault)(__webpack_require__(58958)),Style_1=(0,tslib_1.__importDefault)(__webpack_require__(47539)),Text_1=(0,tslib_1.__importDefault)(__webpack_require__(21280)),Heatmap_1=(0,tslib_1.__importDefault)(__webpack_require__(7061)),HIGHLIGHT_STYLE=new Style_1.default({stroke:new Stroke_1.default({color:"#f00",width:3}),fill:new Fill_1.default({color:"rgba(255,0,0,0.1)"}),text:new Text_1.default({font:"12px Calibri,sans-serif",fill:new Fill_1.default({color:"#000"}),stroke:new Stroke_1.default({color:"#f00",width:3})})}),LayerSetGroupBase=function(){function LayerSetGroupBase(callback){var _this=this;this.callback=callback,this.updateTransparency=function(trans){return _this.mainSet.updateTransparency(trans)},this.fitViewToExtent=function(){return _this.mainSet.view.fit(_this.mainSet.extent)},this.getView=function(){return _this.mainSet.view},this.getDpi=function(){return _this.mainSet.dpi},this.getExtent=function(){return _this.mainSet.extent},this.getLayersForOverviewMap=function(){return _this.overviewSet.getLayers()},this.getProjection=function(){return _this.mainSet.projection},this.refreshMap=function(mode){return _this.mainSet.refreshMap(mode)},this.showActiveSelectedFeature=function(mapExtent,size,uri){return _this.mainSet.showActiveSelectedFeature(mapExtent,size,uri)},this.getMetersPerUnit=function(){return _this.mainSet.getMetersPerUnit()},this.scaleToResolution=function(scale){return _this.mainSet.scaleToResolution(scale)},this.resolutionToScale=function(resolution){return _this.mainSet.resolutionToScale(resolution)},this._customLayers={},this.scratchLayer=new Vector_1.default({source:new Vector_2.default}),this.scratchLayer.set(common_1.LayerProperty.LAYER_NAME,"__SCRATCH__"),this.scratchLayer.set(common_1.LayerProperty.IS_SCRATCH,!0),this.wmsSelOverlayLayer=new Vector_1.default({source:new Vector_2.default}),this.wmsSelOverlayLayer.set(common_1.LayerProperty.LAYER_NAME,"__WMS_SELECTION_OVERLAY__"),this.wmsSelOverlayLayer.set(common_1.LayerProperty.IS_WMS_SELECTION_OVERLAY,!0),this.hoverHighlightLayer=new Vector_1.default({source:new Vector_2.default,style:function style(feature){return HIGHLIGHT_STYLE}}),this.hoverHighlightLayer.set(common_1.LayerProperty.LAYER_NAME,"__HOVER_HIGHLIGHT__"),this.hoverHighlightLayer.set(common_1.LayerProperty.IS_HOVER_HIGHLIGHT,!0)}return LayerSetGroupBase.prototype.addHighlightedFeature=function(feature){this.hoverHighlightLayer.getSource().addFeature(feature)},LayerSetGroupBase.prototype.removeHighlightedFeature=function(feature){var hs=this.hoverHighlightLayer.getSource();hs.hasFeature(feature)&&hs.removeFeature(feature)},LayerSetGroupBase.prototype.clearHighlightedFeatures=function(){this.hoverHighlightLayer.getSource().clear()},LayerSetGroupBase.prototype.tryGetSubjectLayer=function(){},LayerSetGroupBase.prototype.addWmsSelectionOverlay=function(feat){this.wmsSelOverlayLayer.getSource().addFeature(feat)},LayerSetGroupBase.prototype.clearWmsSelectionOverlay=function(){this.wmsSelOverlayLayer.getSource().clear()},LayerSetGroupBase.prototype.addScratchFeature=function(feat){this.scratchLayer.getSource().addFeature(feat)},LayerSetGroupBase.prototype.clearScratchLayer=function(){this.scratchLayer.getSource().clear()},LayerSetGroupBase.prototype.registerSourceEvents=function(source){source instanceof Image_1.default?(source.on("imageloadstart",this.callback.addImageLoading),(0,ol_mapguide_source_factory_1.isMapGuideImageSource)(source)&&source.on("imageloaderror",this.callback.onImageError),source.on("imageloaderror",this.callback.addImageLoaded),source.on("imageloadend",this.callback.addImageLoaded)):source instanceof TileImage_1.default&&(source.on("tileloadstart",this.callback.addImageLoading),source.on("tileloaderror",this.callback.addImageLoaded),source.on("tileloadend",this.callback.addImageLoaded))},LayerSetGroupBase.prototype.updateExternalBaseLayers=function(externalBaseLayers){this.mainSet.updateExternalBaseLayers(externalBaseLayers),this.overviewSet.updateExternalBaseLayers(externalBaseLayers)},LayerSetGroupBase.prototype.attach=function(map,ovMapControl,bSetLayers){var _this=this;void 0===bSetLayers&&(bSetLayers=!0);var layers=map.getLayers();layers.insertAt(0,this.hoverHighlightLayer),layers.insertAt(0,this.scratchLayer);var customLayers=Object.keys(this._customLayers).map((function(k){return _this._customLayers[k]}));customLayers.sort((function(a,b){return a.order-b.order}));for(var _i=0,customLayers_1=customLayers;_i<customLayers_1.length;_i++){var item=customLayers_1[_i];layers.remove(item.layer)}for(var _a=0,customLayers_2=customLayers;_a<customLayers_2.length;_a++){item=customLayers_2[_a];layers.insertAt(0,item.layer)}for(var allLayers=this.mainSet.getLayers(),i=allLayers.length-1;i>=0;i--)layers.insertAt(0,allLayers[i]);if(map.setView(this.mainSet.view),bSetLayers){for(var ovMap=ovMapControl.getOverviewMap(),_b=0,ovLayers_1=this.getLayersForOverviewMap();_b<ovLayers_1.length;_b++){var layer=ovLayers_1[_b];ovMap.addLayer(layer)}var center=this.mainSet.view.getCenter();if(center)ovMap.setView(new View_1.default({center:[center[0],center[1]],resolution:this.mainSet.view.getResolution(),projection:this.mainSet.view.getProjection()}));else{var view=new View_1.default({projection:this.mainSet.view.getProjection()});ovMap.setView(view),view.fit(this.mainSet.extent,{size:ovMap.getSize()})}}},LayerSetGroupBase.prototype.detach=function(map,ovMapControl){for(var _i=0,allLayers_1=this.mainSet.getLayers();_i<allLayers_1.length;_i++){var layer=allLayers_1[_i];map.removeLayer(layer)}for(var layerName in this._customLayers)map.removeLayer(this._customLayers[layerName].layer);map.removeLayer(this.scratchLayer),map.removeLayer(this.hoverHighlightLayer);for(var ovLayers=this.getLayersForOverviewMap(),ovMap=ovMapControl.getOverviewMap(),_a=0,ovLayers_2=ovLayers;_a<ovLayers_2.length;_a++){layer=ovLayers_2[_a];ovMap.removeLayer(layer)}},LayerSetGroupBase.prototype.getCustomLayers=function(map){var _this=this;return map.getLayers().getArray().filter((function(l){return null!=_this._customLayers[l.get(common_1.LayerProperty.LAYER_NAME)]})).map((function(l){return(0,tslib_1.__assign)((0,tslib_1.__assign)({},(0,layer_manager_1.getLayerInfo)(l,!0)),{isSelectable:1==_this._customLayers[l.get(common_1.LayerProperty.LAYER_NAME)].layer.get(common_1.LayerProperty.IS_SELECTABLE),order:_this._customLayers[l.get(common_1.LayerProperty.LAYER_NAME)].order})})).reverse()},LayerSetGroupBase.prototype.hasLayer=function(name){return null!=this._customLayers[name]},LayerSetGroupBase.prototype.addExternalLayer=function(map,extLayer,appSettings){var layer=(0,external_layer_factory_1.createOLLayerFromSubjectDefn)(extLayer,map.getView().getProjection(),!0,appSettings);return this.addLayer(map,extLayer.name,layer)},LayerSetGroupBase.prototype.addLayer=function(map,name,layer,allowReplace){var bAllow=!!allowReplace;if(this._customLayers[name]){if(!bAllow)throw new error_1.MgError((0,i18n_1.tr)("LAYER_NAME_EXISTS",this.callback.getLocale(),{name:name}));map.removeLayer(this._customLayers[name].layer)}layer.get(common_1.LayerProperty.LAYER_NAME)!=name&&layer.set(common_1.LayerProperty.LAYER_NAME,name),layer.get(common_1.LayerProperty.LAYER_DISPLAY_NAME)||layer.set(common_1.LayerProperty.LAYER_DISPLAY_NAME,name),map.removeLayer(layer),map.addLayer(layer),this._customLayers[name]={layer:layer,order:map.getLayers().getArray().indexOf(layer)};var tileLoaders=this.callback.getTileLoaders();for(var k in tileLoaders){var func=tileLoaders[k],layer_1=this.getLayer(k);if(layer_1)if(layer_1 instanceof Tile_1.default)(source=layer_1.getSource())instanceof UrlTile_1.default&&(source.setTileLoadFunction(func),(0,logger_1.debug)("Added custom tile loader for layer: "+k))}var imageLoaders=this.callback.getImageLoaders();for(var k in imageLoaders){func=imageLoaders[k];var source,layer_2=this.getLayer(k);if(layer_2)if(layer_2 instanceof Image_2.default)"function"==typeof(source=layer_2.getSource()).setImageLoadFunction&&(source.setImageLoadFunction(func),(0,logger_1.debug)("Added custom tile loader for layer: "+k))}return(0,tslib_1.__assign)((0,tslib_1.__assign)({},(0,layer_manager_1.getLayerInfo)(layer,!0)),{isSelectable:1==this._customLayers[name].layer.get(common_1.LayerProperty.IS_SELECTABLE),order:this._customLayers[name].order})},LayerSetGroupBase.prototype.removeLayer=function(map,name){var layer;if(this._customLayers[name])return layer=this._customLayers[name].layer,map.removeLayer(layer),delete this._customLayers[name],layer},LayerSetGroupBase.prototype.getLayer=function(name){var _a,layer;return this._customLayers[name]&&(layer=null===(_a=this._customLayers[name])||void 0===_a?void 0:_a.layer),layer},LayerSetGroupBase.prototype.apply=function(map,layers){for(var _a,theMeasureLayer,layersByName=layers.reduce((function(current,layer){return current[layer.name]=layer,current}),{}),_i=0,layers_1=layers;_i<layers_1.length;_i++){var layer=layers_1[_i],oll=null===(_a=this._customLayers[layer.name])||void 0===_a?void 0:_a.layer;oll&&(oll.setVisible(layer.visible),oll.setOpacity(layer.opacity),oll.set(common_1.LayerProperty.BUSY_WORKER_COUNT,layer.busyWorkerCount),oll instanceof Vector_1.default&&layer.vectorStyle&&(0,ol_style_helpers_1.setOLVectorLayerStyle)(oll,layer.vectorStyle,layer.cluster),layer.heatmap&&oll instanceof Heatmap_1.default&&(oll.setBlur(layer.heatmap.blur),oll.setRadius(layer.heatmap.radius)))}for(var layerName in this._customLayers)if(!layersByName[layerName]){var removed=this.removeLayer(map,layerName);!0===(null==removed?void 0:removed.get(common_1.LayerProperty.IS_MEASURE))&&(theMeasureLayer=removed)}var cCurrentLayers=map.getLayers(),currentLayers=cCurrentLayers.getArray().map((function(l){return{name:l.get(common_1.LayerProperty.LAYER_NAME),type:l.get(common_1.LayerProperty.LAYER_TYPE),isExternal:l.get(common_1.LayerProperty.IS_EXTERNAL),isGroup:l.get(common_1.LayerProperty.IS_GROUP),layer:l}})).filter((function(l){return 1==l.isExternal}));if(currentLayers.length!=layers.length){for(var _b=0,currentLayers_1=currentLayers;_b<currentLayers_1.length;_b++){var toRemove=currentLayers_1[_b];map.removeLayer(toRemove.layer)}for(var rn in this._customLayers){toRemove=this._customLayers[rn];map.removeLayer(toRemove.layer)}for(var i=layers.length-1;i>=0;i--){var item=this._customLayers[layers[i].name];item&&(map.addLayer(item.layer),item.order=cCurrentLayers.getArray().indexOf(item.layer))}}else{var bReorder=!1,ii=0;for(i=layers.length-1;i>=0;i--){if((layer=layers[i]).name!=currentLayers[ii].name){bReorder=!0;break}ii++}if(bReorder){for(var _c=0,currentLayers_2=currentLayers;_c<currentLayers_2.length;_c++){toRemove=currentLayers_2[_c];map.removeLayer(toRemove.layer)}var _loop_1=function _loop_1(i){var toAdd=currentLayers.filter((function(l){return l.name==layers[i].name}))[0];map.addLayer(toAdd.layer);var item=this_1._customLayers[layers[i].name];item&&(item.order=cCurrentLayers.getArray().indexOf(toAdd.layer))},this_1=this;for(i=layers.length-1;i>=0;i--)_loop_1(i)}}cCurrentLayers.item(cCurrentLayers.getLength()-1)!=this.scratchLayer&&(map.removeLayer(this.scratchLayer),map.addLayer(this.scratchLayer)),cCurrentLayers.item(cCurrentLayers.getLength()-1)!=this.wmsSelOverlayLayer&&(map.removeLayer(this.wmsSelOverlayLayer),map.addLayer(this.wmsSelOverlayLayer)),cCurrentLayers.item(cCurrentLayers.getLength()-1)!=this.hoverHighlightLayer&&(map.removeLayer(this.hoverHighlightLayer),map.addLayer(this.hoverHighlightLayer)),theMeasureLayer&&cCurrentLayers.item(cCurrentLayers.getLength()-1)!=theMeasureLayer&&(map.removeLayer(theMeasureLayer),map.addLayer(theMeasureLayer))},LayerSetGroupBase}();exports.LayerSetGroupBase=LayerSetGroupBase},32406:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(47941),__webpack_require__(57327),__webpack_require__(54747),__webpack_require__(68309),__webpack_require__(21249),__webpack_require__(15306),__webpack_require__(74916),__webpack_require__(41539),__webpack_require__(39714),Object.defineProperty(exports,"__esModule",{value:!0}),exports.MgInnerLayerSetFactory=exports.MgLayerSetOL=exports.MgLayerSetMode=exports.mockMapGuideImageLoadFunction=exports.blankImageLoadFunction=void 0;var MgLayerSetMode,tslib_1=__webpack_require__(70655),common_1=__webpack_require__(18036),Group_1=(0,tslib_1.__importDefault)(__webpack_require__(68734)),TileGrid_1=(0,tslib_1.__importDefault)(__webpack_require__(8738)),TileImage_1=(0,tslib_1.__importDefault)(__webpack_require__(3769)),ol_mapguide_source_factory_1=__webpack_require__(6768),ImageStatic_1=(0,tslib_1.__importDefault)(__webpack_require__(39293)),number_1=__webpack_require__(96632),View_1=(0,tslib_1.__importDefault)(__webpack_require__(59220)),olExtent=(0,tslib_1.__importStar)(__webpack_require__(28641)),Tile_1=(0,tslib_1.__importDefault)(__webpack_require__(92479)),Image_1=(0,tslib_1.__importDefault)(__webpack_require__(20228)),external_layer_factory_1=__webpack_require__(31807),string_1=__webpack_require__(53775),url_1=__webpack_require__(7976),i18n_1=__webpack_require__(196),olHas=(0,tslib_1.__importStar)(__webpack_require__(40177)),logger_1=__webpack_require__(97838),UrlTile_1=(0,tslib_1.__importDefault)(__webpack_require__(7074)),constants_1=__webpack_require__(12872),generic_layer_set_1=__webpack_require__(10501),proj_1=__webpack_require__(26414),type_guards_1=__webpack_require__(64726),error_1=__webpack_require__(59404),DEFAULT_BOUNDS_3857=[-20026376.39,-20048966.1,20026376.39,20048966.1],DEFAULT_BOUNDS_4326=[-180,-90,180,90];exports.blankImageLoadFunction=function blankImageLoadFunction(image){image.getImage().src=constants_1.BLANK_GIF_DATA_URI},exports.mockMapGuideImageLoadFunction=function mockMapGuideImageLoadFunction(image,src){var el=document.getElementById("mg-debug-text-canvas");el||((el=document.createElement("canvas")).style.visibility="hidden",el.id="mg-debug-text-canvas",document.body.append(el));var tCtx=el.getContext("2d");if(tCtx){tCtx.clearRect(0,0,tCtx.canvas.width,tCtx.canvas.height);var strings=[],parsed=(0,url_1.parseUrl)(src);strings.push("[Mock MapGuide Map Image Request]"),strings.push("Agent: "+parsed.url);var maxSize=tCtx.measureText(strings[0]).width+10,ch=46;maxSize=Math.max(tCtx.measureText(strings[1]).width+10,maxSize),ch+=16;for(var _i=0,keys_1=Object.keys(parsed.query);_i<keys_1.length;_i++){var k=keys_1[_i];if(("MAPNAME"==k||"SETDISPLAYWIDTH"==k||"SETDISPLAYHEIGHT"==k||"SETVIEWCENTERX"==k||"SETVIEWCENTERY"==k||"SETVIEWSCALE"==k)&&!(0,string_1.strIsNullOrEmpty)(parsed.query[k])){var s=k+": "+parsed.query[k];strings.push(s),maxSize=Math.max(tCtx.measureText(s).width+10,maxSize),ch+=16}}tCtx.canvas.width=maxSize,tCtx.canvas.height=ch,tCtx.fillStyle="rgba(255, 0, 0, 0.5)",tCtx.fillRect(0,0,maxSize,ch),tCtx.fillStyle="rgba(255, 255, 0, 1.0)",tCtx.font="14px sans-serif";for(var y=30,_a=0,strings_1=strings;_a<strings_1.length;_a++){var str=strings_1[_a];tCtx.fillText(str,10,y),y+=15}image.getImage().src=tCtx.canvas.toDataURL()}},function(MgLayerSetMode){MgLayerSetMode[MgLayerSetMode.Stateless=0]="Stateless",MgLayerSetMode[MgLayerSetMode.Stateful=1]="Stateful",MgLayerSetMode[MgLayerSetMode.OverviewMap=2]="OverviewMap"}(MgLayerSetMode=exports.MgLayerSetMode||(exports.MgLayerSetMode={}));var MgLayerSetOL=function(){function MgLayerSetOL(mgTiledLayers,externalBaseLayersGroup,overlay,projection,dpi,extent,inPerUnit,view){this.mgTiledLayers=mgTiledLayers,this.externalBaseLayersGroup=externalBaseLayersGroup,this.overlay=overlay,this.projection=projection,this.dpi=dpi,this.extent=extent,this.inPerUnit=inPerUnit,this.view=view}return MgLayerSetOL.prototype.getMetersPerUnit=function(){return this.inPerUnit/39.37},MgLayerSetOL.prototype.scaleToResolution=function(scale){return scale/this.inPerUnit/this.dpi*olHas.DEVICE_PIXEL_RATIO},MgLayerSetOL.prototype.resolutionToScale=function(resolution){return resolution*this.dpi*this.inPerUnit/olHas.DEVICE_PIXEL_RATIO},MgLayerSetOL.prototype.getSourcesForProgressTracking=function(){var sources=[];if(this.externalBaseLayersGroup)for(var _i=0,bls_1=this.externalBaseLayersGroup.getLayersArray();_i<bls_1.length;_i++){var bl=bls_1[_i];(bl instanceof Image_1.default||bl instanceof Tile_1.default)&&sources.push(bl.getSource())}for(var i=this.mgTiledLayers.length-1;i>=0;i--)sources.push(this.mgTiledLayers[i].getSource());return sources.push(this.overlay.getSource()),this.selectionOverlay&&sources.push(this.selectionOverlay.getSource()),this.activeSelectedFeatureOverlay&&sources.push(this.activeSelectedFeatureOverlay.getSource()),sources},MgLayerSetOL.prototype.getLayers=function(){var layers=[];this.externalBaseLayersGroup&&layers.push(this.externalBaseLayersGroup);for(var i=this.mgTiledLayers.length-1;i>=0;i--)layers.push(this.mgTiledLayers[i]);return layers.push(this.overlay),this.selectionOverlay&&layers.push(this.selectionOverlay),this.activeSelectedFeatureOverlay&&layers.push(this.activeSelectedFeatureOverlay),layers},MgLayerSetOL.prototype.update=function(showGroups,showLayers,hideGroups,hideLayers){if(this.overlay.getSource().updateParams({showlayers:showLayers,showgroups:showGroups,hidelayers:hideLayers,hidegroups:hideGroups}),showGroups&&showGroups.length>0)for(var _loop_1=function _loop_1(groupId){var match=this_1.mgTiledLayers.filter((function(l){return l.get(common_1.LayerProperty.LAYER_NAME)===groupId}));1==match.length&&match[0].setVisible(!0)},this_1=this,_i=0,showGroups_1=showGroups;_i<showGroups_1.length;_i++){_loop_1(showGroups_1[_i])}if(hideGroups&&hideGroups.length>0)for(var _loop_2=function _loop_2(groupId){var match=this_2.mgTiledLayers.filter((function(l){return l.get(common_1.LayerProperty.LAYER_NAME)===groupId}));1==match.length&&match[0].setVisible(!1)},this_2=this,_a=0,hideGroups_1=hideGroups;_a<hideGroups_1.length;_a++){_loop_2(hideGroups_1[_a])}},MgLayerSetOL.prototype.updateSelectionColor=function(color){this.selectionOverlay&&this.selectionOverlay.getSource().updateParams({SELECTIONCOLOR:color})},MgLayerSetOL.prototype.updateExternalBaseLayers=function(externalBaseLayers){this.externalBaseLayersGroup&&this.externalBaseLayersGroup.getLayers().forEach((function(l){var match=(externalBaseLayers||[]).filter((function(el){return el.name===l.get("title")}));1==match.length?l.setVisible(!!match[0].visible):l.setVisible(!1)}))},MgLayerSetOL.prototype.updateTransparency=function(trans){if(this.externalBaseLayersGroup&&(constants_1.LAYER_ID_BASE in trans?this.externalBaseLayersGroup.setOpacity((0,number_1.restrictToRange)(trans[constants_1.LAYER_ID_BASE],0,1)):this.externalBaseLayersGroup.setOpacity(1)),constants_1.LAYER_ID_MG_BASE in trans){var opacity=(0,number_1.restrictToRange)(trans[constants_1.LAYER_ID_MG_BASE],0,1);this.overlay.setOpacity(opacity);for(var _i=0,_a=this.mgTiledLayers;_i<_a.length;_i++){_a[_i].setOpacity(opacity)}}else{this.overlay.setOpacity(1);for(var _b=0,_c=this.mgTiledLayers;_b<_c.length;_b++){_c[_b].setOpacity(1)}}this.selectionOverlay&&(constants_1.LAYER_ID_MG_SEL_OVERLAY in trans?this.selectionOverlay.setOpacity((0,number_1.restrictToRange)(trans[constants_1.LAYER_ID_MG_SEL_OVERLAY],0,1)):this.selectionOverlay.setOpacity(1))},MgLayerSetOL.prototype.refreshMap=function(mode){(void 0===mode&&(mode=common_1.RefreshMode.LayersOnly|common_1.RefreshMode.SelectionOnly),(mode&common_1.RefreshMode.LayersOnly)==common_1.RefreshMode.LayersOnly)&&this.overlay.getSource().updateParams({seq:(new Date).getTime()});this.selectionOverlay&&((mode&common_1.RefreshMode.SelectionOnly)==common_1.RefreshMode.SelectionOnly&&this.selectionOverlay.getSource().updateParams({seq:(new Date).getTime()}))},MgLayerSetOL.prototype.makeActiveSelectedFeatureSource=function(mapExtent,size,url){return void 0===url&&(url=constants_1.BLANK_GIF_DATA_URI),new ImageStatic_1.default({imageExtent:mapExtent,imageSize:[size.w,size.h],url:url})},MgLayerSetOL.prototype.showActiveSelectedFeature=function(mapExtent,size,uri){this.activeSelectedFeatureOverlay&&(this.activeSelectedFeatureOverlay.setSource(this.makeActiveSelectedFeatureSource(mapExtent,size,uri)),this.activeSelectedFeatureOverlay.setVisible(!0))},MgLayerSetOL}();exports.MgLayerSetOL=MgLayerSetOL;var MgInnerLayerSetFactory=function(){function MgInnerLayerSetFactory(callback,map,agentUri,imageFormat,selectionImageFormat,selectionColor){this.callback=callback,this.map=map,this.agentUri=agentUri,(0,type_guards_1.isRuntimeMap)(map)&&(this.dynamicOverlayParams={MAPNAME:map.Name,FORMAT:imageFormat,SESSION:map.SessionId,BEHAVIOR:2},this.staticOverlayParams={MAPDEFINITION:map.MapDefinition,FORMAT:imageFormat,CLIENTAGENT:"ol.source.ImageMapGuide for OverviewMap",USERNAME:"Anonymous",VERSION:"3.0.0"},this.selectionOverlayParams={MAPNAME:map.Name,FORMAT:selectionImageFormat||"PNG8",SESSION:map.SessionId,SELECTIONCOLOR:selectionColor,BEHAVIOR:5})}return MgInnerLayerSetFactory.prototype.getTileUrlFunctionForGroup=function(resourceId,groupName,zOrigin){var urlTemplate=this.callback.getClient().getTileTemplateUrl(resourceId,groupName,"{x}","{y}","{z}");return function(tileCoord){var z=tileCoord[0],x=tileCoord[1],y=tileCoord[2];return urlTemplate.replace("{z}",(zOrigin-z).toString()).replace("{x}",x.toString()).replace("{y}",y.toString())}},MgInnerLayerSetFactory.prototype.create=function(locale,externalBaseLayers,mode,appSettings){var _a,_this=this,map=this.map,agentUri=this.agentUri;if((0,type_guards_1.isRuntimeMap)(map)){if((0,string_1.strIsNullOrEmpty)(agentUri))throw new error_1.MgError("Expected agentUri to be set");var resourceId=map.TileSetDefinition||map.MapDefinition,tileWidth=map.TileWidth||300,tileHeight=map.TileHeight||300,metersPerUnit=map.CoordinateSystem.MetersPerUnit,finiteScales=[];if(map.FiniteDisplayScale)for(var i=map.FiniteDisplayScale.length-1;i>=0;i--)finiteScales.push(map.FiniteDisplayScale[i]);var extent=[map.Extents.LowerLeftCoordinate.X,map.Extents.LowerLeftCoordinate.Y,map.Extents.UpperRightCoordinate.X,map.Extents.UpperRightCoordinate.Y],dpi=map.DisplayDpi,inPerUnit=39.37*map.CoordinateSystem.MetersPerUnit,resolutions=new Array(finiteScales.length),projection=void 0;for(i=0;i<finiteScales.length;++i)resolutions[i]=finiteScales[i]/inPerUnit/dpi;map.CoordinateSystem.EpsgCode.length>0&&(projection="EPSG:"+map.CoordinateSystem.EpsgCode);var tileGrid=new TileGrid_1.default({origin:olExtent.getTopLeft(extent),resolutions:resolutions,tileSize:[tileWidth,tileHeight]}),zOrigin=finiteScales.length-1,mgTiledLayers=[];if(map.Group)for(i=0;i<map.Group.length;i++){var group=map.Group[i];if(2==group.Type||3==group.Type){var tileSource=new TileImage_1.default({tileGrid:tileGrid,projection:projection,tileUrlFunction:this.getTileUrlFunctionForGroup(resourceId,group.Name,zOrigin),wrapX:!1}),tileLayer=new Tile_1.default({source:tileSource});tileLayer.set(common_1.LayerProperty.LAYER_NAME,group.ObjectId),tileLayer.set(common_1.LayerProperty.LAYER_DISPLAY_NAME,group.ObjectId),tileLayer.set(common_1.LayerProperty.LAYER_TYPE,common_1.MgLayerType.Tiled),tileLayer.set(common_1.LayerProperty.IS_EXTERNAL,!1),tileLayer.set(common_1.LayerProperty.IS_GROUP,!1),tileLayer.setVisible(group.Visible),mgTiledLayers.push(tileLayer)}}var overlay=this.createMgOverlayLayer(common_1.MgBuiltInLayers.Overlay,agentUri,locale,metersPerUnit,projection,mode==MgLayerSetMode.Stateful,mode==MgLayerSetMode.Stateful?this.dynamicOverlayParams:this.staticOverlayParams),selectionOverlay=void 0,activeSelectedFeatureOverlay=void 0;mode==MgLayerSetMode.Stateful&&(selectionOverlay=this.createMgOverlayLayer(common_1.MgBuiltInLayers.SelectionOverlay,agentUri,locale,metersPerUnit,projection,!0,this.selectionOverlayParams)),mode==MgLayerSetMode.Stateful&&((activeSelectedFeatureOverlay=new Image_1.default({source:new ImageStatic_1.default({imageExtent:extent,imageSize:[common_1.BLANK_SIZE.w,common_1.BLANK_SIZE.h],url:constants_1.BLANK_GIF_DATA_URI})})).set(common_1.LayerProperty.LAYER_NAME,common_1.MgBuiltInLayers.ActiveFeatureSelectionOverlay),activeSelectedFeatureOverlay.set(common_1.LayerProperty.LAYER_DISPLAY_NAME,common_1.MgBuiltInLayers.ActiveFeatureSelectionOverlay),activeSelectedFeatureOverlay.set(common_1.LayerProperty.LAYER_TYPE,common_1.MG_LAYER_TYPE_NAME),activeSelectedFeatureOverlay.set(common_1.LayerProperty.IS_EXTERNAL,!1),activeSelectedFeatureOverlay.set(common_1.LayerProperty.IS_GROUP,!1));var externalBaseLayersGroup=void 0;if(mode!=MgLayerSetMode.OverviewMap&&null!=externalBaseLayers){var groupOpts={title:(0,i18n_1.tr)("EXTERNAL_BASE_LAYERS",locale),layers:externalBaseLayers.map((function(ext){return _this.createExternalBaseLayer(ext)}))};(externalBaseLayersGroup=new Group_1.default(groupOpts)).set(common_1.LayerProperty.LAYER_NAME,common_1.MG_BASE_LAYER_GROUP_NAME),externalBaseLayersGroup.set(common_1.LayerProperty.LAYER_DISPLAY_NAME,common_1.MG_BASE_LAYER_GROUP_NAME),externalBaseLayersGroup.set(common_1.LayerProperty.IS_EXTERNAL,!1),externalBaseLayersGroup.set(common_1.LayerProperty.IS_GROUP,!0)}(0,logger_1.debug)("Creating OL view with projection "+projection+" and "+resolutions.length+" resolutions");var view=void 0;view=0==resolutions.length?new View_1.default({projection:projection}):new View_1.default({projection:projection,resolutions:resolutions});var layerSet=new MgLayerSetOL(mgTiledLayers,externalBaseLayersGroup,overlay,projection,dpi,extent,inPerUnit,view);return layerSet.selectionOverlay=selectionOverlay,layerSet.activeSelectedFeatureOverlay=activeSelectedFeatureOverlay,layerSet}projection=null===(_a=null==map?void 0:map.meta)||void 0===_a?void 0:_a.projection;var bounds=void 0;externalBaseLayersGroup=void 0;if(null!=externalBaseLayers){groupOpts={title:(0,i18n_1.tr)("EXTERNAL_BASE_LAYERS",locale),layers:externalBaseLayers.map((function(ext){return _this.createExternalBaseLayer(ext)}))};(externalBaseLayersGroup=new Group_1.default(groupOpts)).set(common_1.LayerProperty.LAYER_NAME,common_1.MG_BASE_LAYER_GROUP_NAME),externalBaseLayersGroup.set(common_1.LayerProperty.IS_EXTERNAL,!1),externalBaseLayersGroup.set(common_1.LayerProperty.IS_GROUP,!0),projection="EPSG:3857",bounds=DEFAULT_BOUNDS_3857}var subjectLayer=void 0;map&&(subjectLayer=(0,external_layer_factory_1.createOLLayerFromSubjectDefn)(map,projection,!1,appSettings),map.meta&&(projection=map.meta.projection,bounds=map.meta.extents)),projection||bounds||(projection="EPSG:4326",bounds=DEFAULT_BOUNDS_4326);metersPerUnit=function getMetersPerUnit(projection){return(0,proj_1.get)(projection).getMetersPerUnit()}(projection),view=new View_1.default({projection:projection});return new generic_layer_set_1.GenericLayerSetOL(view,subjectLayer,bounds,externalBaseLayersGroup,projection,metersPerUnit)},MgInnerLayerSetFactory.prototype.createExternalBaseLayer=function(ext){var extSource=(0,external_layer_factory_1.createExternalSource)(ext);if(extSource instanceof UrlTile_1.default){var loaders=this.callback.getBaseTileLoaders();loaders[ext.name]&&extSource.setTileLoadFunction(loaders[ext.name])}var options={title:ext.name,type:"base",visible:!0===ext.visible,source:extSource},tl=new Tile_1.default(options);return tl.set(common_1.LayerProperty.LAYER_TYPE,ext.kind),tl.set(common_1.LayerProperty.LAYER_NAME,ext.name),tl.set(common_1.LayerProperty.LAYER_DISPLAY_NAME,ext.name),tl.set(common_1.LayerProperty.IS_EXTERNAL,!1),tl.set(common_1.LayerProperty.IS_GROUP,!1),tl},MgInnerLayerSetFactory.prototype.createMgOverlayLayer=function(layerName,agentUri,locale,metersPerUnit,projection,useImageOverlayOp,params){var overlaySource=(0,ol_mapguide_source_factory_1.createMapGuideSource)({projection:projection,url:agentUri,useOverlay:useImageOverlayOp,metersPerUnit:metersPerUnit,params:params,ratio:1,displayDpi:96*Math.floor(olHas.DEVICE_PIXEL_RATIO)});overlaySource.setAttributions((0,i18n_1.tr)("PBMG",null!=locale?locale:i18n_1.DEFAULT_LOCALE));var layer=new Image_1.default({source:overlaySource});return layer.set(common_1.LayerProperty.LAYER_NAME,layerName),layer.set(common_1.LayerProperty.LAYER_DISPLAY_NAME,layerName),layer.set(common_1.LayerProperty.LAYER_TYPE,common_1.MG_LAYER_TYPE_NAME),layer.set(common_1.LayerProperty.IS_EXTERNAL,!1),layer.set(common_1.LayerProperty.IS_GROUP,!1),layer},MgInnerLayerSetFactory}();exports.MgInnerLayerSetFactory=MgInnerLayerSetFactory},78027:function(__unused_webpack_module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AsyncLazy=exports.Lazy=void 0;var Lazy=function(){function Lazy(value){this.value=value}return Lazy.prototype.getValue=function(){return this._value||(this._value=this.value()),this._value},Lazy}();exports.Lazy=Lazy;var AsyncLazy=function(){function AsyncLazy(value){this.value=value}return AsyncLazy.prototype.getValueAsync=function(){return this._value||(this._value=this.value()),this._value},AsyncLazy}();exports.AsyncLazy=AsyncLazy},68442:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(21249),Object.defineProperty(exports,"__esModule",{value:!0}),exports.MgLayerSetGroup=void 0;var tslib_1=__webpack_require__(70655),common_1=__webpack_require__(18036),Image_1=__webpack_require__(50636),ImageMapGuide_1=(0,tslib_1.__importDefault)(__webpack_require__(68968)),Image_2=(0,tslib_1.__importDefault)(__webpack_require__(20228)),never_1=__webpack_require__(4898),layer_set_group_base_1=__webpack_require__(83709),layer_set_1=__webpack_require__(32406),mapguide_debug_context_1=__webpack_require__(65925),type_guards_1=__webpack_require__(64726),string_1=__webpack_require__(53775),error_1=__webpack_require__(59404),generic_layer_set_1=__webpack_require__(10501),Image_3=(0,tslib_1.__importDefault)(__webpack_require__(20228)),Tile_1=(0,tslib_1.__importDefault)(__webpack_require__(92479)),TileWMS_1=(0,tslib_1.__importDefault)(__webpack_require__(14409)),ImageWMS_1=(0,tslib_1.__importDefault)(__webpack_require__(42225)),MgLayerSetGroup=function(_super){function MgLayerSetGroup(props,callback){var _this=_super.call(this,callback)||this;_this.updateSelectionColor=function(color){return _this.mainSet.updateSelectionColor(color)},_this.update=function(showGroups,showLayers,hideGroups,hideLayers){return _this.mainSet.update(showGroups,showLayers,hideGroups,hideLayers)};var map=props.map,agentUri=props.agentUri,isRtMap=(0,type_guards_1.isRuntimeMap)(map),hasAgentUri=(0,string_1.strIsNullOrEmpty)(agentUri);if(isRtMap&&hasAgentUri)throw new error_1.MgError("Expected agentUri to be set");var factory=new layer_set_1.MgInnerLayerSetFactory(callback,map,agentUri,props.imageFormat,props.selectionImageFormat,props.selectionColor);_this.mainSet=factory.create(props.locale,props.externalBaseLayers,props.stateless?layer_set_1.MgLayerSetMode.Stateless:layer_set_1.MgLayerSetMode.Stateful,props.appSettings),_this.overviewSet=factory.create(props.locale,props.externalBaseLayers,layer_set_1.MgLayerSetMode.OverviewMap,props.appSettings);for(var _i=0,progressNotifySources_1=_this.mainSet.getSourcesForProgressTracking();_i<progressNotifySources_1.length;_i++){var src=progressNotifySources_1[_i];1!=src.get(common_1.SourceProperty.SUPPRESS_LOAD_EVENTS)&&_this.registerSourceEvents(src)}return _this}return(0,tslib_1.__extends)(MgLayerSetGroup,_super),MgLayerSetGroup.prototype.tryGetSubjectLayer=function(){return this.mainSet instanceof generic_layer_set_1.GenericLayerSetOL?this.mainSet.subjectLayer:this.mainSet instanceof layer_set_1.MgLayerSetOL?this.mainSet.overlay:void 0},MgLayerSetGroup.prototype.tryGetWmsSource=function(){var subjectLayer=this.tryGetSubjectLayer();if(subjectLayer instanceof Image_3.default||subjectLayer instanceof Tile_1.default){var source=subjectLayer.getSource();if(source instanceof ImageWMS_1.default||source instanceof TileWMS_1.default)return[subjectLayer,source]}},MgLayerSetGroup.prototype.setMapGuideMocking=function(mock){for(var _i=0,allLayers_1=this.mainSet.getLayers();_i<allLayers_1.length;_i++){var layer=allLayers_1[_i];if(layer instanceof Image_2.default){var source=layer.getSource();if(source instanceof ImageMapGuide_1.default)if(void 0!==mock)switch(mock){case mapguide_debug_context_1.MapGuideMockMode.RenderPlaceholder:source.setImageLoadFunction(layer_set_1.mockMapGuideImageLoadFunction);break;case mapguide_debug_context_1.MapGuideMockMode.DoNotRender:source.setImageLoadFunction(layer_set_1.blankImageLoadFunction);break;default:(0,never_1.assertNever)(mock)}else source.setImageLoadFunction(Image_1.defaultImageLoadFunction)}}},MgLayerSetGroup}(layer_set_group_base_1.LayerSetGroupBase);exports.MgLayerSetGroup=MgLayerSetGroup},31653:function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.OLFactory=void 0;var tslib_1=__webpack_require__(70655),Point_1=(0,tslib_1.__importDefault)(__webpack_require__(60188)),LineString_1=(0,tslib_1.__importDefault)(__webpack_require__(92083)),Circle_1=(0,tslib_1.__importDefault)(__webpack_require__(57276)),Polygon_1=(0,tslib_1.__importStar)(__webpack_require__(2033)),LinearRing_1=(0,tslib_1.__importDefault)(__webpack_require__(67538)),MultiLineString_1=(0,tslib_1.__importDefault)(__webpack_require__(7403)),MultiPoint_1=(0,tslib_1.__importDefault)(__webpack_require__(36259)),MultiPolygon_1=(0,tslib_1.__importDefault)(__webpack_require__(26254)),GeometryCollection_1=(0,tslib_1.__importDefault)(__webpack_require__(13958)),Overlay_1=(0,tslib_1.__importDefault)(__webpack_require__(43223)),olExtent=(0,tslib_1.__importStar)(__webpack_require__(28641)),olProj=(0,tslib_1.__importStar)(__webpack_require__(26414)),Projection_1=(0,tslib_1.__importDefault)(__webpack_require__(29619)),Vector_1=(0,tslib_1.__importDefault)(__webpack_require__(86333)),Vector_2=(0,tslib_1.__importDefault)(__webpack_require__(30933)),Collection_1=(0,tslib_1.__importDefault)(__webpack_require__(78714)),Feature_1=(0,tslib_1.__importDefault)(__webpack_require__(81090)),Extent_1=(0,tslib_1.__importDefault)(__webpack_require__(92420)),Snap_1=(0,tslib_1.__importDefault)(__webpack_require__(6002)),Draw_1=(0,tslib_1.__importDefault)(__webpack_require__(35010)),Translate_1=(0,tslib_1.__importDefault)(__webpack_require__(33232)),Modify_1=(0,tslib_1.__importDefault)(__webpack_require__(78373)),Select_1=(0,tslib_1.__importDefault)(__webpack_require__(7517)),GeoJSON_1=(0,tslib_1.__importDefault)(__webpack_require__(64678)),WKT_1=(0,tslib_1.__importDefault)(__webpack_require__(75861)),Style_1=(0,tslib_1.__importDefault)(__webpack_require__(47539)),Icon_1=(0,tslib_1.__importDefault)(__webpack_require__(72846)),RegularShape_1=(0,tslib_1.__importDefault)(__webpack_require__(88931)),Text_1=(0,tslib_1.__importDefault)(__webpack_require__(21280)),Fill_1=(0,tslib_1.__importDefault)(__webpack_require__(51345)),Stroke_1=(0,tslib_1.__importDefault)(__webpack_require__(58958)),Circle_2=(0,tslib_1.__importDefault)(__webpack_require__(30283)),OLFactory=function(){function OLFactory(){}return OLFactory.prototype.createStyle=function(options){return new Style_1.default(options)},OLFactory.prototype.createStyleFill=function(options){return new Fill_1.default(options)},OLFactory.prototype.createStyleStroke=function(options){return new Stroke_1.default(options)},OLFactory.prototype.createStyleCircle=function(options){return new Circle_2.default(options)},OLFactory.prototype.createFeatureCollection=function(){return new Collection_1.default},OLFactory.prototype.extentContainsXY=function(extent,x,y){return olExtent.containsXY(extent,x,y)},OLFactory.prototype.extendExtent=function(extent,other){return olExtent.extend(extent,other)},OLFactory.prototype.createProjection=function(options){return new Projection_1.default(options)},OLFactory.prototype.transformCoordinateFromLonLat=function(lonlat,proj){return olProj.fromLonLat(lonlat,proj)},OLFactory.prototype.transformCoordinate=function(coordinate,source,target){return olProj.transform(coordinate,source,target)},OLFactory.prototype.transformExtent=function(extent,source,target){return olProj.transformExtent(extent,source,target)},OLFactory.prototype.createGeomPoint=function(coordinates){return new Point_1.default(coordinates)},OLFactory.prototype.createGeomLineString=function(coordinates){return new LineString_1.default(coordinates)},OLFactory.prototype.createGeomCircle=function(center,radius){return new Circle_1.default(center,radius)},OLFactory.prototype.createGeomLinearRing=function(coordinates){return new LinearRing_1.default(coordinates)},OLFactory.prototype.createGeomPolygon=function(coordinates){return new Polygon_1.default(coordinates)},OLFactory.prototype.createGeomPolygonFromCircle=function(circle){return(0,Polygon_1.fromCircle)(circle)},OLFactory.prototype.createGeomMultiLineString=function(coordinates){return new MultiLineString_1.default(coordinates)},OLFactory.prototype.createGeomMultiPoint=function(coordinates){return new MultiPoint_1.default(coordinates)},OLFactory.prototype.createGeomMultiPolygon=function(coordinates){return new MultiPolygon_1.default(coordinates)},OLFactory.prototype.createGeomCollection=function(geometries){return new GeometryCollection_1.default(geometries)},OLFactory.prototype.createVectorSource=function(options){return new Vector_2.default(options)},OLFactory.prototype.createVectorLayer=function(options){return new Vector_1.default(options)},OLFactory.prototype.createOverlay=function(options){return new Overlay_1.default(options)},OLFactory.prototype.createInteractionDraw=function(options){return new Draw_1.default(options)},OLFactory.prototype.createInteractionExtent=function(options){return new Extent_1.default(options)},OLFactory.prototype.createInteractionTranslate=function(options){return new Translate_1.default(options)},OLFactory.prototype.createInteractionSnap=function(options){return new Snap_1.default(options)},OLFactory.prototype.createInteractionModify=function(options){return new Modify_1.default(options)},OLFactory.prototype.createInteractionSelect=function(options){return new Select_1.default(options)},OLFactory.prototype.createFeature=function(geomOrProps){return new Feature_1.default(geomOrProps)},OLFactory.prototype.createFormatGeoJSON=function(options){return new GeoJSON_1.default(options)},OLFactory.prototype.createFormatWKT=function(options){return new WKT_1.default(options)},OLFactory.prototype.createStyleIcon=function(options){return new Icon_1.default(options)},OLFactory.prototype.createStyleRegularShape=function(options){return new RegularShape_1.default(options)},OLFactory.prototype.createStyleText=function(options){return new Text_1.default(options)},OLFactory}();exports.OLFactory=OLFactory},6768:function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createMapGuideSource=exports.isMapGuideImageSource=void 0;var ImageMapGuide_1=(0,__webpack_require__(70655).__importDefault)(__webpack_require__(68968));exports.isMapGuideImageSource=function isMapGuideImageSource(arg){return void 0!==arg.updateParams},exports.createMapGuideSource=function createMapGuideSource(options){return new ImageMapGuide_1.default(options)}},97245:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(43290),Object.defineProperty(exports,"__esModule",{value:!0}),exports.tryBuildTextStyle=exports.buildFill=exports.buildStroke=exports.evalFeature=void 0;var tslib_1=__webpack_require__(70655),ol_style_contracts_1=__webpack_require__(42720),Text_1=(0,tslib_1.__importDefault)(__webpack_require__(21280)),Stroke_1=(0,tslib_1.__importDefault)(__webpack_require__(58958)),Fill_1=(0,tslib_1.__importDefault)(__webpack_require__(51345)),color_1=__webpack_require__(79706);function toOLColor(color,alpha){var c=(0,color_1.asArray)(color);return void 0!==alpha&&(c[3]=alpha/255),c}function evalFeature(expr,feat,context){if(!(0,ol_style_contracts_1.isEvaluatable)(expr))return expr;if(feat&&context)try{return context.evaluate(expr.expr,feat)}catch(e){return}}function setIfNotUndefined(obj,prop,value){void 0!==value&&(obj[prop]=value)}function buildStroke(stroke,feat,context){return new Stroke_1.default({color:toOLColor(evalFeature(stroke.color,feat,context),evalFeature(stroke.alpha,feat,context)),width:evalFeature(stroke.width,feat,context)})}function buildFill(fill,feat,context){return new Fill_1.default({color:toOLColor(evalFeature(fill.color,feat,context),evalFeature(fill.alpha,feat,context))})}exports.evalFeature=evalFeature,exports.buildStroke=buildStroke,exports.buildFill=buildFill,exports.tryBuildTextStyle=function tryBuildTextStyle(style,feat,context){var label=style.label;if(label){var textOpts={};setIfNotUndefined(textOpts,"font",evalFeature(label.font,feat,context)),setIfNotUndefined(textOpts,"maxAngle",evalFeature(label.maxAngle,feat,context)),setIfNotUndefined(textOpts,"offsetX",evalFeature(label.offsetX,feat,context)),setIfNotUndefined(textOpts,"offsetY",evalFeature(label.offsetY,feat,context)),setIfNotUndefined(textOpts,"overflow",evalFeature(label.overflow,feat,context)),setIfNotUndefined(textOpts,"placement",evalFeature(label.placement,feat,context)),setIfNotUndefined(textOpts,"rotateWithView",evalFeature(label.rotateWithView,feat,context)),setIfNotUndefined(textOpts,"rotation",evalFeature(label.rotation,feat,context)),setIfNotUndefined(textOpts,"scale",evalFeature(label.scale,feat,context));var txt=evalFeature(label.text,feat,context);void 0!==txt&&(textOpts.text=""+txt),setIfNotUndefined(textOpts,"textAlign",evalFeature(label.textAlign,feat,context)),setIfNotUndefined(textOpts,"textBaseline",evalFeature(label.textBaseline,feat,context));var text=new Text_1.default(textOpts);if(label.padding&&text.setPadding(label.padding),label.fill){var f=buildFill(label.fill,feat,context);text.setFill(f)}if(label.backgroundFill){f=buildFill(label.backgroundFill,feat,context);text.setBackgroundFill(f)}if(label.stroke){var s=buildStroke(label.stroke,feat,context);text.setStroke(s)}if(label.backgroundStroke){s=buildStroke(label.backgroundStroke,feat,context);text.setBackgroundStroke(s)}return text}}},42720:function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DEFAULT_CLUSTERED_LAYER_STYLE=exports.DEFAULT_VECTOR_LAYER_STYLE=exports.DEFAULT_POLY_STYLE=exports.DEFAULT_LINE_STYLE=exports.DEFAULT_COLOR=exports.DEFAULT_POINT_ICON_STYLE=exports.DEFAULT_CLUSTERED_POINT_CIRCLE_STYLE=exports.DEFAULT_POINT_CIRCLE_STYLE=exports.isEvaluatable=exports.ClusterClickAction=exports.VectorStyleSource=void 0;var assets_1=__webpack_require__(10358);!function(VectorStyleSource){VectorStyleSource[VectorStyleSource.Base=0]="Base",VectorStyleSource[VectorStyleSource.Cluster=1]="Cluster"}(exports.VectorStyleSource||(exports.VectorStyleSource={})),function(ClusterClickAction){ClusterClickAction.ZoomToClusterExtents="ZoomToClusterExtents",ClusterClickAction.ShowPopup="ShowPopup"}(exports.ClusterClickAction||(exports.ClusterClickAction={})),exports.isEvaluatable=function isEvaluatable(arg){return"string"==typeof(null==arg?void 0:arg.expr)},exports.DEFAULT_POINT_CIRCLE_STYLE={type:"Circle",fill:{color:"#ff0000",alpha:255},radius:5,stroke:{color:"#0000ff",alpha:255,width:1}},exports.DEFAULT_CLUSTERED_POINT_CIRCLE_STYLE={type:"Circle",fill:{color:"#ff0000",alpha:255},radius:{expr:"min(arr_size(features) + 4, 25)"},stroke:{color:"#0000ff",alpha:255,width:1}},exports.DEFAULT_POINT_ICON_STYLE={type:"Icon",anchor:[.5,.5],src:assets_1.MAP_MARKER_ICON,rotateWithView:!1,rotation:0,scale:1},exports.DEFAULT_COLOR="#000000",exports.DEFAULT_LINE_STYLE={color:"#0000ff",alpha:255,width:1},exports.DEFAULT_POLY_STYLE={fill:{color:"#00ff00",alpha:255},stroke:{color:exports.DEFAULT_COLOR,alpha:255,width:1}},exports.DEFAULT_VECTOR_LAYER_STYLE={default:{point:exports.DEFAULT_POINT_CIRCLE_STYLE,line:exports.DEFAULT_LINE_STYLE,polygon:exports.DEFAULT_POLY_STYLE}},exports.DEFAULT_CLUSTERED_LAYER_STYLE={default:{point:exports.DEFAULT_CLUSTERED_POINT_CIRCLE_STYLE}}},68189:function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getOLStyleFunction=exports.setOLVectorLayerStyle=exports.getClusterSubFeatures=exports.isClusteredFeature=exports.DEFAULT_STYLE_KEY=void 0;var ol_style_map_set_1=__webpack_require__(83513),common_1=__webpack_require__(18036);function getClusterSubFeatures(feature){return feature.get("features")}exports.DEFAULT_STYLE_KEY="default",exports.isClusteredFeature=function isClusteredFeature(feature){var _a;return!!(null===(_a=getClusterSubFeatures(feature))||void 0===_a?void 0:_a.length)},exports.getClusterSubFeatures=getClusterSubFeatures,exports.setOLVectorLayerStyle=function setOLVectorLayerStyle(layer,style,clusterStyle){var olstyles=new ol_style_map_set_1.OLStyleMapSet(style,clusterStyle);layer.set(common_1.LayerProperty.VECTOR_STYLE,olstyles);var layerStyleFunc=function(feature){return this.evaluateStyle(feature)}.bind(olstyles);layer.setStyle(layerStyleFunc)},exports.getOLStyleFunction=function getOLStyleFunction(style,clusterStyle){var olstyles=new ol_style_map_set_1.OLStyleMapSet(style,clusterStyle);return function(feature){return this.evaluateStyle(feature)}.bind(olstyles)}},83513:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(43290),__webpack_require__(15218),Object.defineProperty(exports,"__esModule",{value:!0}),exports.OLStyleMapSet=exports.vectorStyleToStyleMap=void 0;var tslib_1=__webpack_require__(70655),ol_style_helpers_1=__webpack_require__(68189),expr_eval_context_1=__webpack_require__(67216),ol_style_contracts_1=__webpack_require__(42720),Style_1=(0,tslib_1.__importDefault)(__webpack_require__(47539)),Circle_1=(0,tslib_1.__importDefault)(__webpack_require__(30283)),ol_style_builders_1=__webpack_require__(97245),Icon_1=(0,tslib_1.__importDefault)(__webpack_require__(72846)),shortid=(0,tslib_1.__importStar)(__webpack_require__(14670)),number_1=__webpack_require__(96632);function isDynamicStroke(stroke){return!!stroke&&((0,ol_style_contracts_1.isEvaluatable)(stroke.alpha)||(0,ol_style_contracts_1.isEvaluatable)(stroke.color)||(0,ol_style_contracts_1.isEvaluatable)(stroke.width))}function isDynamicFill(fill){return!!fill&&((0,ol_style_contracts_1.isEvaluatable)(fill.alpha)||(0,ol_style_contracts_1.isEvaluatable)(fill.color))}function isDynamicLabel(labelSettings){var label=labelSettings.label;return!!label&&(isDynamicFill(label.backgroundFill)||isDynamicStroke(label.backgroundStroke)||isDynamicFill(label.fill)||(0,ol_style_contracts_1.isEvaluatable)(label.font)||(0,ol_style_contracts_1.isEvaluatable)(label.maxAngle)||(0,ol_style_contracts_1.isEvaluatable)(label.offsetX)||(0,ol_style_contracts_1.isEvaluatable)(label.offsetY)||(0,ol_style_contracts_1.isEvaluatable)(label.overflow)||(0,ol_style_contracts_1.isEvaluatable)(label.padding)||(0,ol_style_contracts_1.isEvaluatable)(label.placement)||(0,ol_style_contracts_1.isEvaluatable)(label.rotateWithView)||(0,ol_style_contracts_1.isEvaluatable)(label.rotation)||(0,ol_style_contracts_1.isEvaluatable)(label.scale)||isDynamicStroke(label.stroke)||(0,ol_style_contracts_1.isEvaluatable)(label.text)||(0,ol_style_contracts_1.isEvaluatable)(label.textAlign)||(0,ol_style_contracts_1.isEvaluatable)(label.textBaseline))}function vectorStyleToStyleMap(style){var _a,_b,_c,ptStyle=null!==(_a=style.point)&&void 0!==_a?_a:ol_style_contracts_1.DEFAULT_POINT_CIRCLE_STYLE,lnStyle=null!==(_b=style.line)&&void 0!==_b?_b:ol_style_contracts_1.DEFAULT_LINE_STYLE,plStyle=null!==(_c=style.polygon)&&void 0!==_c?_c:ol_style_contracts_1.DEFAULT_POLY_STYLE,builder=function builder(feat,context){var pts=new Style_1.default;"Circle"==ptStyle.type?pts.setImage(new Circle_1.default({radius:(0,ol_style_builders_1.evalFeature)(ptStyle.radius,feat,context),fill:(0,ol_style_builders_1.buildFill)(ptStyle.fill,feat,context),stroke:(0,ol_style_builders_1.buildStroke)(ptStyle.stroke,feat,context)})):pts.setImage(new Icon_1.default({anchor:ptStyle.anchor,src:(0,ol_style_builders_1.evalFeature)(ptStyle.src,feat,context),rotateWithView:(0,ol_style_builders_1.evalFeature)(ptStyle.rotateWithView,feat,context),rotation:(0,number_1.deg2rad)((0,ol_style_builders_1.evalFeature)(ptStyle.rotation,feat,context)),scale:(0,ol_style_builders_1.evalFeature)(ptStyle.scale,feat,context)}));var lns=new Style_1.default({stroke:(0,ol_style_builders_1.buildStroke)(lnStyle,feat,context)}),pls=new Style_1.default({stroke:(0,ol_style_builders_1.buildStroke)(plStyle.stroke,feat,context),fill:(0,ol_style_builders_1.buildFill)(plStyle.fill,feat,context)}),ptText=(0,ol_style_builders_1.tryBuildTextStyle)(ptStyle,feat,context),lnText=(0,ol_style_builders_1.tryBuildTextStyle)(lnStyle,feat,context),plsText=(0,ol_style_builders_1.tryBuildTextStyle)(plStyle,feat,context);return ptText&&pts.setText(ptText),lnText&&lns.setText(lnText),plsText&&pls.setText(plsText),function buildStyleMap(pts,lns,pls){var cpts=pts.clone(),cpls=pls.clone(),gcs=new Style_1.default({image:cpts.getImage(),stroke:cpls.getStroke(),fill:cpls.getFill()});return{id:shortid.generate(),Point:pts,MultiPoint:pts,LineString:lns,MultiLineString:lns,Polygon:pls,MultiPolygon:pls,Circle:pls,GeometryCollection:gcs}}(pts,lns,pls)};return function isDynamicPointStyle(style){var apts=style;return!!((0,ol_style_contracts_1.isEvaluatable)(apts.radius)||isDynamicFill(apts.fill)||isDynamicStroke(apts.stroke))||isDynamicLabel(style)}(ptStyle)||function isDynamicLineStyle(style){return isDynamicStroke(style)||isDynamicLabel(style)}(lnStyle)||function isDynamicPolygonStyle(style){return isDynamicStroke(style.stroke)||isDynamicFill(style.fill)||isDynamicLabel(style)}(plStyle)?builder:builder(void 0,void 0)}exports.vectorStyleToStyleMap=vectorStyleToStyleMap;var OLStyleMapSet=function(){function OLStyleMapSet(origStyleDef,clusterStyleDef){for(var k in this.origStyleDef=origStyleDef,this.clusterStyleDef=clusterStyleDef,this.rules={default:vectorStyleToStyleMap(origStyleDef.default)},this.exprContext=new expr_eval_context_1.ExprEvalContext,origStyleDef)k!=ol_style_helpers_1.DEFAULT_STYLE_KEY&&origStyleDef[k]&&(this.rules[k]=vectorStyleToStyleMap(origStyleDef[k])),k!=ol_style_helpers_1.DEFAULT_STYLE_KEY&&this.exprContext.addFilter(k);if(null==clusterStyleDef?void 0:clusterStyleDef.style){var style=clusterStyleDef.style;for(var k in this.clusterRules={default:vectorStyleToStyleMap(style.default)},style)k!=ol_style_helpers_1.DEFAULT_STYLE_KEY&&style[k]&&(this.clusterRules[k]=vectorStyleToStyleMap(style[k])),k!=ol_style_helpers_1.DEFAULT_STYLE_KEY&&this.exprContext.addClusterFilter(k)}this.defaultStyleMap=vectorStyleToStyleMap({})}return OLStyleMapSet.prototype.toVectorLayerStyle=function(){return this.origStyleDef},OLStyleMapSet.prototype.toClusterSettings=function(){return this.clusterStyleDef},OLStyleMapSet.prototype.getClusterClickAction=function(){var _a;return null===(_a=this.clusterStyleDef)||void 0===_a?void 0:_a.onClick},OLStyleMapSet.prototype.evaluateStyle=function(feature){var _a,_b;try{var g=feature.getGeometry();if(!g)return null;var gt=g.getType(),filter=this.exprContext.evaluateFilter(feature),matchingStyle=void 0,r=(0,ol_style_helpers_1.isClusteredFeature)(feature)?this.clusterRules:this.rules;return"function"==typeof(matchingStyle=filter?null!==(_a=null==r?void 0:r[filter])&&void 0!==_a?_a:this.defaultStyleMap:null!==(_b=null==r?void 0:r.default)&&void 0!==_b?_b:this.defaultStyleMap)?matchingStyle(feature,this.exprContext)[gt]:matchingStyle[gt]}catch(e){return console.error(e),null}},OLStyleMapSet}();exports.OLStyleMapSet=OLStyleMapSet},62402:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(21249),__webpack_require__(57327),Object.defineProperty(exports,"__esModule",{value:!0}),exports.prepareSubMenus=exports.parseCommandsInWebLayout=exports.parseWidgetsInAppDef=exports.convertWebLayoutUIItems=exports.convertFlexLayoutUIItems=exports.isFlyoutSpec=exports.isUIWidget=void 0;var tslib_1=__webpack_require__(70655),command_1=__webpack_require__(74130),shortid=(0,tslib_1.__importStar)(__webpack_require__(14670)),component_1=__webpack_require__(13664),i18n_1=__webpack_require__(196),never_1=__webpack_require__(4898),string_1=__webpack_require__(53775),logger_1=__webpack_require__(97838),weblayout_1=__webpack_require__(49443),init_command_1=__webpack_require__(10519),assets_1=__webpack_require__(10358),constants_1=__webpack_require__(12872);function isUIWidget(widget){return"UiWidgetType"===widget.WidgetType}function isFlyoutSpec(item){return void 0!==item.children}function makeCommand(widget,noToolbarLabels,cmdType){return{icon:widget.ImageUrl,spriteClass:widget.ImageClass,command:cmdType,label:noToolbarLabels?null:widget.Label,tooltip:widget.Tooltip,parameters:widget.Extension}}function convertToCommandTarget(fusionCmdTarget){if((0,string_1.strIsNullOrEmpty)(fusionCmdTarget))return"NewWindow";switch(fusionCmdTarget){case"SearchWindow":case"InvokeUrlWindow":return"NewWindow";case"TaskPane":return"TaskPane";default:return"SpecifiedFrame"}}exports.isUIWidget=isUIWidget,exports.isFlyoutSpec=isFlyoutSpec,exports.convertFlexLayoutUIItems=function convertFlexLayoutUIItems(isStateless,items,widgetsByKey,locale,noToolbarLabels){return void 0===noToolbarLabels&&(noToolbarLabels=!1),items.map((function(item){switch(item.Function){case"Widget":var widget=widgetsByKey[item.Widget];if(widget&&isUIWidget(widget)){var cmd=function convertWidget(widget,locale,noToolbarLabels){switch(widget.Type){case"Select":return makeCommand(widget,noToolbarLabels,command_1.DefaultCommands.Select);case"Pan":return makeCommand(widget,noToolbarLabels,command_1.DefaultCommands.Pan);case"Zoom":return makeCommand(widget,noToolbarLabels,command_1.DefaultCommands.Zoom);case"ZoomOnClick":return makeCommand(widget,noToolbarLabels,parseFloat(widget.Extension.Factor)>=1?command_1.DefaultCommands.ZoomIn:command_1.DefaultCommands.ZoomOut);case"InitialMapView":return makeCommand(widget,noToolbarLabels,command_1.DefaultCommands.ZoomExtents);case"ZoomToSelection":return makeCommand(widget,noToolbarLabels,command_1.DefaultCommands.ZoomToSelection);case"ExtentHistory":return"previous"==widget.Extension.Direction?makeCommand(widget,noToolbarLabels,command_1.DefaultCommands.PreviousView):makeCommand(widget,noToolbarLabels,command_1.DefaultCommands.NextView);case"CenterSelection":return makeCommand(widget,noToolbarLabels,command_1.DefaultCommands.CenterSelection);case"About":return makeCommand(widget,noToolbarLabels,command_1.DefaultCommands.About);case"BufferPanel":return makeCommand(widget,noToolbarLabels,command_1.DefaultCommands.Buffer);case"ClearSelection":return makeCommand(widget,noToolbarLabels,command_1.DefaultCommands.ClearSelection);case"CoordinateTracker":return makeCommand(widget,noToolbarLabels,command_1.DefaultCommands.CoordinateTracker);case"FeatureInfo":return makeCommand(widget,noToolbarLabels,command_1.DefaultCommands.FeatureInfo);case"Geolocation":return makeCommand(widget,noToolbarLabels,command_1.DefaultCommands.Geolocation);case"Help":return makeCommand(widget,noToolbarLabels,command_1.DefaultCommands.Help);case"Maptip":return makeCommand(widget,noToolbarLabels,command_1.DefaultCommands.MapTip);case"MapMenu":return{icon:widget.ImageUrl,spriteClass:widget.ImageClass,label:noToolbarLabels?null:widget.Label,tooltip:widget.Tooltip,componentName:component_1.DefaultComponentNames.MapMenu,flyoutId:component_1.DefaultComponentNames.MapMenu+"_"+shortid.generate(),parameters:widget.Extension};case"Query":return makeCommand(widget,noToolbarLabels,command_1.DefaultCommands.Query);case"QuickPlot":return makeCommand(widget,noToolbarLabels,command_1.DefaultCommands.QuickPlot);case"Redline":return makeCommand(widget,noToolbarLabels,command_1.DefaultCommands.Redline);case"RefreshMap":return makeCommand(widget,noToolbarLabels,command_1.DefaultCommands.RefreshMap);case"InvokeURL":case"Search":return{icon:widget.ImageUrl,spriteClass:widget.ImageClass,command:widget.Name,label:noToolbarLabels?null:widget.Label,tooltip:widget.Tooltip,parameters:widget.Extension};case"SelectPolygon":return makeCommand(widget,noToolbarLabels,command_1.DefaultCommands.SelectPolygon);case"SelectRadius":return makeCommand(widget,noToolbarLabels,command_1.DefaultCommands.SelectRadius);case"SelectWithin":return makeCommand(widget,noToolbarLabels,command_1.DefaultCommands.SelectWithin);case"Theme":return makeCommand(widget,noToolbarLabels,command_1.DefaultCommands.Theme);case"ViewOptions":return makeCommand(widget,noToolbarLabels,command_1.DefaultCommands.ViewerOptions);case"ZoomToSelection":return makeCommand(widget,noToolbarLabels,command_1.DefaultCommands.ZoomToSelection);case"Measure":return makeCommand(widget,noToolbarLabels,command_1.DefaultCommands.Measure);case"Print":return makeCommand(widget,noToolbarLabels,command_1.DefaultCommands.Print);case"BasemapSwitcher":return{icon:widget.ImageUrl,spriteClass:widget.ImageClass,label:noToolbarLabels?null:widget.Label,tooltip:widget.Tooltip,componentName:component_1.DefaultComponentNames.BaseMapSwitcher,flyoutId:component_1.DefaultComponentNames.BaseMapSwitcher+"_"+shortid.generate(),parameters:widget.Extension};case"InvokeScript":return{icon:widget.ImageUrl,spriteClass:widget.ImageClass,command:widget.Name,label:noToolbarLabels?null:widget.Label,tooltip:widget.Tooltip,parameters:widget.Extension};default:return{error:(0,i18n_1.tr)("UNKNOWN_WIDGET",locale,{widget:widget.Type})}}}(widget,locale,noToolbarLabels);return isStateless&&function isCommandSpec(cmd){return!(0,string_1.strIsNullOrEmpty)(cmd.command)}(cmd)&&!(0,command_1.isSupportedCommandInStatelessMode)(cmd.command)&&console.warn("The widget ("+widget.Name+") references a command ("+cmd.command+") that is not supported in stateless mode. This widget will always be disabled"),cmd}case"Separator":return{isSeparator:!0};case"Flyout":return{label:item.Label,tooltip:item.Tooltip,icon:item.ImageUrl,spriteClass:item.ImageClass,children:convertFlexLayoutUIItems(isStateless,item.Item,widgetsByKey,locale)};default:(0,never_1.assertNever)(item)}return null})).filter((function(i){return null!=i})).map((function(i){return i}))},exports.convertWebLayoutUIItems=function convertWebLayoutUIItems(items,cmdsByKey,locale,noToolbarLabels){return void 0===noToolbarLabels&&(noToolbarLabels=!0),(items||[]).map((function(item){if((0,weblayout_1.isCommandItem)(item)){var cmdDef=cmdsByKey[item.Command];if(!cmdDef)return(0,logger_1.warn)("Invalid reference to command: "+item.Command),{error:(0,i18n_1.tr)("UNKNOWN_COMMAND_REFERENCE",locale,{command:item.Command})};if("Dwf"!=cmdDef.TargetViewer){var icon={};cmdDef.ImageURL&&(icon.spriteClass=function tryTranslateImageUrlToSpriteClass(imageUrl){switch(imageUrl){case"../stdicons/icon_invokeurl.gif":return assets_1.SPRITE_INVOKE_URL;case"../stdicons/icon_invokescript.gif":return assets_1.SPRITE_INVOKE_SCRIPT}}(cmdDef.ImageURL),icon.spriteClass||(icon.icon=cmdDef.ImageURL));var commonParams={};if((0,weblayout_1.isTargetedCommand)(cmdDef)&&(commonParams.Target=cmdDef.Target,commonParams.TargetFrame=cmdDef.TargetFrame),(0,weblayout_1.isBasicCommand)(cmdDef)){var action=cmdDef.Action;return"ZoomRectangle"==action?action=command_1.DefaultCommands.Zoom:"FitToWindow"==action?action=command_1.DefaultCommands.ZoomExtents:"Refresh"==action&&(action=command_1.DefaultCommands.RefreshMap),(0,tslib_1.__assign)({command:action,label:noToolbarLabels?null:cmdDef.Label,tooltip:cmdDef.Tooltip,parameters:commonParams},icon)}switch(cmdDef["@xsi:type"]){case"ViewOptionsCommandType":return{command:command_1.DefaultCommands.ViewerOptions,label:noToolbarLabels?null:cmdDef.Label,tooltip:cmdDef.Tooltip,parameters:commonParams};case"MeasureCommandType":return{command:command_1.DefaultCommands.Measure,label:noToolbarLabels?null:cmdDef.Label,tooltip:cmdDef.Tooltip,parameters:commonParams};case"HelpCommandType":return{command:command_1.DefaultCommands.Help,label:noToolbarLabels?null:cmdDef.Label,tooltip:cmdDef.Tooltip,parameters:commonParams};case"BufferCommandType":return{command:command_1.DefaultCommands.Buffer,label:noToolbarLabels?null:cmdDef.Label,tooltip:cmdDef.Tooltip,parameters:commonParams};case"SelectWithinCommandType":return{command:command_1.DefaultCommands.SelectWithin,label:noToolbarLabels?null:cmdDef.Label,tooltip:cmdDef.Tooltip,parameters:commonParams};case"GetPrintablePageCommandType":return{command:command_1.DefaultCommands.QuickPlot,label:noToolbarLabels?null:cmdDef.Label,tooltip:cmdDef.Tooltip,parameters:commonParams};default:return(0,tslib_1.__assign)({command:cmdDef.Name,label:noToolbarLabels?null:cmdDef.Label,tooltip:cmdDef.Tooltip,parameters:commonParams},icon)}}}else{if((0,weblayout_1.isSeparatorItem)(item))return{isSeparator:!0};if((0,weblayout_1.isFlyoutItem)(item))return{label:item.Label,tooltip:item.Tooltip,children:convertWebLayoutUIItems(item.SubItem,cmdsByKey,locale,!1)};(0,never_1.assertNever)(item)}return null})).filter((function(i){return null!=i})).map((function(i){return i}))},exports.parseWidgetsInAppDef=function parseWidgetsInAppDef(appDef,cmdRegister){for(var taskPane,viewSize,initialTask,hasLegend=!1,hasStatus=!1,hasNavigator=!1,hasSelectionPanel=!1,hasTaskBar=!1,isStatelessAppDef=(0,init_command_1.isStateless)(appDef),widgetsByKey={},_i=0,_a=appDef.WidgetSet;_i<_a.length;_i++)for(var _b=0,_c=_a[_i].Widget;_b<_c.length;_b++){var widget=_c[_b],cmd=widget.Extension;switch(widget.Type){case"TaskPane":taskPane=widget;break;case"ViewSize":viewSize=widget;break;case"Legend":hasLegend=!0;break;case"SelectionPanel":hasSelectionPanel=!0;break;case"CursorPosition":case"SelectionInfo":hasStatus=!0;break;case"Navigator":hasNavigator=!0;break;case"Search":cmdRegister(widget.Name,{layer:cmd.Layer,prompt:cmd.Prompt,resultColumns:cmd.ResultColumns,filter:cmd.Filter,matchLimit:cmd.MatchLimit,title:cmd.Title||(isUIWidget(widget)?widget.Label:void 0),target:convertToCommandTarget(cmd.Target),targetFrame:cmd.Target}),isStatelessAppDef&&console.warn("The search command ("+widget.Name+") is not supported in stateless mode. This widget will always be disabled");break;case"InvokeURL":cmdRegister(widget.Name,{url:cmd.Url,disableIfSelectionEmpty:cmd.DisableIfSelectionEmpty,target:convertToCommandTarget(cmd.Target),targetFrame:cmd.Target,parameters:(cmd.AdditionalParameter||[]).map((function(p){return{name:p.Key,value:p.Value}})),title:isUIWidget(widget)?widget.Label:void 0})}widgetsByKey[widget.Name]=widget}return taskPane?(hasTaskBar=!0,initialTask=taskPane.Extension.InitialTask||"server/TaskPane.html"):initialTask="server/TaskPane.html",{taskPane:taskPane,viewSize:viewSize,initialTask:initialTask,hasLegend:hasLegend,hasStatus:hasStatus,hasNavigator:hasNavigator,hasSelectionPanel:hasSelectionPanel,hasTaskBar:hasTaskBar,isStateless:isStatelessAppDef,widgetsByKey:widgetsByKey}},exports.parseCommandsInWebLayout=function parseCommandsInWebLayout(webLayout,cmdRegister){for(var cmdsByKey={},_i=0,_a=webLayout.CommandSet.Command;_i<_a.length;_i++){var cmd=_a[_i];(0,weblayout_1.isInvokeURLCommand)(cmd)?cmdRegister(cmd.Name,{url:cmd.URL,disableIfSelectionEmpty:cmd.DisableIfSelectionEmpty,target:cmd.Target,targetFrame:cmd.TargetFrame,parameters:(cmd.AdditionalParameter||[]).map((function(p){return{name:p.Key,value:p.Value}})),title:cmd.Label}):(0,weblayout_1.isSearchCommand)(cmd)&&cmdRegister(cmd.Name,{layer:cmd.Layer,prompt:cmd.Prompt,target:cmd.Target,targetFrame:cmd.TargetFrame,resultColumns:cmd.ResultColumns,filter:cmd.Filter,matchLimit:cmd.MatchLimit,title:cmd.Label}),cmdsByKey[cmd.Name]=cmd}return cmdsByKey},exports.prepareSubMenus=function prepareSubMenus(tbConf){var prepared={toolbars:{},flyouts:{}},bFoundContextMenu=!1;for(var key in tbConf)if(key==constants_1.WEBLAYOUT_CONTEXTMENU&&(bFoundContextMenu=!0),key==constants_1.WEBLAYOUT_TASKMENU||key==constants_1.WEBLAYOUT_CONTEXTMENU){var flyoutId=key;prepared.flyouts[flyoutId]={children:tbConf[key].items}}else{prepared.toolbars[key]={items:[]};for(var _i=0,_a=tbConf[key].items;_i<_a.length;_i++){var item=_a[_i];if(isFlyoutSpec(item)&&key!=constants_1.WEBLAYOUT_CONTEXTMENU){flyoutId=item.label+"_"+shortid.generate();prepared.toolbars[key].items.push({label:item.label,tooltip:item.tooltip,icon:item.icon,spriteClass:item.spriteClass,flyoutId:flyoutId}),prepared.flyouts[flyoutId]={children:item.children}}else prepared.toolbars[key].items.push(item)}}return[prepared,bFoundContextMenu]}},74130:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(15306),__webpack_require__(74916),__webpack_require__(68309),__webpack_require__(47941),__webpack_require__(57327),__webpack_require__(21249),__webpack_require__(69600),Object.defineProperty(exports,"__esModule",{value:!0}),exports.getCommand=exports.registerCommand=exports.openUrlInTarget=exports.isSupportedCommandInStatelessMode=exports.DefaultCommands=exports.CommandConditions=exports.reduceAppToToolbarState=exports.mapToolbarReference=exports.mergeInvokeUrlParameters=void 0;var common_1=__webpack_require__(18036),runtime_1=__webpack_require__(49538),i18n_1=__webpack_require__(196),asset_1=__webpack_require__(8608),assets_1=__webpack_require__(10358),never_1=__webpack_require__(4898),url_1=__webpack_require__(7976),actions_1=__webpack_require__(4485),modal_1=__webpack_require__(6136),logger_1=__webpack_require__(97838),FUSION_ICON_REGEX=/images\/icons\/[a-zA-Z\-]*.png/;function fixIconPath(path){return FUSION_ICON_REGEX.test(path)?((0,asset_1.getAssetRoot)()+"/"+path).replace(/\/\//g,"/"):path}function fusionFixSpriteClass(tb,cmd){return tb.spriteClass?tb.spriteClass:cmd&&cmd.iconClass?cmd.iconClass:void 0}function mergeInvokeUrlParameters(currentParameters,extraParameters){var currentP=currentParameters.reduce((function(prev,current,i,arr){return prev[current.name]=current.value,prev}),{});if(extraParameters)for(var _i=0,keys_1=Object.keys(extraParameters);_i<keys_1.length;_i++){currentP[k=keys_1[_i]]=extraParameters[k]}for(var merged=[],_a=0,mkeys_1=Object.keys(currentP);_a<mkeys_1.length;_a++){var k=mkeys_1[_a];merged.push({name:k,value:currentP[k]})}return merged}function fixChildItems(childItems,state,commandInvoker){return childItems.map((function(tb){return mapToolbarReference(tb,state,commandInvoker)})).filter((function(tb){return null!=tb}))}function mapToolbarReference(tb,state,commandInvoker){if(tb.error)return{iconClass:assets_1.SPRITE_ICON_ERROR,tooltip:tb.error,label:(0,i18n_1.tr)("ERROR"),selected:common_1.ALWAYS_FALSE,enabled:common_1.ALWAYS_FALSE,invoke:common_1.NOOP};if(tb.componentName)return{icon:tb.icon,iconClass:fusionFixSpriteClass(tb),flyoutId:tb.flyoutId,tooltip:tb.tooltip,label:tb.label,componentName:tb.componentName,componentProps:tb.componentProps};if(!0===tb.isSeparator)return{isSeparator:!0};if(tb.command){var cmd_1=getCommand(tb.command);if(null!=cmd_1)return{icon:fixIconPath(tb.icon||cmd_1.icon),iconClass:fusionFixSpriteClass(tb,cmd_1),tooltip:tb.tooltip,label:tb.label,selected:function selected(){return cmd_1.selected(state)},enabled:function enabled(){return cmd_1.enabled(state,tb.parameters)},invoke:function invoke(){return commandInvoker(cmd_1,tb.parameters)}}}else{if(tb.children){var childItems=tb.children;return{icon:fixIconPath(tb.icon),iconClass:fusionFixSpriteClass(tb),label:tb.label,tooltip:tb.tooltip,childItems:fixChildItems(childItems,state,commandInvoker)}}if(tb.label&&tb.flyoutId)return{icon:fixIconPath(tb.icon),iconClass:fusionFixSpriteClass(tb),label:tb.label,tooltip:tb.tooltip,flyoutId:tb.flyoutId}}return null}exports.mergeInvokeUrlParameters=mergeInvokeUrlParameters,exports.mapToolbarReference=mapToolbarReference,exports.reduceAppToToolbarState=function reduceAppToToolbarState(state){var _a,hasSelection,hasClientSelection=!1,hasPreviousView=!1,hasNextView=!1,visibleWmsLayerCount=0,selection=(0,common_1.getSelectionSet)(state);return hasSelection=null!=selection&&null!=selection.SelectedFeatures,state.config.activeMapName&&(hasClientSelection=null!=state.mapState[state.config.activeMapName].clientSelection,hasPreviousView=state.mapState[state.config.activeMapName].historyIndex>0,hasNextView=state.mapState[state.config.activeMapName].historyIndex<state.mapState[state.config.activeMapName].history.length-1,visibleWmsLayerCount=(null!==(_a=state.mapState[state.config.activeMapName].layers)&&void 0!==_a?_a:[]).filter((function(l){return l.visible&&l.selectable&&"WMS"==l.type})).length),{stateless:state.config.viewer.isStateless,visibleAndSelectableWmsLayerCount:visibleWmsLayerCount,busyWorkerCount:state.viewer.busyCount,hasSelection:hasSelection,hasClientSelection:hasClientSelection,hasPreviousView:hasPreviousView,hasNextView:hasNextView,activeTool:state.viewer.tool,featureTooltipsEnabled:state.viewer.featureTooltipsEnabled}};var DefaultCommands,CommandConditions=function(){function CommandConditions(){}return CommandConditions.isNotBusy=function(state){return 0==state.busyWorkerCount},CommandConditions.hasSelection=function(state){return state.hasSelection},CommandConditions.hasClientSelection=function(state){return state.hasClientSelection},CommandConditions.disabledIfEmptySelection=function(state,parameters){return!state.hasSelection&&(null!=parameters&&("true"==parameters.DisableIfSelectionEmpty||1==parameters.DisableIfSelectionEmpty))},CommandConditions.hasPreviousView=function(state){return state.hasPreviousView},CommandConditions.hasNextView=function(state){return state.hasNextView},CommandConditions}();exports.CommandConditions=CommandConditions,function(DefaultCommands){DefaultCommands.Select="Select",DefaultCommands.Pan="Pan",DefaultCommands.Zoom="Zoom",DefaultCommands.MapTip="MapTip",DefaultCommands.ZoomIn="ZoomIn",DefaultCommands.ZoomOut="ZoomOut",DefaultCommands.RestoreView="RestoreView",DefaultCommands.ZoomExtents="ZoomExtents",DefaultCommands.SelectRadius="SelectRadius",DefaultCommands.SelectPolygon="SelectPolygon",DefaultCommands.ClearSelection="ClearSelection",DefaultCommands.ZoomToSelection="ZoomToSelection",DefaultCommands.PanLeft="PanLeft",DefaultCommands.PanRight="PanRight",DefaultCommands.PanUp="PanUp",DefaultCommands.PanDown="PanDown",DefaultCommands.RefreshMap="RefreshMap",DefaultCommands.PreviousView="PreviousView",DefaultCommands.NextView="NextView",DefaultCommands.About="About",DefaultCommands.Help="Help",DefaultCommands.Measure="Measure",DefaultCommands.ViewerOptions="ViewerOptions",DefaultCommands.Buffer="Buffer",DefaultCommands.SelectWithin="SelectWithin",DefaultCommands.QuickPlot="QuickPlot",DefaultCommands.Redline="Redline",DefaultCommands.FeatureInfo="FeatureInfo",DefaultCommands.Theme="Theme",DefaultCommands.Query="Query",DefaultCommands.Geolocation="Geolocation",DefaultCommands.CoordinateTracker="CoordinateTracker",DefaultCommands.AddManageLayers="AddManageLayers",DefaultCommands.CenterSelection="CenterSelection",DefaultCommands.Print="Print"}(DefaultCommands=exports.DefaultCommands||(exports.DefaultCommands={}));var commands={};function openModalUrl(name,dispatch,url,modalTitle){dispatch((0,modal_1.showModalUrl)({modal:{title:modalTitle||(0,i18n_1.tr)(name),backdrop:!1,size:common_1.DEFAULT_MODAL_SIZE,overflowYScroll:!0},name:name,url:url}))}function openUrlInTarget(name,cmdDef,hasTaskPane,dispatch,url,modalTitle){var target=cmdDef.target;if("TaskPane"==target)hasTaskPane?dispatch({type:actions_1.ActionType.TASK_INVOKE_URL,payload:{url:url}}):openModalUrl(name,dispatch,url,modalTitle);else if("NewWindow"==target)openModalUrl(name,dispatch,url,modalTitle);else if("SpecifiedFrame"==target)if(cmdDef.targetFrame){for(var frames_1=window.frames,bInvoked=!1,i=0;i<frames_1.length;i++)if(frames_1[i].name==cmdDef.targetFrame){frames_1[i].location=url,bInvoked=!0;break}bInvoked||(0,logger_1.error)("Frame not found: "+cmdDef.targetFrame)}else(0,logger_1.error)("Command "+name+' has a target of "SpecifiedFrame", but does not specify a target frame');else(0,never_1.assertNever)(target)}function getCommand(name){return commands[name]}exports.isSupportedCommandInStatelessMode=function isSupportedCommandInStatelessMode(name){switch(name){case DefaultCommands.Select:case DefaultCommands.MapTip:case DefaultCommands.QuickPlot:case DefaultCommands.SelectRadius:case DefaultCommands.SelectPolygon:case DefaultCommands.ClearSelection:case DefaultCommands.ZoomToSelection:case DefaultCommands.Buffer:case DefaultCommands.SelectWithin:case DefaultCommands.Redline:case DefaultCommands.FeatureInfo:case DefaultCommands.Query:case DefaultCommands.Theme:case DefaultCommands.CenterSelection:return!1}return!0},exports.openUrlInTarget=openUrlInTarget,exports.registerCommand=function registerCommand(name,cmdDef){var cmd;cmd=function isInvokeUrlCommand(cmdDef){return void 0!==cmdDef.url}(cmdDef)?{icon:cmdDef.icon,iconClass:cmdDef.iconClass,title:cmdDef.title,enabled:function enabled(state){return!0!==cmdDef.disableIfSelectionEmpty||CommandConditions.hasSelection(state)},selected:function selected(){return!1},invoke:function invoke(dispatch,getState,viewer,parameters){var state=getState(),config=state.config,map=(0,common_1.getRuntimeMap)(state),params=mergeInvokeUrlParameters(cmdDef.parameters,parameters),url=(0,url_1.ensureParameters)(cmdDef.url,null==map?void 0:map.Name,null==map?void 0:map.SessionId,config.locale,!0,params);openUrlInTarget(name,cmdDef,config.capabilities.hasTaskPane,dispatch,url,cmd.title)}}:function isSearchCommand(cmdDef){return void 0!==cmdDef.layer}(cmdDef)?{icon:cmdDef.icon,iconClass:cmdDef.iconClass,title:cmdDef.title,enabled:function enabled(state){return!state.stateless},selected:function selected(){return!1},invoke:function invoke(dispatch,getState,viewer,parameters){var state=getState(),config=state.config,map=(0,common_1.getRuntimeMap)(state);if(map){var url=(0,url_1.ensureParameters)((0,runtime_1.getFusionRoot)()+"/widgets/Search/SearchPrompt.php",map.Name,map.SessionId,config.locale,!1)+"&popup=0&target=TaskPane&title="+encodeURIComponent(cmdDef.title)+"&prompt="+encodeURIComponent(cmdDef.prompt)+"&layer="+encodeURIComponent(cmdDef.layer)+"&pointZoomLevel="+parameters.PointZoomLevel+(cmdDef.filter?"&filter="+encodeURIComponent(cmdDef.filter):"")+"&limit="+cmdDef.matchLimit+"&properties="+(cmdDef.resultColumns.Column||[]).map((function(col){return col.Property})).join(",")+"&propNames="+(cmdDef.resultColumns.Column||[]).map((function(col){return col.Name})).join(",");openUrlInTarget(name,cmdDef,config.capabilities.hasTaskPane,dispatch,url,cmd.title)}}}:cmdDef,commands[name]=cmd},exports.getCommand=getCommand},13664:function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PlaceholderComponent=exports.getComponentFactory=exports.registerComponentFactory=exports.DefaultComponentNames=void 0;var DefaultComponentNames,tslib_1=__webpack_require__(70655),React=(0,tslib_1.__importStar)(__webpack_require__(67294)),error_1=__webpack_require__(63267),i18n_1=__webpack_require__(196);!function(DefaultComponentNames){DefaultComponentNames.Legend="Legend",DefaultComponentNames.SelectionPanel="SelectionPanel",DefaultComponentNames.Map="Map",DefaultComponentNames.Navigator="Navigator",DefaultComponentNames.MouseCoordinates="MouseCoordinates",DefaultComponentNames.ScaleDisplay="ScaleDisplay",DefaultComponentNames.SelectedFeatureCount="SelectedFeatureCount",DefaultComponentNames.PoweredByMapGuide="PoweredByMapGuide",DefaultComponentNames.TaskPane="TaskPane",DefaultComponentNames.About="About",DefaultComponentNames.SessionExpired="SessionExpired",DefaultComponentNames.Measure="Measure",DefaultComponentNames.ViewerOptions="ViewerOptions",DefaultComponentNames.QuickPlot="QuickPlot",DefaultComponentNames.BaseMapSwitcher="BaseMapSwitcher",DefaultComponentNames.MapMenu="MapMenu",DefaultComponentNames.ViewSize="ViewSize",DefaultComponentNames.CoordinateTracker="CoordinateTracker",DefaultComponentNames.AddManageLayers="AddManageLayers",DefaultComponentNames.ShareLinkToView="ShareLinkToView"}(DefaultComponentNames=exports.DefaultComponentNames||(exports.DefaultComponentNames={}));var components={};function registerComponentFactory(id,factory){components[id]=factory}function getComponentFactory(id){return components[id]}exports.registerComponentFactory=registerComponentFactory,exports.getComponentFactory=getComponentFactory;var PlaceholderComponent=function(_super){function PlaceholderComponent(props){return _super.call(this,props)||this}return(0,tslib_1.__extends)(PlaceholderComponent,_super),PlaceholderComponent.prototype.render=function(){var _a=this.props,id=_a.id,componentProps=_a.componentProps,factory=getComponentFactory(id);return factory?factory(componentProps):React.createElement(error_1.Error,{error:(0,i18n_1.tr)("ERR_UNREGISTERED_COMPONENT",this.props.locale,{componentId:id})})},PlaceholderComponent}(React.Component);exports.PlaceholderComponent=PlaceholderComponent;try{registerComponentFactory.displayName="registerComponentFactory",registerComponentFactory.__docgenInfo={description:"Registers a react component factory function for the given component id",displayName:"registerComponentFactory",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/api/registry/component.tsx#registerComponentFactory"]={docgenInfo:registerComponentFactory.__docgenInfo,name:"registerComponentFactory",path:"src/api/registry/component.tsx#registerComponentFactory"})}catch(__react_docgen_typescript_loader_error){}try{getComponentFactory.displayName="getComponentFactory",getComponentFactory.__docgenInfo={description:"Gets the registered component factory function for the given component id",displayName:"getComponentFactory",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/api/registry/component.tsx#getComponentFactory"]={docgenInfo:getComponentFactory.__docgenInfo,name:"getComponentFactory",path:"src/api/registry/component.tsx#getComponentFactory"})}catch(__react_docgen_typescript_loader_error){}try{DefaultComponentNames.displayName="DefaultComponentNames",DefaultComponentNames.__docgenInfo={description:"The default set of component names",displayName:"DefaultComponentNames",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/api/registry/component.tsx#DefaultComponentNames"]={docgenInfo:DefaultComponentNames.__docgenInfo,name:"DefaultComponentNames",path:"src/api/registry/component.tsx#DefaultComponentNames"})}catch(__react_docgen_typescript_loader_error){}try{PlaceholderComponent.displayName="PlaceholderComponent",PlaceholderComponent.__docgenInfo={description:"A component placeholder",displayName:"PlaceholderComponent",props:{id:{defaultValue:null,description:"The id of the component this placeholder is for\n@memberOf IPlaceholderComponentProps",name:"id",required:!0,type:{name:"{string}"}},locale:{defaultValue:null,description:"The locale\n@memberOf IPlaceholderComponentProps",name:"locale",required:!1,type:{name:"{string}"}},componentProps:{defaultValue:null,description:"The props of the underlying component\n@memberOf IPlaceholderComponentProps",name:"componentProps",required:!1,type:{name:"{*}"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/api/registry/component.tsx#PlaceholderComponent"]={docgenInfo:PlaceholderComponent.__docgenInfo,name:"PlaceholderComponent",path:"src/api/registry/component.tsx#PlaceholderComponent"})}catch(__react_docgen_typescript_loader_error){}},77900:function(__unused_webpack_module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ExternalLayerFactoryRegistry=void 0;var ExternalLayerFactoryRegistry=function(){function ExternalLayerFactoryRegistry(){if(this._vectorCreators={},ExternalLayerFactoryRegistry._instance)throw new Error("Error: Instantiation failed: Use ExternalLayerFactoryRegistry.getInstance() instead of new.");ExternalLayerFactoryRegistry._instance=this}return ExternalLayerFactoryRegistry.getInstance=function(){return ExternalLayerFactoryRegistry._instance},ExternalLayerFactoryRegistry.prototype.registerExternalVectorLayerCreator=function(driverName,creator){this._vectorCreators[driverName]=creator},ExternalLayerFactoryRegistry.prototype.getExternalVectorLayerCreator=function(driverName){return this._vectorCreators[driverName]},ExternalLayerFactoryRegistry._instance=new ExternalLayerFactoryRegistry,ExternalLayerFactoryRegistry}();exports.ExternalLayerFactoryRegistry=ExternalLayerFactoryRegistry},97881:function(__unused_webpack_module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getLayout=exports.registerLayout=exports.getLayoutCapabilities=void 0;var layouts={},layoutCaps={};exports.getLayoutCapabilities=function getLayoutCapabilities(name){return layoutCaps[name]},exports.registerLayout=function registerLayout(name,factory,caps){layouts[name]=factory,layoutCaps[name]=caps},exports.getLayout=function getLayout(name){return layouts[name]}},36553:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(88674),__webpack_require__(41539),Object.defineProperty(exports,"__esModule",{value:!0}),exports.ensureProjection=exports.resolveProjectionFromEpsgIoAsync=void 0;var tslib_1=__webpack_require__(70655),proj4_1=(0,tslib_1.__importDefault)(__webpack_require__(96280)),error_1=__webpack_require__(59404),i18n_1=__webpack_require__(196),string_1=__webpack_require__(53775),proj4_2=__webpack_require__(23148),logger_1=__webpack_require__(97838);function resolveProjectionFromEpsgIoAsync(epsg,locale,mapDef){return(0,tslib_1.__awaiter)(this,void 0,void 0,(function(){var resp;return(0,tslib_1.__generator)(this,(function(_a){switch(_a.label){case 0:return[4,fetch("//epsg.io?format=json&q="+epsg)];case 1:return[4,_a.sent().json()];case 2:if((resp=_a.sent()).results&&resp.results.length>0)return proj4_1.default.defs("EPSG:"+epsg,resp.results[0].proj4),(0,logger_1.debug)("Registered projection EPSG:"+epsg+" from epsg.io"),[2,proj4_1.default.defs["EPSG:"+epsg]];throw new error_1.MgError((0,i18n_1.tr)("INIT_ERROR_UNREGISTERED_EPSG_CODE",locale,{epsg:epsg,mapDefinition:mapDef}))}}))}))}exports.resolveProjectionFromEpsgIoAsync=resolveProjectionFromEpsgIoAsync,exports.ensureProjection=function ensureProjection(epsgCode,locale,alias,factoryIfNotFound){return(0,tslib_1.__awaiter)(this,void 0,void 0,(function(){var resolvedName,bAdded,name;return(0,tslib_1.__generator)(this,(function(_a){switch(_a.label){case 0:return bAdded=!1,name="EPSG:"+epsgCode,proj4_1.default.defs[name]?(resolvedName=name,[3,4]):[3,1];case 1:return factoryIfNotFound?(proj4_1.default.defs[name]=factoryIfNotFound(),bAdded=!0,resolvedName=name,[3,4]):[3,2];case 2:return[4,resolveProjectionFromEpsgIoAsync(epsgCode,locale,"")];case 3:_a.sent(),resolvedName=name,_a.label=4;case 4:return(0,string_1.strIsNullOrEmpty)(alias)||proj4_1.default.defs[alias]||(proj4_1.default.defs[alias]=proj4_1.default.defs[resolvedName],bAdded=!0),bAdded&&(0,proj4_2.register)(proj4_1.default),[2,[epsgCode,resolvedName]]}}))}))}},75549:function(__unused_webpack_module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RequestBuilder=exports.QueryFeaturesSet=exports.RuntimeMapFeatureFlags=void 0,function(RuntimeMapFeatureFlags){RuntimeMapFeatureFlags[RuntimeMapFeatureFlags.LayersAndGroups=1]="LayersAndGroups",RuntimeMapFeatureFlags[RuntimeMapFeatureFlags.LayerIcons=2]="LayerIcons",RuntimeMapFeatureFlags[RuntimeMapFeatureFlags.LayerFeatureSources=4]="LayerFeatureSources"}(exports.RuntimeMapFeatureFlags||(exports.RuntimeMapFeatureFlags={})),function(QueryFeaturesSet){QueryFeaturesSet[QueryFeaturesSet.Attributes=1]="Attributes",QueryFeaturesSet[QueryFeaturesSet.InlineSelection=2]="InlineSelection",QueryFeaturesSet[QueryFeaturesSet.Tooltip=4]="Tooltip",QueryFeaturesSet[QueryFeaturesSet.Hyperlink=8]="Hyperlink"}(exports.QueryFeaturesSet||(exports.QueryFeaturesSet={}));var RequestBuilder=function RequestBuilder(agentUri){this.agentUri=agentUri};exports.RequestBuilder=RequestBuilder},49538:function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getViewer=exports.isReady=exports.setViewer=exports.getFusionRoot=exports.setFusionRoot=void 0;var _fusionRoot,_viewer,logger_1=__webpack_require__(97838);exports.setFusionRoot=function setFusionRoot(root){_fusionRoot=root,(0,logger_1.debug)("Fusion root set to: "+root+". Access to Fusion backend services and widget content will be relative to this value")},exports.getFusionRoot=function getFusionRoot(){return _fusionRoot||"../fusion"},exports.setViewer=function setViewer(viewer){_viewer=viewer},exports.isReady=function isReady(){return null!=_viewer},exports.getViewer=function getViewer(){return _viewer}},63313:function(__unused_webpack_module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.countSelection=void 0,exports.countSelection=function countSelection(mgSelection,clientSelection){var _a,_b,_c,_d,_e,_f,_g,summary={total:0,layerCount:0};if(mgSelection)if(function isSelectedFeatureSet(ss){return ss.SelectedLayer}(mgSelection)){summary.layerCount=mgSelection.SelectedLayer.length;for(var _i=0,_h=mgSelection.SelectedLayer;_i<_h.length;_i++){var lyr=_h[_i];summary.total+=null!==(_b=null===(_a=lyr.Feature)||void 0===_a?void 0:_a.length)&&void 0!==_b?_b:0}}else{summary.layerCount=mgSelection.Layer.length;for(var _j=0,_k=mgSelection.Layer;_j<_k.length;_j++){lyr=_k[_j];summary.total+=null!==(_e=null===(_d=null===(_c=lyr.Class)||void 0===_c?void 0:_c.ID)||void 0===_d?void 0:_d.length)&&void 0!==_e?_e:0}}if(clientSelection){summary.layerCount=clientSelection.layers.length;for(var _l=0,_m=clientSelection.layers;_l<_m.length;_l++){lyr=_m[_l];summary.total+=null!==(_g=null===(_f=lyr.features)||void 0===_f?void 0:_f.length)&&void 0!==_g?_g:0}}if(0!=summary.total||0!=summary.layerCount)return summary}},66445:function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.retrieveSelectionSetFromLocalStorage=exports.persistSelectionSetToLocalStorage=exports.clearSessionStore=void 0;var tslib_1=__webpack_require__(70655),string_1=__webpack_require__(53775);function encodeKey(sessionId,mapName){return"selection_"+sessionId+"_"+mapName}exports.clearSessionStore=function clearSessionStore(){return(0,tslib_1.__awaiter)(this,void 0,void 0,(function(){var key;return(0,tslib_1.__generator)(this,(function(_a){try{for(key in window.localStorage)(0,string_1.strStartsWith)(key,"selection_")&&window.localStorage.removeItem(key)}catch(e){}return[2]}))}))},exports.persistSelectionSetToLocalStorage=function persistSelectionSetToLocalStorage(sessionId,mapName,resp){return(0,tslib_1.__awaiter)(this,void 0,void 0,(function(){var key,value;return(0,tslib_1.__generator)(this,(function(_a){key=encodeKey(sessionId,mapName),value=JSON.stringify(resp);try{window.localStorage.setItem(key,value)}catch(e){}return[2]}))}))},exports.retrieveSelectionSetFromLocalStorage=function retrieveSelectionSetFromLocalStorage(sessionId,mapName){return(0,tslib_1.__awaiter)(this,void 0,void 0,(function(){var key,_a,content;return(0,tslib_1.__generator)(this,(function(_b){switch(_b.label){case 0:return _a=encodeKey,[4,sessionId.getValueAsync()];case 1:return key=_a.apply(void 0,[_b.sent(),mapName]),(content=window.localStorage.getItem(key))?[2,JSON.parse(content)]:[2]}}))}))}},74681:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(57327),__webpack_require__(21249),Object.defineProperty(exports,"__esModule",{value:!0}),exports.Accordion=void 0;var React=(0,__webpack_require__(70655).__importStar)(__webpack_require__(67294)),core_1=__webpack_require__(61992);var Accordion=function Accordion(props){var style=props.style,panels=props.panels,isResizing=props.isResizing,onActivePanelChanged=props.onActivePanelChanged,activeId=function validatePanelId(panels,id){return id&&panels.filter((function(p){return p.id==id}))[0]?id:null}(props.panels,props.activePanelId),_a=React.useState({width:-1,height:-1}),dim=_a[0],setDim=_a[1],_b=React.useState(activeId||panels[panels.length-1].id),openPanel=_b[0],setOpenPanel=_b[1];React.useEffect((function(){setOpenPanel(activeId||panels[panels.length-1].id)}),[activeId]);var onTogglePanel=function onTogglePanel(e){var id=e.currentTarget.attributes["data-accordion-panel-id"].value;openPanel!=id&&(setOpenPanel(id),null==onActivePanelChanged||onActivePanelChanged(id))};return React.createElement(core_1.ResizeSensor,{onResize:function onResize(entries){setDim(entries[0].contentRect)}},React.createElement("div",{style:style,className:"component-accordion"},panels.map((function(p){var isOpen=p.id==openPanel;return React.createElement("div",{key:p.id,className:"component-accordion-panel"},React.createElement("div",{className:"component-accordion-panel-header",style:{height:24},"data-accordion-panel-id":p.id,onClick:onTogglePanel},React.createElement(core_1.Icon,{icon:isOpen?"chevron-up":"chevron-down"})," ",p.title),React.createElement(core_1.Collapse,{isOpen:isOpen},p.contentRenderer({width:dim.width,height:dim.height-24*panels.length},isResizing)))}))))};exports.Accordion=Accordion;try{Accordion.displayName="Accordion",Accordion.__docgenInfo={description:"A generic, reusable Accordion component",displayName:"Accordion",props:{style:{defaultValue:null,description:"",name:"style",required:!0,type:{name:"CSSProperties"}},panels:{defaultValue:null,description:"",name:"panels",required:!0,type:{name:"IAccordionPanelSpec[]"}},onActivePanelChanged:{defaultValue:null,description:"",name:"onActivePanelChanged",required:!1,type:{name:"((id: string) => void)"}},activePanelId:{defaultValue:null,description:"",name:"activePanelId",required:!1,type:{name:"string"}},isResizing:{defaultValue:null,description:"",name:"isResizing",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/accordion.tsx#Accordion"]={docgenInfo:Accordion.__docgenInfo,name:"Accordion",path:"src/components/accordion.tsx#Accordion"})}catch(__react_docgen_typescript_loader_error){}},195:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(57327),__webpack_require__(68309),__webpack_require__(21249),Object.defineProperty(exports,"__esModule",{value:!0}),exports.BaseLayerSwitcher=void 0;var React=(0,__webpack_require__(70655).__importStar)(__webpack_require__(67294)),string_1=__webpack_require__(53775),i18n_1=__webpack_require__(196),BaseLayerSwitcher=function BaseLayerSwitcher(props){var locale=props.locale,externalBaseLayers=props.externalBaseLayers,visLayers=externalBaseLayers.filter((function(layer){return!0===layer.visible})),_a=React.useState(1==visLayers.length?visLayers[0].name:string_1.STR_EMPTY),selected=_a[0],setSelected=_a[1],onBaseLayerChanged=function onBaseLayerChanged(e){var _a,value=e.currentTarget.value;setSelected(value),null===(_a=props.onBaseLayerChanged)||void 0===_a||_a.call(props,value)};return React.useEffect((function(){setSelected(1==visLayers.length?visLayers[0].name:string_1.STR_EMPTY)}),[visLayers]),React.createElement("div",null,React.createElement("div",{className:"base-layer-switcher-item-container"},React.createElement("label",{className:"bp3-control bp3-radio"},React.createElement("input",{className:"base-layer-switcher-option",type:"radio",value:string_1.STR_EMPTY,checked:(0,string_1.strIsNullOrEmpty)(selected),onChange:onBaseLayerChanged}),React.createElement("span",{className:"bp3-control-indicator"}),(0,i18n_1.tr)("NONE",locale))),externalBaseLayers.map((function(layer){return React.createElement("div",{className:"base-layer-switcher-item-container",key:"base-layer-"+layer.name},React.createElement("label",{className:"bp3-control bp3-radio"},React.createElement("input",{className:"base-layer-switcher-option",type:"radio",value:layer.name,checked:layer.name===selected,onChange:onBaseLayerChanged}),React.createElement("span",{className:"bp3-control-indicator"}),layer.name))})))};exports.BaseLayerSwitcher=BaseLayerSwitcher;try{BaseLayerSwitcher.displayName="BaseLayerSwitcher",BaseLayerSwitcher.__docgenInfo={description:"The BaseLayerSwitcher component provides a user interface for switching the active external\nbase layer of the current map",displayName:"BaseLayerSwitcher",props:{locale:{defaultValue:null,description:"",name:"locale",required:!0,type:{name:"string | undefined"}},externalBaseLayers:{defaultValue:null,description:"",name:"externalBaseLayers",required:!0,type:{name:"IExternalBaseLayer[]"}},onBaseLayerChanged:{defaultValue:null,description:"",name:"onBaseLayerChanged",required:!1,type:{name:"((name: string) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/base-layer-switcher.tsx#BaseLayerSwitcher"]={docgenInfo:BaseLayerSwitcher.__docgenInfo,name:"BaseLayerSwitcher",path:"src/components/base-layer-switcher.tsx#BaseLayerSwitcher"})}catch(__react_docgen_typescript_loader_error){}},76929:function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ColorPicker=void 0;var React=(0,__webpack_require__(70655).__importStar)(__webpack_require__(67294)),core_1=__webpack_require__(61992),i18n_1=__webpack_require__(196),constants_1=__webpack_require__(12872),ol_style_contracts_1=__webpack_require__(42720),react_colorful_1=__webpack_require__(85907),ColorPicker=function ColorPicker(props){var _a,_b,_c=React.useState(!1),isPickerOpen=_c[0],setIsPickerOpen=_c[1];return React.createElement("div",null,React.createElement("button",{disabled:props.disabled,style:{width:80,borderRadius:3,backgroundColor:null!==(_a=props.value)&&void 0!==_a?_a:ol_style_contracts_1.DEFAULT_COLOR},onClick:function onPickerToggle(){setIsPickerOpen(!isPickerOpen)}},constants_1.NBSP,constants_1.NBSP,constants_1.NBSP),React.createElement(core_1.Collapse,{isOpen:isPickerOpen},React.createElement(core_1.Card,null,React.createElement(react_colorful_1.HexColorPicker,{style:{width:"100%"},color:null!==(_b=props.value)&&void 0!==_b?_b:ol_style_contracts_1.DEFAULT_COLOR,onChange:function onChange(c){return props.onChange(c)}}),React.createElement(core_1.Button,{icon:"chevron-up",intent:core_1.Intent.PRIMARY,onClick:function onClick(){return setIsPickerOpen(!1)}},(0,i18n_1.tr)("ACTION_CLOSE",props.locale)))))};exports.ColorPicker=ColorPicker;try{ColorPicker.displayName="ColorPicker",ColorPicker.__docgenInfo={description:"A basic color picker component",displayName:"ColorPicker",props:{value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string"}},locale:{defaultValue:null,description:"",name:"locale",required:!0,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: string) => void"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/color-picker.tsx#ColorPicker"]={docgenInfo:ColorPicker.__docgenInfo,name:"ColorPicker",path:"src/components/color-picker.tsx#ColorPicker"})}catch(__react_docgen_typescript_loader_error){}},6928:function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ToolbarContext=exports.LegendContext=exports.AppContext=void 0;var React=(0,__webpack_require__(70655).__importStar)(__webpack_require__(67294)),i18n_1=__webpack_require__(196),string_1=__webpack_require__(53775),VOID_NOOP=function VOID_NOOP(){};exports.AppContext=React.createContext({allowHtmlValuesInSelection:function allowHtmlValuesInSelection(){return!1},getHTMLCleaner:function getHTMLCleaner(){return function(v){return v}}}),exports.LegendContext=React.createContext({stateless:!1,getMapName:function getMapName(){},isFiltering:function isFiltering(){return!1},getFilterText:function getFilterText(){return string_1.STR_EMPTY},getLocale:function getLocale(){return i18n_1.DEFAULT_LOCALE},getBaseIconSize:function getBaseIconSize(){return 0},getIconMimeType:function getIconMimeType(){return string_1.STR_EMPTY},getChildren:function getChildren(){return[]},getCurrentScale:function getCurrentScale(){return-1},getTree:VOID_NOOP,getLayerVisibility:function getLayerVisibility(){return!1},getGroupVisibility:function getGroupVisibility(){return!1},setGroupVisibility:VOID_NOOP,setLayerVisibility:VOID_NOOP,getLayerSelectability:function getLayerSelectability(){return!1},setLayerSelectability:function setLayerSelectability(){return!1},getGroupExpanded:function getGroupExpanded(){return!1},setGroupExpanded:VOID_NOOP,getLayerExpanded:function getLayerExpanded(){return!1},setLayerExpanded:VOID_NOOP}),exports.ToolbarContext=React.createContext({openFlyout:VOID_NOOP,closeFlyout:VOID_NOOP,openComponent:VOID_NOOP,closeComponent:VOID_NOOP})},63267:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(23123),__webpack_require__(74916),__webpack_require__(21249),Object.defineProperty(exports,"__esModule",{value:!0}),exports.Error=exports.normalizeStack=void 0;var React=(0,__webpack_require__(70655).__importStar)(__webpack_require__(67294)),type_guards_1=__webpack_require__(64726),core_1=__webpack_require__(61992);function normalizeStack(err){return err.stack instanceof Array?err.stack||[]:"string"==typeof err.stack?(err.stack||"").split("\n"):[]}exports.normalizeStack=normalizeStack;var Error=function Error(props){var err=props.error;if((0,type_guards_1.isError)(err)||(0,type_guards_1.isInitError)(err)){if(props.errorRenderer)return props.errorRenderer(err);err.message;var stack=normalizeStack(err);return React.createElement(core_1.Callout,{intent:core_1.Intent.DANGER,icon:"error"},React.createElement("h5",{className:"error-header"},err.message),React.createElement("ul",{className:"error-stack"},stack.map((function(ln,i){return React.createElement("li",{key:"stack-line-"+i},ln)}))))}return React.createElement(core_1.Callout,{intent:core_1.Intent.DANGER,icon:"error"},React.createElement("h5",{className:"error-header"},err))};exports.Error=Error;try{normalizeStack.displayName="normalizeStack",normalizeStack.__docgenInfo={description:"Returns a normalized stack trace for the given error object",displayName:"normalizeStack",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/error.tsx#normalizeStack"]={docgenInfo:normalizeStack.__docgenInfo,name:"normalizeStack",path:"src/components/error.tsx#normalizeStack"})}catch(__react_docgen_typescript_loader_error){}try{Error.displayName="Error",Error.__docgenInfo={description:"The Error component displays an error object in a nicely formatted manner",displayName:"Error",props:{error:{defaultValue:null,description:"",name:"error",required:!0,type:{name:"string | Error | InitError"}},errorRenderer:{defaultValue:null,description:"",name:"errorRenderer",required:!1,type:{name:"((err: Error | InitError) => Element)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/error.tsx#Error"]={docgenInfo:Error.__docgenInfo,name:"Error",path:"src/components/error.tsx#Error"})}catch(__react_docgen_typescript_loader_error){}},31807:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(68309),__webpack_require__(82526),__webpack_require__(41817),__webpack_require__(88674),__webpack_require__(41539),__webpack_require__(57327),Object.defineProperty(exports,"__esModule",{value:!0}),exports.createExternalSource=exports.createOLLayerFromSubjectDefn=exports.clusterSourceIfRequired=void 0;var tslib_1=__webpack_require__(70655),error_1=__webpack_require__(59404),common_1=__webpack_require__(18036),defs_1=__webpack_require__(93720),XYZ_1=(0,tslib_1.__importDefault)(__webpack_require__(54680)),OSM_1=(0,tslib_1.__importDefault)(__webpack_require__(98266)),Stamen_1=(0,tslib_1.__importDefault)(__webpack_require__(92347)),BingMaps_1=(0,tslib_1.__importDefault)(__webpack_require__(31655)),UTFGrid_1=(0,tslib_1.__importDefault)(__webpack_require__(67548)),Tile_1=(0,tslib_1.__importDefault)(__webpack_require__(92479)),TileWMS_1=(0,tslib_1.__importDefault)(__webpack_require__(14409)),Vector_1=(0,tslib_1.__importDefault)(__webpack_require__(86333)),Vector_2=(0,tslib_1.__importDefault)(__webpack_require__(30933)),Cluster_1=(0,tslib_1.__importDefault)(__webpack_require__(39261)),VectorTile_1=(0,tslib_1.__importDefault)(__webpack_require__(37358)),VectorTile_2=(0,tslib_1.__importDefault)(__webpack_require__(85256)),csv_driver_1=__webpack_require__(62599),KML_1=(0,tslib_1.__importDefault)(__webpack_require__(90798)),GeoJSON_1=(0,tslib_1.__importDefault)(__webpack_require__(64678)),MVT_1=(0,tslib_1.__importDefault)(__webpack_require__(89681)),external_layer_1=__webpack_require__(77900),string_1=__webpack_require__(53775),GeometryType_1=(0,tslib_1.__importDefault)(__webpack_require__(74754)),ol_style_helpers_1=__webpack_require__(68189),ol_style_contracts_1=__webpack_require__(42720),Feature_1=(0,tslib_1.__importDefault)(__webpack_require__(81090)),geojson_vt_1=(0,tslib_1.__importDefault)(__webpack_require__(98592)),Projection_1=(0,tslib_1.__importDefault)(__webpack_require__(29619)),proj_1=__webpack_require__(26414),lazy_1=__webpack_require__(78027),logger_1=__webpack_require__(97838);var geoJsonVt2GeoJSON=function geoJsonVt2GeoJSON(key,value){if(value.geometry){var type=void 0,rawType=value.type,geometry=value.geometry;return 1===rawType?(type="MultiPoint",1==geometry.length&&(type="Point",geometry=geometry[0])):2===rawType?(type="MultiLineString",1==geometry.length&&(type="LineString",geometry=geometry[0])):3===rawType&&(type="Polygon",geometry.length>1&&(type="MultiPolygon",geometry=[geometry])),{type:"Feature",geometry:{type:type,coordinates:geometry},properties:value.tags}}return value};function applyVectorLayerProperties(defn,layer,isExternal){layer.set(common_1.LayerProperty.LAYER_NAME,defn.name),layer.set(common_1.LayerProperty.LAYER_DESCRIPTION,defn.description),layer.set(common_1.LayerProperty.LAYER_DISPLAY_NAME,defn.displayName),layer.set(common_1.LayerProperty.LAYER_TYPE,defn.type),layer.set(common_1.LayerProperty.IS_SELECTABLE,defn.selectable),layer.set(common_1.LayerProperty.IS_EXTERNAL,isExternal),layer.set(common_1.LayerProperty.SELECTED_POPUP_CONFIGURATION,defn.popupTemplate),layer.set(common_1.LayerProperty.IS_GROUP,!1),layer.set(common_1.LayerProperty.LAYER_METADATA,defn.meta),layer.setVisible(defn.initiallyVisible)}var EMPTY_GEOJSON={type:"FeatureCollection",features:[]};function clusterSourceIfRequired(source,def){return def.cluster?new Cluster_1.default({source:source,distance:def.cluster.distance,geometryFunction:function geometryFunction(feature){var geometry=feature.getGeometry();if(geometry&&geometry.getType()==GeometryType_1.default.POINT)return geometry}}):source}exports.clusterSourceIfRequired=clusterSourceIfRequired,exports.createOLLayerFromSubjectDefn=function createOLLayerFromSubjectDefn(defn,mapProjection,isExternal,appSettings){var _a,_b,_c,_d,_e,_f,_g,_h,_this=this;switch(defn.type){case defs_1.GenericSubjectLayerType.GeoJSON_Inline:var features=(new GeoJSON_1.default).readFeatures(null!==(_a=defn.sourceParams.features)&&void 0!==_a?_a:EMPTY_GEOJSON),source=new Vector_2.default({features:features,attributions:defn.sourceParams.attributions}),layer=new Vector_1.default((0,tslib_1.__assign)((0,tslib_1.__assign)({},defn.layerOptions),{source:clusterSourceIfRequired(source,defn)}));return(0,ol_style_helpers_1.setOLVectorLayerStyle)(layer,null!==(_b=defn.vectorStyle)&&void 0!==_b?_b:ol_style_contracts_1.DEFAULT_VECTOR_LAYER_STYLE,defn.cluster),applyVectorLayerProperties(defn,layer,isExternal),layer;case defs_1.GenericSubjectLayerType.GeoJSON:var isWebM=function sameProjectionAs(proj1,proj2){var nproj1=(0,proj_1.get)(proj1),nproj2=(0,proj_1.get)(proj2);return(0,proj_1.equivalent)(nproj1,nproj2)}(mapProjection,"EPSG:3857"),asVT=1==(null===(_c=defn.meta)||void 0===_c?void 0:_c.geojson_as_vt);if(asVT&&isWebM){var lazyTileIndex_1=new lazy_1.AsyncLazy((function(){return(0,tslib_1.__awaiter)(_this,void 0,void 0,(function(){var json,gj,features,_a,_b;return(0,tslib_1.__generator)(this,(function(_c){switch(_c.label){case 0:return(0,logger_1.debug)("Fetching url: "+defn.sourceParams.url),[4,fetch(defn.sourceParams.url)];case 1:return[4,_c.sent().json()];case 2:return json=_c.sent(),"EPSG:4326"!=(null===(_a=defn.meta)||void 0===_a?void 0:_a.projection)&&(gj=new GeoJSON_1.default({dataProjection:null===(_b=defn.meta)||void 0===_b?void 0:_b.projection,featureProjection:"EPSG:4326"}),features=gj.readFeatures(json),json=gj.writeFeaturesObject(features,{dataProjection:"EPSG:4326"})),[2,(0,geojson_vt_1.default)(json,{extent:4096})]}}))}))})),format_1=new GeoJSON_1.default({dataProjection:new Projection_1.default({code:"TILE_PIXELS",units:"tile-pixels",extent:[0,0,4096,4096]})}),vectorSource_1=new VectorTile_1.default({projection:mapProjection,tileUrlFunction:function tileUrlFunction(tileCoord){return JSON.stringify(tileCoord)},tileLoadFunction:function tileLoadFunction(tile,url){var tileCoord=JSON.parse(url);lazyTileIndex_1.getValueAsync().then((function(tileIndex){var data=tileIndex.getTile(tileCoord[0],tileCoord[1],tileCoord[2]),geojson=JSON.stringify({type:"FeatureCollection",features:data?data.features:[]},geoJsonVt2GeoJSON),features=format_1.readFeatures(geojson,{extent:vectorSource_1.getTileGrid().getTileCoordExtent(tileCoord),featureProjection:mapProjection});tile.setFeatures(features)}))}}),vectorLayer=new VectorTile_2.default({source:vectorSource_1});return(0,ol_style_helpers_1.setOLVectorLayerStyle)(vectorLayer,null!==(_d=defn.vectorStyle)&&void 0!==_d?_d:ol_style_contracts_1.DEFAULT_VECTOR_LAYER_STYLE,defn.cluster),applyVectorLayerProperties(defn,vectorLayer,isExternal),vectorLayer}asVT&&console.warn("The geojson_as_vt meta option only applies if the MapGuide map or Primary Subject Layer is in EPSG:3857. This layer will be loaded as a regular GeoJSON layer");source=new Vector_2.default({url:defn.sourceParams.url,format:new GeoJSON_1.default,attributions:defn.sourceParams.attributions}),layer=new Vector_1.default((0,tslib_1.__assign)((0,tslib_1.__assign)({},defn.layerOptions),{source:clusterSourceIfRequired(source,defn)}));return(0,ol_style_helpers_1.setOLVectorLayerStyle)(layer,null!==(_e=defn.vectorStyle)&&void 0!==_e?_e:ol_style_contracts_1.DEFAULT_VECTOR_LAYER_STYLE,defn.cluster),applyVectorLayerProperties(defn,layer,isExternal),layer;case defs_1.GenericSubjectLayerType.MVT:var mo={idProperty:defn.sourceParams.mvtIdProperty};switch(defn.sourceParams.mvtFeatureClass){case"feature":mo.featureClass=Feature_1.default}source=new VectorTile_1.default({url:defn.sourceParams.url,format:new MVT_1.default(mo),attributions:defn.sourceParams.attributions,tileLoadFunction:function tileLoadFunction(tile,url){tile.setLoader((function(extent,resolution,projection){fetch(url).then((function(response){200==response.status&&response.arrayBuffer().then((function(data){var features=tile.getFormat().readFeatures(data,{extent:extent,featureProjection:projection}).filter((function(f){return null!=f}));tile.setFeatures(features)}))}))}))}}),layer=new VectorTile_2.default((0,tslib_1.__assign)((0,tslib_1.__assign)({},defn.layerOptions),{source:source}));return(0,ol_style_helpers_1.setOLVectorLayerStyle)(layer,null!==(_f=defn.vectorStyle)&&void 0!==_f?_f:ol_style_contracts_1.DEFAULT_VECTOR_LAYER_STYLE,defn.cluster),applyVectorLayerProperties(defn,layer,isExternal),layer;case defs_1.GenericSubjectLayerType.CSV:var vectorSource_2=new Vector_2.default({loader:function loader(_extent,_resolution,projection){var xhr=new XMLHttpRequest;xhr.open("GET",defn.sourceParams.url);var onError=function onError(){return vectorSource_2.clear()};xhr.onerror=onError,xhr.onload=function(){200==xhr.status?new csv_driver_1.CsvFormatDriver(csv_driver_1.CSV_COLUMN_ALIASES).tryParse(xhr.responseText.length,xhr.responseText).then((function(pf){var _a;pf.addTo(vectorSource_2,projection,null===(_a=defn.meta)||void 0===_a?void 0:_a.projection)})).catch((function(e){return onError()})):onError()},xhr.send()},attributions:defn.sourceParams.attributions});layer=new Vector_1.default((0,tslib_1.__assign)((0,tslib_1.__assign)({},defn.layerOptions),{source:clusterSourceIfRequired(vectorSource_2,defn)}));return(0,ol_style_helpers_1.setOLVectorLayerStyle)(layer,null!==(_g=defn.vectorStyle)&&void 0!==_g?_g:ol_style_contracts_1.DEFAULT_VECTOR_LAYER_STYLE,defn.cluster),applyVectorLayerProperties(defn,layer,isExternal),layer;case defs_1.GenericSubjectLayerType.KML:source=new Vector_2.default({url:defn.sourceParams.url,format:new KML_1.default,attributions:defn.sourceParams.attributions}),layer=new Vector_1.default((0,tslib_1.__assign)((0,tslib_1.__assign)({},defn.layerOptions),{source:clusterSourceIfRequired(source,defn)}));return applyVectorLayerProperties(defn,layer,isExternal),layer;case defs_1.GenericSubjectLayerType.TileWMS:var sourceArgs=(0,tslib_1.__assign)({crossOrigin:"anonymous"},defn.sourceParams);return(layer=new Tile_1.default({source:new TileWMS_1.default(sourceArgs)})).set(common_1.LayerProperty.LAYER_DESCRIPTION,defn.description),layer.set(common_1.LayerProperty.LAYER_TYPE,"WMS"),layer.set(common_1.LayerProperty.IS_SELECTABLE,!0),layer.set(common_1.LayerProperty.IS_EXTERNAL,isExternal),layer.set(common_1.LayerProperty.IS_GROUP,!1),layer.set(common_1.LayerProperty.SELECTED_POPUP_CONFIGURATION,defn.popupTemplate),layer.set(common_1.LayerProperty.LAYER_METADATA,defn.meta),layer.setVisible(defn.initiallyVisible),layer;case defs_1.GenericSubjectLayerType.CustomVector:if((0,string_1.strIsNullOrEmpty)(defn.driverName))throw new Error("Missing required driverName");var factory=external_layer_1.ExternalLayerFactoryRegistry.getInstance().getExternalVectorLayerCreator(defn.driverName);if(!factory)throw new Error("Could not resolve an approriate factory for the given driver: "+defn.driverName);source=clusterSourceIfRequired((layer=factory(defn.sourceParams,defn.meta,defn.layerOptions,appSettings)).getSource(),defn);return layer.setSource(source),(0,ol_style_helpers_1.setOLVectorLayerStyle)(layer,null!==(_h=defn.vectorStyle)&&void 0!==_h?_h:ol_style_contracts_1.DEFAULT_VECTOR_LAYER_STYLE,defn.cluster),applyVectorLayerProperties(defn,layer,isExternal),layer;default:throw new Error("Unknown subject layer type: "+defn.type)}},exports.createExternalSource=function createExternalSource(layer){var sourceCtor;switch(layer.kind){case"XYZ":sourceCtor=XYZ_1.default;break;case"OSM":sourceCtor=OSM_1.default;break;case"Stamen":sourceCtor=Stamen_1.default;break;case"BingMaps":sourceCtor=BingMaps_1.default;break;case"UTFGrid":sourceCtor=UTFGrid_1.default;break;default:throw new error_1.MgError("Unknown external base layer provider: "+layer.kind)}return void 0!==layer.options?new sourceCtor((0,tslib_1.__assign)({crossOrigin:"Anonymous"},layer.options)):new sourceCtor({crossOrigin:"Anonymous"})}},45739:function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ImageIcon=exports.Icon=void 0;var tslib_1=__webpack_require__(70655),React=(0,tslib_1.__importStar)(__webpack_require__(67294)),asset_1=__webpack_require__(8608),assets_1=__webpack_require__(10358),Icon=function Icon(props){var spStyle=(0,tslib_1.__assign)({},props.style||{});return spStyle.display||(spStyle.display="inline-block"),React.createElement("div",(0,tslib_1.__assign)({style:spStyle,onClick:props.onClick},props.otherProps),props.children(props.baseSize))};exports.Icon=Icon;var ImageIcon=function ImageIcon(props){if(!props.url&&!props.spriteClass)return React.createElement("noscript",null);var url,spriteClass=props.spriteClass;if(props.url&&props.url!=assets_1.STD_CSS_SPRITE_RELPATH&&(url=(0,asset_1.getAssetPath)(props.url),spriteClass=void 0),spriteClass){var spStyle=(0,tslib_1.__assign)({},props.style||{});return spStyle.display||(spStyle.display="inline-block"),React.createElement("div",(0,tslib_1.__assign)({style:spStyle,onClick:props.onClick,className:"icon "+spriteClass},props.otherProps))}return React.createElement("img",(0,tslib_1.__assign)({className:"icon",style:props.style,src:url,onClick:props.onClick},props.otherProps,{onError:function onError(e){return e.currentTarget.src=assets_1.ICON_ERROR}}))};exports.ImageIcon=ImageIcon;try{Icon.displayName="Icon",Icon.__docgenInfo={description:"",displayName:"Icon",props:{style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"GenericEventHandler"}},otherProps:{defaultValue:null,description:"",name:"otherProps",required:!1,type:{name:"any"}},baseSize:{defaultValue:null,description:"",name:"baseSize",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/icon.tsx#Icon"]={docgenInfo:Icon.__docgenInfo,name:"Icon",path:"src/components/icon.tsx#Icon"})}catch(__react_docgen_typescript_loader_error){}try{ImageIcon.displayName="ImageIcon",ImageIcon.__docgenInfo={description:"An image icon component",displayName:"ImageIcon",props:{url:{defaultValue:null,description:"The icon path relative to the standard asset path\n@memberof IIconProps",name:"url",required:!1,type:{name:"{string}"}},spriteClass:{defaultValue:null,description:"",name:"spriteClass",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"GenericEventHandler"}},otherProps:{defaultValue:null,description:"",name:"otherProps",required:!1,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/icon.tsx#ImageIcon"]={docgenInfo:ImageIcon.__docgenInfo,name:"ImageIcon",path:"src/components/icon.tsx#ImageIcon"})}catch(__react_docgen_typescript_loader_error){}},59603:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(26699),__webpack_require__(32023),__webpack_require__(57327),__webpack_require__(68309),__webpack_require__(21249),__webpack_require__(47941),Object.defineProperty(exports,"__esModule",{value:!0}),exports.AddLayer=void 0;var AddLayerKind,CreateVectorLayerAs,tslib_1=__webpack_require__(70655),React=(0,tslib_1.__importStar)(__webpack_require__(67294)),i18n_1=__webpack_require__(196),add_wms_layer_1=__webpack_require__(97865),add_wfs_layer_1=__webpack_require__(46957),core_1=__webpack_require__(61992),string_1=__webpack_require__(53775),projections_1=__webpack_require__(36553),wfs_capabilities_panel_1=__webpack_require__(50654),runtime_1=__webpack_require__(49538),add_manage_layers_1=__webpack_require__(26487),color_brewer_1=__webpack_require__(21363),ol_style_contracts_1=__webpack_require__(42720),never_1=__webpack_require__(4898),ADD_URL_LAYER_TYPES={WMS:{label:"WMS",content:function content(props){return React.createElement(add_wms_layer_1.AddWmsLayer,(0,tslib_1.__assign)({},props))}},WFS:{label:"WFS",content:function content(props){return React.createElement(add_wfs_layer_1.AddWfsLayer,(0,tslib_1.__assign)({},props))}}};function getCreateVectorLayerOptions(geomTypes,locale){return[{value:CreateVectorLayerAs.Vector,label:(0,i18n_1.tr)("CREATE_VECTOR_LAYER",locale),isValid:function isValid(geomTypes){return!0}},{value:CreateVectorLayerAs.Themed,label:(0,i18n_1.tr)("CREATE_VECTOR_THEMED",locale),isValid:function isValid(geomTypes){return!0}},{value:CreateVectorLayerAs.Clustered,label:(0,i18n_1.tr)("CREATE_VECTOR_CLUSTERED",locale),isValid:function isValid(geomTypes){return 1==geomTypes.length&&geomTypes.includes("Point")}},{value:CreateVectorLayerAs.Heatmap,label:(0,i18n_1.tr)("CREATE_VECTOR_HEATMAP",locale),isValid:function isValid(geomTypes){return 1==geomTypes.length&&geomTypes.includes("Point")}}].filter((function(o){return o.isValid(geomTypes)}))}!function(AddLayerKind){AddLayerKind[AddLayerKind.File=0]="File",AddLayerKind[AddLayerKind.Url=1]="Url"}(AddLayerKind||(AddLayerKind={})),function(CreateVectorLayerAs){CreateVectorLayerAs.Vector="Vector",CreateVectorLayerAs.Themed="Themed",CreateVectorLayerAs.Clustered="Clustered",CreateVectorLayerAs.Heatmap="Heatmap"}(CreateVectorLayerAs||(CreateVectorLayerAs={}));var AddFileLayer=function AddFileLayer(props){var locale=props.locale,_a=React.useState(!1),isProcessingFile=_a[0],setIsProcessingFile=_a[1],_b=React.useState(!1),isAddingLayer=_b[0],setIsAddingLayer=_b[1],_c=React.useState(void 0),addLayerError=_c[0],setAddLayerError=_c[1],_d=React.useState(void 0),loadedFile=_d[0],setLoadedFile=_d[1],_e=React.useState(void 0),addLayerName=_e[0],setAddLayerName=_e[1],_f=React.useState(4326),addProjection=_f[0],setAddProjection=_f[1],_g=React.useState(getCreateVectorLayerOptions([],locale)),createOptions=_g[0],setCreateOptions=_g[1],_h=React.useState(!1),enableLabels=_h[0],setEnableLabels=_h[1],_j=React.useState(void 0),labelOnProperty=_j[0],setLabelOnProperty=_j[1],_k=React.useState(void 0),themeOnProperty=_k[0],setThemeOnProperty=_k[1],_l=React.useState([]),themableProperties=_l[0],setThemableProperties=_l[1],_m=React.useState("Blues"),themeToUse=_m[0],setThemeToUse=_m[1],_o=React.useState(CreateVectorLayerAs.Vector),createLayerAs=_o[0],setCreateLayerAs=_o[1],_p=React.useState(10),clusterDistance=_p[0],setClusterDistance=_p[1],_q=React.useState((0,color_brewer_1.getColorBrewerRamps)()),themableRamps=_q[0],_r=(_q[1],React.useState(ol_style_contracts_1.ClusterClickAction.ShowPopup)),clusterClickAction=_r[0],setClusterClickAction=_r[1],parsedFeaturesRef=React.useRef(void 0),setParsedFile=function setParsedFile(parsed){if(setEnableLabels(!1),setCreateOptions(getCreateVectorLayerOptions([],locale)),parsedFeaturesRef.current=parsed,parsed){if(setAddLayerName(parsed.name),setLoadedFile({name:parsed.name,size:parsed.size,type:parsed.type,defaultProjection:parsed.projection}),setCreateOptions(getCreateVectorLayerOptions(parsed.geometryTypes,locale)),setThemableProperties(parsed.propertyNames),parsed.propertyNames.length>0&&(setThemeOnProperty(parsed.propertyNames[0]),setLabelOnProperty(parsed.propertyNames[0])),parsed.projection){var epsg=(0,wfs_capabilities_panel_1.parseEpsgCodeFromCRS)(parsed.projection);epsg&&setAddProjection(epsg)}}else setLoadedFile(void 0),parsedFeaturesRef.current=void 0},onAddFileLayer=React.useCallback((function(layerProjection){return(0,tslib_1.__awaiter)(void 0,void 0,void 0,(function(){var viewer,_a,layerProj,layerMgr,extraOpts,labelProp,layer,e_2;return(0,tslib_1.__generator)(this,(function(_b){switch(_b.label){case 0:if(!(viewer=(0,runtime_1.getViewer)())||!(null==parsedFeaturesRef?void 0:parsedFeaturesRef.current))return[3,6];setIsAddingLayer(!0),setAddLayerError(void 0),_b.label=1;case 1:return _b.trys.push([1,4,,5]),[4,(0,projections_1.ensureProjection)(layerProjection,locale)];case 2:if(_a=_b.sent(),_a[0],layerProj=_a[1],(0,string_1.strIsNullOrEmpty)(addLayerName)||(parsedFeaturesRef.current.name=addLayerName),(layerMgr=viewer.getLayerManager()).hasLayer(parsedFeaturesRef.current.name))throw new Error((0,i18n_1.tr)("LAYER_NAME_EXISTS",locale,{name:parsedFeaturesRef.current.name}));switch(extraOpts=void 0,createLayerAs){case CreateVectorLayerAs.Clustered:extraOpts={kind:"Cluster",clusterDistance:clusterDistance,onClusterClickAction:clusterClickAction};break;case CreateVectorLayerAs.Themed:extraOpts={kind:"Theme",themeOnProperty:themeOnProperty,colorBrewerTheme:themeToUse};break;case CreateVectorLayerAs.Heatmap:extraOpts={kind:"Heatmap"}}return labelProp=void 0,enableLabels&&(labelProp=labelOnProperty),[4,layerMgr.addLayerFromParsedFeatures({features:parsedFeaturesRef.current,projection:layerProj,extraOptions:extraOpts,labelOnProperty:labelProp})];case 3:return layer=_b.sent(),(0,add_manage_layers_1.zoomToLayerExtents)(layer.name,viewer),setIsAddingLayer(!1),viewer.toastSuccess("success",(0,i18n_1.tr)("ADDED_LAYER",props.locale,{name:layer.name})),setAddLayerError(void 0),setLoadedFile(void 0),setAddLayerName(void 0),props.onLayerAdded(layer),[3,5];case 4:return e_2=_b.sent(),setAddLayerError(e_2),(0,string_1.strIsNullOrEmpty)(null==e_2?void 0:e_2.message)||viewer.toastError("error",e_2.message),[3,5];case 5:setIsAddingLayer(!1),_b.label=6;case 6:return[2]}}))}))}),[clusterDistance,createLayerAs,themeOnProperty,themeToUse,enableLabels,labelOnProperty,clusterClickAction]);if(loadedFile){var canAdd=!0;createLayerAs==CreateVectorLayerAs.Themed&&(0,string_1.strIsNullOrEmpty)(themeOnProperty)&&(canAdd=!1);var labelEl_1=React.createElement(React.Fragment,null,React.createElement(core_1.Switch,{label:(0,i18n_1.tr)("ENABLE_LABELS",locale),checked:enableLabels,onChange:function onChange(e){return setEnableLabels(e.target.checked)}}),enableLabels&&React.createElement(core_1.FormGroup,{label:(0,i18n_1.tr)("LABEL_USING_PROPERTY",locale)},React.createElement(core_1.HTMLSelect,{value:labelOnProperty,onChange:function onChange(e){return setLabelOnProperty(e.target.value)}},themableProperties.map((function(th,i){return React.createElement("option",{key:th,value:th},th)}))))),colorBrewerLabel=React.createElement("div",{dangerouslySetInnerHTML:{__html:(0,i18n_1.tr)("COLORBREWER_THEME",locale)}}),themeEl_1=React.createElement(React.Fragment,null,React.createElement(core_1.FormGroup,{label:(0,i18n_1.tr)("THEME_ON_PROPERTY",locale)},React.createElement(core_1.HTMLSelect,{value:themeOnProperty,onChange:function onChange(e){return setThemeOnProperty(e.target.value)}},themableProperties.map((function(th,i){return React.createElement("option",{key:th,value:th},th)})))),React.createElement(core_1.FormGroup,{label:colorBrewerLabel},React.createElement(core_1.HTMLSelect,{value:themeToUse,onChange:function onChange(e){return setThemeToUse(e.target.value)}},themableRamps.map((function(th,i){return React.createElement("option",{key:th.displayName,value:th.scheme},th.displayName)})))),themeToUse&&React.createElement(color_brewer_1.ColorBrewerSwatch,{theme:themeToUse})),clusterEl_1=React.createElement(React.Fragment,null,React.createElement(core_1.FormGroup,{label:(0,i18n_1.tr)("POINT_CLUSTER_DISTANCE",locale)},React.createElement(core_1.NumericInput,{min:1,value:clusterDistance,onValueChange:function onValueChange(v){return setClusterDistance(v)}})),React.createElement(core_1.FormGroup,{label:(0,i18n_1.tr)("CLUSTER_CLICK_ACTION",locale)},React.createElement(core_1.HTMLSelect,{value:clusterClickAction,onChange:function onChange(e){return setClusterClickAction(e.target.value)}},React.createElement("option",{value:ol_style_contracts_1.ClusterClickAction.ShowPopup},(0,i18n_1.tr)("CLUSTER_CLICK_ACTION_SHOW_POPUP",locale)),React.createElement("option",{value:ol_style_contracts_1.ClusterClickAction.ZoomToClusterExtents},(0,i18n_1.tr)("CLUSTER_CLICK_ACTION_ZOOM_EXTENTS",locale)))));return React.createElement(core_1.NonIdealState,{title:React.createElement(core_1.EditableText,{value:addLayerName,onChange:function onChange(v){return setAddLayerName(v)}}),icon:"upload",description:(0,i18n_1.tr)("FMT_UPLOADED_FILE",locale,{size:loadedFile.size,type:(0,string_1.strIsNullOrEmpty)(loadedFile.type)?(0,i18n_1.tr)("UNKNOWN_FILE_TYPE",locale):loadedFile.type}),action:React.createElement(React.Fragment,null,addLayerError&&React.createElement(core_1.Callout,{intent:core_1.Intent.DANGER,title:(0,i18n_1.tr)("ADDING_LAYER_ERROR",locale)},addLayerError.message),React.createElement(core_1.FormGroup,{label:(0,i18n_1.tr)("ADD_LAYER_PROJECTION",locale)},loadedFile.defaultProjection?React.createElement("strong",null,"EPSG:",addProjection):React.createElement(core_1.FormGroup,{label:React.createElement("a",{href:"https://epsg.io",target:"_blank"},"EPSG:"),inline:!0},React.createElement(core_1.NumericInput,{style:{width:60},min:0,value:addProjection,onValueChange:function onValueChange(v){return setAddProjection(v)}}))),React.createElement(core_1.FormGroup,{label:"Create Layer As"},React.createElement(core_1.HTMLSelect,{value:createLayerAs,onChange:function onChange(e){return setCreateLayerAs(e.target.value)}},createOptions.map((function(kind,i){return React.createElement("option",{key:kind.value,value:kind.value},kind.label)})))),function(){switch(createLayerAs){case CreateVectorLayerAs.Vector:return React.createElement(React.Fragment,null,labelEl_1);case CreateVectorLayerAs.Themed:return React.createElement(React.Fragment,null,labelEl_1,themeEl_1);case CreateVectorLayerAs.Clustered:return React.createElement(React.Fragment,null,labelEl_1,clusterEl_1);case CreateVectorLayerAs.Heatmap:return React.createElement(React.Fragment,null);default:(0,never_1.assertNever)(createLayerAs)}}(),React.createElement(core_1.ButtonGroup,null,React.createElement(core_1.Button,{disabled:!canAdd,loading:isAddingLayer,onClick:function onClick(e){return onAddFileLayer(addProjection)},intent:core_1.Intent.PRIMARY},(0,i18n_1.tr)("ADD_LAYER",locale)),React.createElement(core_1.Button,{loading:isAddingLayer,onClick:function onClick(e){return function onCancelAddFile(){setParsedFile(void 0)}()},intent:core_1.Intent.DANGER},(0,i18n_1.tr)("CANCEL",locale))))})}return isProcessingFile?React.createElement(core_1.NonIdealState,{icon:React.createElement(core_1.Spinner,{intent:core_1.Intent.NONE,size:core_1.SpinnerSize.LARGE}),title:(0,i18n_1.tr)("ADD_FILE_PROCESSING",locale)}):React.createElement(React.Fragment,null,addLayerError&&React.createElement(core_1.Callout,{intent:core_1.Intent.DANGER,title:(0,i18n_1.tr)("ADDING_LAYER_ERROR",locale)},addLayerError.message),React.createElement(core_1.NonIdealState,{title:(0,i18n_1.tr)("ADD_FILE",locale),icon:"upload",description:(0,i18n_1.tr)("ADD_FILE_INSTRUCTIONS",locale),action:React.createElement(core_1.FileInput,{fill:!0,text:(0,i18n_1.tr)("CHOOSE_FILE",locale),buttonText:(0,i18n_1.tr)("BROWSE",locale),onInputChange:function onInputChange(e){return e.target.files&&function onFileDropped(file){return(0,tslib_1.__awaiter)(void 0,void 0,void 0,(function(){var viewer,layerMgr,parsed,e_1;return(0,tslib_1.__generator)(this,(function(_a){switch(_a.label){case 0:if(!(viewer=(0,runtime_1.getViewer)()))return[3,5];setIsProcessingFile(!0),setAddLayerError(void 0),layerMgr=viewer.getLayerManager(),_a.label=1;case 1:return _a.trys.push([1,3,,4]),[4,layerMgr.parseFeaturesFromFile({file:file,name:file.name,locale:locale})];case 2:return parsed=_a.sent(),setParsedFile(parsed),[3,4];case 3:return e_1=_a.sent(),setAddLayerError(e_1),[3,4];case 4:setIsProcessingFile(!1),_a.label=5;case 5:return[2]}}))}))}(e.target.files[0])}})}))},AddUrlLayer=function AddUrlLayer(props){var locale=props.locale,_a=React.useState(void 0),selectedUrlType=_a[0],setSelectedUrlType=_a[1],items=Object.keys(ADD_URL_LAYER_TYPES).map((function(lt){return{value:lt,label:ADD_URL_LAYER_TYPES[lt].label}}));return React.createElement("div",null,React.createElement(core_1.Label,null,(0,i18n_1.tr)("LAYER_TYPE",locale),React.createElement(core_1.HTMLSelect,{value:selectedUrlType||"",onChange:function onUrlLayerTypeChanged(e){setSelectedUrlType(e.target.value)}},React.createElement("option",null,(0,i18n_1.tr)("SELECT_LAYER_TYPE",locale)),items.map((function(it){return React.createElement("option",{key:it.value,value:it.value},it.value)})))),function(){if(selectedUrlType&&ADD_URL_LAYER_TYPES[selectedUrlType]){var cprops={locale:locale,onLayerAdded:props.onLayerAdded,onAddLayerBusyWorker:props.onAddLayerBusyWorker,onRemoveLayerBusyWorker:props.onRemoveLayerBusyWorker};return ADD_URL_LAYER_TYPES[selectedUrlType].content(cprops)}}())},AddLayer=function AddLayer(props){var _a=React.useState(AddLayerKind.File),addLayerKind=_a[0],setAddLayerKind=_a[1];return React.createElement("div",null,React.createElement(core_1.RadioGroup,{label:(0,i18n_1.tr)("ADD_LAYER_KIND_PROMPT",props.locale),onChange:function onAddLayerKindChanged(e){setAddLayerKind(parseInt(e.target.value,10))},selectedValue:addLayerKind},React.createElement(core_1.Radio,{label:(0,i18n_1.tr)("LAYER_KIND_FILE",props.locale),value:AddLayerKind.File}),React.createElement(core_1.Radio,{label:(0,i18n_1.tr)("LAYER_KIND_URL",props.locale),value:AddLayerKind.Url})),React.createElement("hr",null),function(){switch(addLayerKind){case AddLayerKind.File:return React.createElement(AddFileLayer,(0,tslib_1.__assign)({},props));case AddLayerKind.Url:return React.createElement(AddUrlLayer,(0,tslib_1.__assign)({},props))}}())};exports.AddLayer=AddLayer;try{AddLayer.displayName="AddLayer",AddLayer.__docgenInfo={description:"",displayName:"AddLayer",props:{locale:{defaultValue:null,description:"",name:"locale",required:!0,type:{name:"string"}},onLayerAdded:{defaultValue:null,description:"",name:"onLayerAdded",required:!0,type:{name:"(layer: ILayerInfo) => void"}},onAddLayerBusyWorker:{defaultValue:null,description:"",name:"onAddLayerBusyWorker",required:!0,type:{name:"(name: string) => void"}},onRemoveLayerBusyWorker:{defaultValue:null,description:"",name:"onRemoveLayerBusyWorker",required:!0,type:{name:"(name: string) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/layer-manager/add-layer.tsx#AddLayer"]={docgenInfo:AddLayer.__docgenInfo,name:"AddLayer",path:"src/components/layer-manager/add-layer.tsx#AddLayer"})}catch(__react_docgen_typescript_loader_error){}},46957:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(68309),Object.defineProperty(exports,"__esModule",{value:!0}),exports.AddWfsLayer=void 0;var tslib_1=__webpack_require__(70655),React=(0,tslib_1.__importStar)(__webpack_require__(67294)),common_1=__webpack_require__(18036),core_1=__webpack_require__(61992),i18n_1=__webpack_require__(196),error_1=__webpack_require__(63267),client_1=__webpack_require__(61772),wfs_capabilities_parser_1=__webpack_require__(34802),wfs_capabilities_panel_1=__webpack_require__(50654),Vector_1=(0,tslib_1.__importDefault)(__webpack_require__(30933)),Vector_2=(0,tslib_1.__importDefault)(__webpack_require__(86333)),GeoJSON_1=(0,tslib_1.__importDefault)(__webpack_require__(64678)),url_1=__webpack_require__(7976),projections_1=__webpack_require__(36553),layer_manager_1=__webpack_require__(69615),runtime_1=__webpack_require__(49538),ol_style_helpers_1=__webpack_require__(68189),ol_style_contracts_1=__webpack_require__(42720),add_manage_layers_1=__webpack_require__(26487),AddWfsLayer=function AddWfsLayer(props){var locale=props.locale,_a=React.useState(""),wfsUrl=_a[0],setWfsUrl=_a[1],_b=React.useState(!1),loadingCapabilities=_b[0],setLoadingCapabilities=_b[1],_c=React.useState(void 0),caps=_c[0],setCaps=_c[1],_d=React.useState(void 0),error=_d[0],setError=_d[1],onAddLayer=function onAddLayer(name,version,format,origCrs,epsgCode,wfsWgs84Bounds){var viewer=(0,runtime_1.getViewer)();caps&&viewer&&(0,projections_1.ensureProjection)(epsgCode,locale,origCrs).then((function(_a){var resolvedProj=_a[1],sourceProj=viewer.getProjection(),parsed=(0,url_1.parseUrl)(wfsUrl),typeNameKey="typename";"2.0.0"==version&&(typeNameKey="typenames");var sourceUrl,urlTemplate=parsed.url+"?service=WFS&version="+version+"&request=GetFeature&"+typeNameKey+"="+encodeURIComponent(name)+"&outputFormat="+encodeURIComponent(format)+"&srsName="+encodeURIComponent(origCrs),vectorFmt=new GeoJSON_1.default({dataProjection:resolvedProj,featureProjection:sourceProj});sourceUrl=urlTemplate;var source=new Vector_1.default({format:vectorFmt,url:sourceUrl,strategy:undefined}),layer=new Vector_2.default({source:source,className:"external-vector-layer"});layer.set(common_1.LayerProperty.LAYER_TYPE,"WFS"),layer.set(common_1.LayerProperty.IS_EXTERNAL,!0),layer.set(common_1.LayerProperty.IS_SELECTABLE,!0),layer.set(common_1.LayerProperty.IS_GROUP,!1),wfsWgs84Bounds&&layer.set(common_1.LayerProperty.WGS84_BBOX,wfsWgs84Bounds),(0,ol_style_helpers_1.setOLVectorLayerStyle)(layer,ol_style_contracts_1.DEFAULT_VECTOR_LAYER_STYLE,void 0),viewer.getLayerManager().addLayer(name,layer),viewer.toastSuccess("success",(0,i18n_1.tr)("ADDED_LAYER",locale,{name:name}));var li=(0,layer_manager_1.getLayerInfo)(layer,!0);(0,add_manage_layers_1.zoomToLayerExtents)(li.name,viewer),props.onLayerAdded(li)}))};return React.createElement("div",null,React.createElement(core_1.ControlGroup,{fill:!0},React.createElement(core_1.InputGroup,{leftIcon:"geosearch",placeholder:(0,i18n_1.tr)("ADD_WFS_LAYER_URL",locale),value:wfsUrl,onChange:function onWmsUrlChange(e){setWfsUrl(e.target.value)},readOnly:loadingCapabilities,rightElement:React.createElement(core_1.Button,{intent:core_1.Intent.PRIMARY,icon:"arrow-right",onClick:function onLoadCaps(){setCaps(void 0),setLoadingCapabilities(!0),new client_1.Client("","mapagent").getText(wfsUrl).then((function(s){var caps=(new wfs_capabilities_parser_1.WfsCapabilitiesParser).parse(s);setLoadingCapabilities(!1),setCaps(caps),setError(void 0)})).catch((function(err){setLoadingCapabilities(!1),setCaps(void 0),setError(err)}))},disabled:loadingCapabilities})})),React.createElement("br",null),React.createElement("div",null,loadingCapabilities?React.createElement(core_1.NonIdealState,{icon:React.createElement(core_1.Spinner,{intent:core_1.Intent.NONE,size:core_1.Spinner.SIZE_LARGE}),title:(0,i18n_1.tr)("ADD_WFS_LAYER_LOADING",locale),description:(0,i18n_1.tr)("ADD_WFS_LAYER_LOADING_DESC",locale)}):caps?React.createElement(wfs_capabilities_panel_1.WfsCapabilitiesPanel,{onAddLayer:onAddLayer,capabilities:caps,locale:locale}):error?React.createElement(error_1.Error,{error:error}):React.createElement(core_1.NonIdealState,{icon:"issue",title:(0,i18n_1.tr)("ADD_WFS_LAYER_NO_LAYERS",locale),description:(0,i18n_1.tr)("WFS_NO_LAYER_DESCRIPTION",locale)})))};exports.AddWfsLayer=AddWfsLayer;try{AddWfsLayer.displayName="AddWfsLayer",AddWfsLayer.__docgenInfo={description:"",displayName:"AddWfsLayer",props:{locale:{defaultValue:null,description:"",name:"locale",required:!0,type:{name:"string"}},onLayerAdded:{defaultValue:null,description:"",name:"onLayerAdded",required:!0,type:{name:"(layer: ILayerInfo) => void"}},onAddLayerBusyWorker:{defaultValue:null,description:"",name:"onAddLayerBusyWorker",required:!0,type:{name:"(name: string) => void"}},onRemoveLayerBusyWorker:{defaultValue:null,description:"",name:"onRemoveLayerBusyWorker",required:!0,type:{name:"(name: string) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/layer-manager/add-wfs-layer.tsx#AddWfsLayer"]={docgenInfo:AddWfsLayer.__docgenInfo,name:"AddWfsLayer",path:"src/components/layer-manager/add-wfs-layer.tsx#AddWfsLayer"})}catch(__react_docgen_typescript_loader_error){}},97865:function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AddWmsLayer=void 0;var tslib_1=__webpack_require__(70655),React=(0,tslib_1.__importStar)(__webpack_require__(67294)),common_1=__webpack_require__(18036),i18n_1=__webpack_require__(196),error_1=__webpack_require__(63267),client_1=__webpack_require__(61772),wms_capabilities_panel_1=__webpack_require__(53584),WMSCapabilities_1=(0,tslib_1.__importDefault)(__webpack_require__(8930)),Tile_1=(0,tslib_1.__importDefault)(__webpack_require__(92479)),Image_1=(0,tslib_1.__importDefault)(__webpack_require__(20228)),ImageWMS_1=(0,tslib_1.__importDefault)(__webpack_require__(42225)),TileWMS_1=(0,tslib_1.__importDefault)(__webpack_require__(14409)),core_1=__webpack_require__(61992),string_1=__webpack_require__(53775),layer_manager_1=__webpack_require__(69615),runtime_1=__webpack_require__(49538),AddWmsLayer=function AddWmsLayer(props){var locale=props.locale,_a=React.useState(""),wmsUrl=_a[0],setWmsUrl=_a[1],_b=React.useState(!1),loadingCapabilities=_b[0],setLoadingCapabilities=_b[1],_c=React.useState(void 0),caps=_c[0],setCaps=_c[1],_d=React.useState(void 0),error=_d[0],setError=_d[1],onAddLayer=function onAddLayer(name,selectable,isTiled,style){var _a,_b,viewer=(0,runtime_1.getViewer)();if(caps&&viewer){var params={LAYERS:name};style&&(params.STYLE=style.Name),isTiled&&(params.TILED=!0);var layer=void 0,source=void 0;if(isTiled?(source=new TileWMS_1.default({url:caps.Capability.Request.GetMap.DCPType[0].HTTP.Get.OnlineResource,params:params}),layer=new Tile_1.default({source:source})):(source=new ImageWMS_1.default({url:caps.Capability.Request.GetMap.DCPType[0].HTTP.Get.OnlineResource,params:params}),layer=new Image_1.default({source:source})),layer.set(common_1.LayerProperty.LAYER_TYPE,"WMS"),layer.set(common_1.LayerProperty.IS_SELECTABLE,selectable),layer.set(common_1.LayerProperty.IS_EXTERNAL,!0),layer.set(common_1.LayerProperty.IS_GROUP,!1),style){var legendUrl=null===(_b=null===(_a=style.LegendURL)||void 0===_a?void 0:_a[0])||void 0===_b?void 0:_b.OnlineResource;(0,string_1.strIsNullOrEmpty)(legendUrl)||layer.set(common_1.LayerProperty.HAS_WMS_LEGEND,!0)}source.set(common_1.SourceProperty.SUPPRESS_LOAD_EVENTS,!0);var started=function started(){viewer.addImageLoading(),props.onAddLayerBusyWorker(name)},finished=function finished(){viewer.addImageLoaded(),props.onRemoveLayerBusyWorker(name)};source instanceof TileWMS_1.default?(source.on("tileloadstart",started),source.on("tileloadend",finished),source.on("tileloaderror",finished)):source instanceof ImageWMS_1.default&&(source.on("imageloadstart",started),source.on("imageloadend",finished),source.on("imageloaderror",finished)),viewer.getLayerManager().addLayer(name,layer),viewer.toastSuccess("success",(0,i18n_1.tr)("ADDED_LAYER",locale,{name:name})),props.onLayerAdded((0,layer_manager_1.getLayerInfo)(layer,!0))}};return React.createElement("div",null,React.createElement(core_1.ControlGroup,{fill:!0},React.createElement(core_1.InputGroup,{leftIcon:"geosearch",placeholder:(0,i18n_1.tr)("ADD_WMS_LAYER_URL",locale),value:wmsUrl,onChange:function onWmsUrlChange(e){setWmsUrl(e.target.value)},readOnly:loadingCapabilities,rightElement:React.createElement(core_1.Button,{intent:core_1.Intent.PRIMARY,icon:"arrow-right",onClick:function onLoadCaps(){setCaps(void 0),setLoadingCapabilities(!0),new client_1.Client("","mapagent").getText(wmsUrl).then((function(s){var caps=(new WMSCapabilities_1.default).read(s);"1.3.0"!=caps.version?(setLoadingCapabilities(!1),setCaps(void 0),setError((0,i18n_1.tr)("WMS_UNSUPPORTED_VERSION",locale,{version:caps.version}))):(setLoadingCapabilities(!1),setCaps(caps),setError(void 0))})).catch((function(err){setLoadingCapabilities(!1),setCaps(void 0),setError(err)}))},disabled:loadingCapabilities})})),React.createElement("br",null),React.createElement("div",null,loadingCapabilities?React.createElement(core_1.NonIdealState,{icon:React.createElement(core_1.Spinner,{intent:core_1.Intent.NONE,size:core_1.Spinner.SIZE_LARGE}),title:(0,i18n_1.tr)("ADD_WMS_LAYER_LOADING",locale),description:(0,i18n_1.tr)("ADD_WMS_LAYER_LOADING_DESC",locale)}):caps?React.createElement(wms_capabilities_panel_1.WmsCapabilitiesPanel,{onAddLayer:onAddLayer,capabilities:caps,locale:locale}):error?React.createElement(error_1.Error,{error:error}):React.createElement(core_1.NonIdealState,{icon:"issue",title:(0,i18n_1.tr)("ADD_WMS_LAYER_NO_LAYERS",locale),description:(0,i18n_1.tr)("WMS_NO_LAYER_DESCRIPTION",locale)})))};exports.AddWmsLayer=AddWmsLayer;try{AddWmsLayer.displayName="AddWmsLayer",AddWmsLayer.__docgenInfo={description:"",displayName:"AddWmsLayer",props:{locale:{defaultValue:null,description:"",name:"locale",required:!0,type:{name:"string"}},onLayerAdded:{defaultValue:null,description:"",name:"onLayerAdded",required:!0,type:{name:"(layer: ILayerInfo) => void"}},onAddLayerBusyWorker:{defaultValue:null,description:"",name:"onAddLayerBusyWorker",required:!0,type:{name:"(name: string) => void"}},onRemoveLayerBusyWorker:{defaultValue:null,description:"",name:"onRemoveLayerBusyWorker",required:!0,type:{name:"(name: string) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/layer-manager/add-wms-layer.tsx#AddWmsLayer"]={docgenInfo:AddWmsLayer.__docgenInfo,name:"AddWmsLayer",path:"src/components/layer-manager/add-wms-layer.tsx#AddWmsLayer"})}catch(__react_docgen_typescript_loader_error){}},21363:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(21249),Object.defineProperty(exports,"__esModule",{value:!0}),exports.ColorBrewerSwatch=exports.getMaxRamp=exports.getColorBrewerRamps=void 0;var tslib_1=__webpack_require__(70655),React=(0,tslib_1.__importStar)(__webpack_require__(67294)),colorbrewer_1=(0,tslib_1.__importDefault)(__webpack_require__(79020));function getMaxRamp(scheme){var theScheme,len=0;for(var s in scheme){var arr=scheme[s];arr.length>len&&(theScheme=arr,len=arr.length)}return theScheme}exports.getColorBrewerRamps=function getColorBrewerRamps(){var ramps=[];for(var cat in colorbrewer_1.default.schemeGroups)for(var _i=0,_a=colorbrewer_1.default.schemeGroups[cat];_i<_a.length;_i++){var scheme=_a[_i];ramps.push({displayName:cat+" - "+scheme,category:cat,scheme:scheme,ramp:getMaxRamp(scheme)})}return ramps},exports.getMaxRamp=getMaxRamp;var ColorBrewerSwatch=function ColorBrewerSwatch(props){var ramp=getMaxRamp(colorbrewer_1.default[props.theme]);return ramp?React.createElement("table",null,React.createElement("colgroup",null,ramp.map((function(r,i){return React.createElement("col",{key:"ramp-col-"+i,span:1,style:{width:12}})}))),React.createElement("tbody",null,React.createElement("tr",null,ramp.map((function(r,i){return React.createElement("td",{key:"ramp-"+i,style:{border:"1px solid black",backgroundColor:r}}," ")}))))):React.createElement(React.Fragment,null)};exports.ColorBrewerSwatch=ColorBrewerSwatch;try{getMaxRamp.displayName="getMaxRamp",getMaxRamp.__docgenInfo={description:"",displayName:"getMaxRamp",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/layer-manager/color-brewer.tsx#getMaxRamp"]={docgenInfo:getMaxRamp.__docgenInfo,name:"getMaxRamp",path:"src/components/layer-manager/color-brewer.tsx#getMaxRamp"})}catch(__react_docgen_typescript_loader_error){}try{ColorBrewerSwatch.displayName="ColorBrewerSwatch",ColorBrewerSwatch.__docgenInfo={description:"",displayName:"ColorBrewerSwatch",props:{theme:{defaultValue:null,description:"",name:"theme",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/layer-manager/color-brewer.tsx#ColorBrewerSwatch"]={docgenInfo:ColorBrewerSwatch.__docgenInfo,name:"ColorBrewerSwatch",path:"src/components/layer-manager/color-brewer.tsx#ColorBrewerSwatch"})}catch(__react_docgen_typescript_loader_error){}},59383:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(74916),Object.defineProperty(exports,"__esModule",{value:!0}),exports.ColorExprEditor=exports.BooleanExprEditor=exports.StringExprEditor=exports.SliderExprEditor=exports.NumberExprEditor=exports.contrast=void 0;var tslib_1=__webpack_require__(70655),core_1=__webpack_require__(61992),React=(0,tslib_1.__importStar)(__webpack_require__(67294)),i18n_1=__webpack_require__(196),ol_style_contracts_1=__webpack_require__(42720),string_1=__webpack_require__(53775),color_picker_1=__webpack_require__(76929);function contrast(colorHex,threshold){if(void 0===threshold&&(threshold=128),void 0===colorHex)return"#000";var rgb=function hexToRgb(hex){if(hex&&void 0!==hex&&""!==hex){var result=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);return result?{r:parseInt(result[1],16),g:parseInt(result[2],16),b:parseInt(result[3],16)}:void 0}}(colorHex);return void 0===rgb||function rgbToYIQ(_a){return(299*_a.r+587*_a.g+114*_a.b)/1e3}(rgb)>=threshold?"#000":"#fff"}function stringifyExpr(expr,locale){return expr?(0,ol_style_contracts_1.isEvaluatable)(expr)?"Expr: "+expr.expr:""+(null!=expr?expr:string_1.STR_EMPTY):(0,i18n_1.tr)("EXPR_NOT_SET",locale)}function isStrTrue(s){switch(null==s?void 0:s.toLowerCase()){case"true":case"1":return!0;case"false":case"0":return!1}return!1}function stringifyExprIf(expr,mode){switch(mode){case"edit-expr":return(0,ol_style_contracts_1.isEvaluatable)(expr)?expr.expr:string_1.STR_EMPTY;case"edit-value":return(0,ol_style_contracts_1.isEvaluatable)(expr)?string_1.STR_EMPTY:""+(null!=expr?expr:string_1.STR_EMPTY)}}function ExprEditorInner(props){var renderValueEditor=props.renderValueEditor,locale=props.locale,roStyle=props.roStyle,_a=function useExprEditor(props){var value=props.value,onChange=props.onChange,_a=React.useState((0,ol_style_contracts_1.isEvaluatable)(value)?"edit-expr":"edit-value"),editMode=_a[0],setEditMode=_a[1],_b=React.useState(value),localValue=_b[0],setLocalValue=_b[1],_c=React.useState(!1),isEditing=_c[0],setIsEditing=_c[1],_d=React.useState(!1),isEditValid=_d[0],setIsEditValid=_d[1];React.useEffect((function(){setLocalValue(value)}),[value]);var onCancelEditing=React.useCallback((function(){setLocalValue(value),setIsEditing(!1)}),[value]);return{editMode:editMode,localValue:localValue,isEditValid:isEditValid,isEditing:isEditing,setIsEditing:setIsEditing,setEditMode:setEditMode,setLocalValue:setLocalValue,onApplyValue:function onApplyValue(){onChange(localValue),setIsEditing(!1)},onCancelEditing:onCancelEditing,onUpdateLocalValue:function onUpdateLocalValue(val){try{setLocalValue(val),setIsEditValid(!0)}catch(e){setIsEditValid(!1)}}}}(props),isEditValid=_a.isEditValid,isEditing=_a.isEditing,localValue=_a.localValue,setIsEditing=_a.setIsEditing,editMode=_a.editMode,setEditMode=_a.setEditMode,onApplyValue=_a.onApplyValue,onCancelEditing=_a.onCancelEditing,onUpdateLocalValue=_a.onUpdateLocalValue,editButton=React.createElement(core_1.Button,{icon:"edit",minimal:!0,intent:core_1.Intent.PRIMARY,style:{color:"white",backgroundColor:"#137cbd"},onClick:function onClick(e){return function onEditClick(){isEditing?onCancelEditing():setIsEditing(!0)}()}});return React.createElement(React.Fragment,null,React.createElement(core_1.InputGroup,{style:roStyle,readOnly:!0,value:stringifyExpr(props.value,locale),rightElement:editButton}),React.createElement(core_1.Collapse,{isOpen:isEditing,keepChildrenMounted:!1},React.createElement(core_1.Card,null,React.createElement("h5",{className:"bp3-heading"},"Edit Value"),React.createElement(core_1.Radio,{name:"edit-mode",label:"Value",value:"edit-value",checked:"edit-value"==editMode,onChange:function onChange(e){return setEditMode(e.target.value)}}),renderValueEditor(localValue,onUpdateLocalValue,locale,"edit-value"!=editMode),React.createElement("br",null),React.createElement(core_1.Radio,{name:"edit-mode",label:"Expression",value:"edit-expr",checked:"edit-expr"==editMode,onChange:function onChange(e){return setEditMode(e.target.value)}}),React.createElement("input",{disabled:"edit-expr"!=editMode,type:"text",className:"bp3-input",value:stringifyExprIf(localValue,"edit-expr"),onChange:function onChange(e){return onUpdateLocalValue({expr:e.target.value})}}),React.createElement("br",null),React.createElement("br",null),React.createElement(core_1.ButtonGroup,null,React.createElement(core_1.Button,{disabled:!isEditValid,intent:core_1.Intent.SUCCESS,onClick:function onClick(e){return onApplyValue()}},"Apply"),React.createElement(core_1.Button,{intent:core_1.Intent.DANGER,onClick:function onClick(e){return onCancelEditing()}},"Cancel")))))}exports.contrast=contrast;var NumberExprEditor=function NumberExprEditor(props){var min=props.min,max=props.max;return React.createElement(ExprEditorInner,{locale:props.locale,value:props.value,onChange:props.onChange,renderValueEditor:function renderValueEditor(v,oc,loc,disabled){return React.createElement(core_1.NumericInput,{disabled:disabled,min:min,max:max,value:parseInt(stringifyExprIf(v,"edit-value"),10),onValueChange:function onValueChange(e){return oc(e)}})}})};exports.NumberExprEditor=NumberExprEditor;var SliderExprEditor=function SliderExprEditor(props){var min=props.min,max=props.max,labelStepSize=props.labelStepSize;return React.createElement(ExprEditorInner,{locale:props.locale,value:props.value,onChange:props.onChange,renderValueEditor:function renderValueEditor(v,oc,loc,disabled){return React.createElement(core_1.Slider,{disabled:disabled,min:min,max:max,labelStepSize:labelStepSize,value:parseInt(stringifyExprIf(v,"edit-value"),10),onChange:function onChange(e){return oc(e)}})}})};exports.SliderExprEditor=SliderExprEditor;var StringExprEditor=function StringExprEditor(props){return React.createElement(ExprEditorInner,{locale:props.locale,value:props.value,onChange:props.onChange,renderValueEditor:function renderValueEditor(v,oc,loc,disabled){return React.createElement("input",{disabled:disabled,type:"text",className:"bp3-input",value:stringifyExprIf(v,"edit-value"),onChange:function onChange(e){return oc(e.target.value)}})}})};exports.StringExprEditor=StringExprEditor;var BooleanExprEditor=function BooleanExprEditor(props){return React.createElement(ExprEditorInner,{locale:props.locale,value:props.value,onChange:props.onChange,renderValueEditor:function renderValueEditor(v,oc,loc,disabled){return React.createElement(core_1.Switch,{disabled:disabled,checked:isStrTrue(stringifyExprIf(v,"edit-value")),onChange:function onChange(e){return oc(e.target.checked)}})}})};exports.BooleanExprEditor=BooleanExprEditor;var ColorExprEditor=function ColorExprEditor(props){var roStyle,value=props.value;return(0,ol_style_contracts_1.isEvaluatable)(value)||(0,string_1.strIsNullOrEmpty)(value)||(roStyle={backgroundColor:value,color:contrast(value)}),React.createElement(ExprEditorInner,{roStyle:roStyle,locale:props.locale,value:value,onChange:props.onChange,renderValueEditor:function renderValueEditor(v,oc,loc,disabled){return React.createElement(color_picker_1.ColorPicker,{locale:loc,value:stringifyExprIf(v,"edit-value"),onChange:function onChange(e){return oc(e)}})}})};exports.ColorExprEditor=ColorExprEditor;try{NumberExprEditor.displayName="NumberExprEditor",NumberExprEditor.__docgenInfo={description:"",displayName:"NumberExprEditor",props:{locale:{defaultValue:null,description:"",name:"locale",required:!0,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"ExprOr<number>"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: ExprOr<number> | undefined) => void"}},min:{defaultValue:null,description:"",name:"min",required:!1,type:{name:"number"}},max:{defaultValue:null,description:"",name:"max",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/layer-manager/common.tsx#NumberExprEditor"]={docgenInfo:NumberExprEditor.__docgenInfo,name:"NumberExprEditor",path:"src/components/layer-manager/common.tsx#NumberExprEditor"})}catch(__react_docgen_typescript_loader_error){}try{SliderExprEditor.displayName="SliderExprEditor",SliderExprEditor.__docgenInfo={description:"",displayName:"SliderExprEditor",props:{locale:{defaultValue:null,description:"",name:"locale",required:!0,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"ExprOr<number>"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: ExprOr<number> | undefined) => void"}},min:{defaultValue:null,description:"",name:"min",required:!1,type:{name:"number"}},max:{defaultValue:null,description:"",name:"max",required:!1,type:{name:"number"}},labelStepSize:{defaultValue:null,description:"",name:"labelStepSize",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/layer-manager/common.tsx#SliderExprEditor"]={docgenInfo:SliderExprEditor.__docgenInfo,name:"SliderExprEditor",path:"src/components/layer-manager/common.tsx#SliderExprEditor"})}catch(__react_docgen_typescript_loader_error){}try{StringExprEditor.displayName="StringExprEditor",StringExprEditor.__docgenInfo={description:"",displayName:"StringExprEditor",props:{locale:{defaultValue:null,description:"",name:"locale",required:!0,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"ExprOr<string>"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: ExprOr<string> | undefined) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/layer-manager/common.tsx#StringExprEditor"]={docgenInfo:StringExprEditor.__docgenInfo,name:"StringExprEditor",path:"src/components/layer-manager/common.tsx#StringExprEditor"})}catch(__react_docgen_typescript_loader_error){}try{BooleanExprEditor.displayName="BooleanExprEditor",BooleanExprEditor.__docgenInfo={description:"",displayName:"BooleanExprEditor",props:{locale:{defaultValue:null,description:"",name:"locale",required:!0,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"ExprOr<boolean>"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: ExprOr<boolean> | undefined) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/layer-manager/common.tsx#BooleanExprEditor"]={docgenInfo:BooleanExprEditor.__docgenInfo,name:"BooleanExprEditor",path:"src/components/layer-manager/common.tsx#BooleanExprEditor"})}catch(__react_docgen_typescript_loader_error){}try{ColorExprEditor.displayName="ColorExprEditor",ColorExprEditor.__docgenInfo={description:"",displayName:"ColorExprEditor",props:{locale:{defaultValue:null,description:"",name:"locale",required:!0,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"ExprOr<string>"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: ExprOr<string> | undefined) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/layer-manager/common.tsx#ColorExprEditor"]={docgenInfo:ColorExprEditor.__docgenInfo,name:"ColorExprEditor",path:"src/components/layer-manager/common.tsx#ColorExprEditor"})}catch(__react_docgen_typescript_loader_error){}},2482:function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getLegendImage=void 0;var tslib_1=__webpack_require__(70655),has_1=__webpack_require__(40177),render_1=__webpack_require__(29839),Feature_1=(0,tslib_1.__importDefault)(__webpack_require__(81090)),Point_1=(0,tslib_1.__importDefault)(__webpack_require__(60188)),LineString_1=(0,tslib_1.__importDefault)(__webpack_require__(92083)),Polygon_1=(0,tslib_1.__importDefault)(__webpack_require__(2033)),extent_1=__webpack_require__(28641),DEFAULT_SIZE=[16,16];exports.getLegendImage=function getLegendImage(item,canvas,row){var _a;void 0===canvas&&(canvas=void 0),void 0===row&&(row=0),void 0===(item=item||{}).margin&&(item.margin=10);var size=item.size||DEFAULT_SIZE;item.onload=item.onload||function(){setTimeout((function(){getLegendImage(item,canvas,row)}),100)};var width=size[0]+2*item.margin,height=item.lineHeight||size[1]+2*item.margin,ratio=has_1.DEVICE_PIXEL_RATIO;canvas||(row=0,(canvas=document.createElement("canvas")).width=width*ratio,canvas.height=height*ratio);var ctx=canvas.getContext("2d");if(ctx){ctx.save();var vectorContext=(0,render_1.toContext)(ctx,{pixelRatio:ratio}),typeGeom=item.typeGeom,style=void 0,feature=item.feature;!feature&&typeGeom&&(feature=/Point/.test(typeGeom)?new Feature_1.default(new Point_1.default([0,0])):/LineString/.test(typeGeom)?new Feature_1.default(new LineString_1.default([0,0])):new Feature_1.default(new Polygon_1.default([[[0,0]]])),item.properties&&feature.setProperties(item.properties)),feature?("function"==typeof(style=feature.getStyle())&&(style=style(feature)),style||(style="function"==typeof item.style?item.style(feature):item.style||[]),typeGeom=null===(_a=feature.getGeometry())||void 0===_a?void 0:_a.getType()):style=[],style instanceof Array||(style=[style]);var styles=style,cx=width/2,cy=height/2,sx=size[0]/2,sy=size[1]/2,i=void 0,s=void 0;if("Point"===typeGeom){for(var extent=null,i_1=0;s=styles[i_1];i_1++){var img=s.getImage();if(img){var imgElt=img.getImage(devicePixelRatio);if(imgElt&&imgElt.complete&&!imgElt.naturalWidth&&("function"==typeof item.onload&&imgElt.addEventListener("load",(function(){setTimeout((function(){var _a;null===(_a=item.onload)||void 0===_a||_a.call(item)}),100)})),img.load()),img.getAnchor){var anchor=img.getAnchor();if(anchor){var si=img.getSize(),dx=anchor[0]-si[0],dy=anchor[1]-si[1];extent?(0,extent_1.extend)(extent,[dx,dy,dx+si[0],dy+si[1]]):extent=[dx,dy,dx+si[0],dy+si[1]]}}}}extent&&(cx+=(extent[2]+extent[0])/2,cy+=(extent[3]+extent[1])/2)}for(cy+=row*height||0,i=0;s=style[i];i++)switch(vectorContext.setStyle(s),typeGeom){case Point_1.default:case"Point":case"MultiPoint":vectorContext.drawGeometry(new Point_1.default([cx,cy]));break;case LineString_1.default:case"LineString":case"MultiLineString":ctx.save(),ctx.rect(item.margin*ratio,0,size[0]*ratio,canvas.height),ctx.clip(),vectorContext.drawGeometry(new LineString_1.default([[cx-sx,cy],[cx+sx,cy]])),ctx.restore();break;case Polygon_1.default:case"Polygon":case"MultiPolygon":vectorContext.drawGeometry(new Polygon_1.default([[[cx-sx,cy-sy],[cx+sx,cy-sy],[cx+sx,cy+sy],[cx-sx,cy+sy],[cx-sx,cy-sy]]]))}ctx.restore()}return canvas}},43681:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(68309),__webpack_require__(21249),Object.defineProperty(exports,"__esModule",{value:!0}),exports.ManageLayers=void 0;var OpenPanel,React=(0,__webpack_require__(70655).__importStar)(__webpack_require__(67294)),i18n_1=__webpack_require__(196),core_1=__webpack_require__(61992),string_1=__webpack_require__(53775),ol_style_contracts_1=__webpack_require__(42720),vector_style_editor_1=__webpack_require__(43745);!function(OpenPanel){OpenPanel[OpenPanel.None=0]="None",OpenPanel[OpenPanel.MoreLayerOptions=1]="MoreLayerOptions",OpenPanel[OpenPanel.EditVectorStyle=2]="EditVectorStyle",OpenPanel[OpenPanel.WmsLegend=3]="WmsLegend"}(OpenPanel||(OpenPanel={}));var HEATMAP_SLIDER_RAMP=[0,10,20,30,40,50],LAYER_SWITCH_STYLE={whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},ManageLayerItem=function ManageLayerItem(props){var _a,_b,_c,_d,layer=props.layer,locale=props.locale,canMoveUp=props.canMoveUp,canMoveDown=props.canMoveDown,currentResolution=props.currentResolution,onSetOpacity=props.onSetOpacity,onSetHeatmapBlur=props.onSetHeatmapBlur,onSetHeatmapRadius=props.onSetHeatmapRadius,onRemoveLayer=props.onRemoveLayer,onMoveLayerUp=props.onMoveLayerUp,onMoveLayerDown=props.onMoveLayerDown,onZoomToBounds=props.onZoomToBounds,onSetVisibility=props.onSetVisibility,onVectorStyleChanged=props.onVectorStyleChanged,_e=React.useState(void 0),wmsLegendUrl=_e[0],setWmsLegendUrl=_e[1],_f=React.useState(OpenPanel.None),openPanel=_f[0],setOpenPanel=_f[1],toggleOpenPanel=function toggleOpenPanel(panel){var p=OpenPanel.None;switch(panel){case OpenPanel.EditVectorStyle:case OpenPanel.MoreLayerOptions:case OpenPanel.WmsLegend:p=panel==openPanel?OpenPanel.None:panel}setOpenPanel(p)};if(layer.busyWorkerCount>0)return React.createElement(core_1.Card,null,React.createElement(core_1.Spinner,{size:30}),React.createElement("p",{style:{textAlign:"center",marginTop:5}},(0,i18n_1.tr)("LOADING_LAYER",locale,{name:layer.name})));var canZoom=function isBoundsZoomable(layer){var _a;return!0!==(null===(_a=layer.metadata)||void 0===_a?void 0:_a.geojson_as_vt)&&"WMS"!=layer.type}(layer),iconName="layer";"WMS"==layer.type&&(iconName="media");var extraActions=[],extensions=layer.extensions,isWms=!1;if(extensions)switch(extensions.type){case"WMS":isWms=!0,extensions.getLegendUrl&&extraActions.push(React.createElement(core_1.Button,{key:"toggle-wms-legend",intent:core_1.Intent.SUCCESS,icon:"info-sign",onClick:function onClick(){return function onToggleWmsLegend(action){if(wmsLegendUrl)setWmsLegendUrl(void 0),setOpenPanel(OpenPanel.None);else{var url=action(currentResolution);setWmsLegendUrl(url),setOpenPanel(OpenPanel.WmsLegend)}}(extensions.getLegendUrl)}}))}layer.vectorStyle&&"KML"!=layer.type&&null==layer.heatmap&&extraActions.push(React.createElement(core_1.Button,{key:"edit-vector-style",title:(0,i18n_1.tr)("LAYER_MANAGER_TT_EDIT_STYLE",locale),intent:core_1.Intent.PRIMARY,icon:"edit",onClick:function onClick(){return toggleOpenPanel(OpenPanel.EditVectorStyle)}})),extraActions.push(React.createElement(core_1.Button,{key:"more-layer-options",title:(0,i18n_1.tr)("LAYER_MANAGER_TT_MORE_OPTIONS",locale),intent:core_1.Intent.PRIMARY,icon:"cog",onClick:function onClick(){return toggleOpenPanel(OpenPanel.MoreLayerOptions)}}));var which,isWmsLegendOpen=!(0,string_1.strIsNullOrEmpty)(wmsLegendUrl),layerLabel=null!==(_a=layer.displayName)&&void 0!==_a?_a:layer.name,theVectorStyle=null!==(_c=null===(_b=layer.cluster)||void 0===_b?void 0:_b.style)&&void 0!==_c?_c:layer.vectorStyle;theVectorStyle==layer.vectorStyle?which=ol_style_contracts_1.VectorStyleSource.Base:theVectorStyle==(null===(_d=layer.cluster)||void 0===_d?void 0:_d.style)&&(which=ol_style_contracts_1.VectorStyleSource.Cluster);var enableLine=!1,enablePoint=!1,enablePolygon=!1;for(var k in theVectorStyle)theVectorStyle[k].point&&(enablePoint=!0),theVectorStyle[k].line&&(enableLine=!0),theVectorStyle[k].polygon&&(enablePolygon=!0);return React.createElement(core_1.Card,{key:layer.name},React.createElement(core_1.Switch,{style:LAYER_SWITCH_STYLE,checked:layer.visible,onChange:function onChange(){return onSetVisibility(layer.name,!layer.visible)},labelElement:React.createElement("span",{title:layerLabel},React.createElement(core_1.Icon,{icon:iconName})," ",layerLabel)}),React.createElement(core_1.ButtonGroup,null,React.createElement(core_1.Button,{disabled:!canMoveUp,title:(0,i18n_1.tr)("LAYER_MANAGER_TT_MOVE_UP",locale),intent:core_1.Intent.PRIMARY,icon:"caret-up",onClick:function onClick(){return onMoveLayerUp(layer.name)}}),React.createElement(core_1.Button,{disabled:!canMoveDown,title:(0,i18n_1.tr)("LAYER_MANAGER_TT_MOVE_DOWN",locale),intent:core_1.Intent.PRIMARY,icon:"caret-down",onClick:function onClick(){return onMoveLayerDown(layer.name)}}),React.createElement(core_1.Button,{disabled:!canZoom,title:(0,i18n_1.tr)("LAYER_MANAGER_TT_ZOOM_EXTENTS",locale),intent:core_1.Intent.SUCCESS,icon:"zoom-to-fit",onClick:function onClick(){return onZoomToBounds(layer.name)}}),React.createElement(core_1.Button,{title:(0,i18n_1.tr)("LAYER_MANAGER_TT_REMOVE",locale),intent:core_1.Intent.DANGER,icon:"trash",onClick:function onClick(){return onRemoveLayer(layer.name)}}),extraActions),React.createElement(core_1.Collapse,{isOpen:openPanel==OpenPanel.MoreLayerOptions},React.createElement(core_1.Card,null,React.createElement("h5",{className:"bp3-heading"},React.createElement("a",{href:"#"},(0,i18n_1.tr)("MORE_LAYER_OPTIONS",locale))),React.createElement(core_1.FormGroup,{label:(0,i18n_1.tr)("LAYER_OPACITY",locale)},React.createElement(core_1.Slider,{min:0,max:1,stepSize:.01,value:layer.opacity,onChange:function onChange(e){return onSetOpacity(layer.name,e)}})),layer.heatmap&&React.createElement(React.Fragment,null,React.createElement(core_1.FormGroup,{label:(0,i18n_1.tr)("LAYER_HEATMAP_BLUR",locale)},React.createElement(core_1.Slider,{min:1,max:50,stepSize:1,labelValues:HEATMAP_SLIDER_RAMP,value:layer.heatmap.blur,onChange:function onChange(e){return onSetHeatmapBlur(layer.name,e)}})),React.createElement(core_1.FormGroup,{label:(0,i18n_1.tr)("LAYER_HEATMAP_RADIUS",locale)},React.createElement(core_1.Slider,{min:1,max:50,stepSize:1,labelValues:HEATMAP_SLIDER_RAMP,value:layer.heatmap.radius,onChange:function onChange(e){return onSetHeatmapRadius(layer.name,e)}}))))),isWms&&React.createElement(core_1.Collapse,{isOpen:isWmsLegendOpen},React.createElement(core_1.Card,null,React.createElement("h5",{className:"bp3-heading"},React.createElement("a",{href:"#"},(0,i18n_1.tr)("WMS_LEGEND",locale))),React.createElement("img",{src:wmsLegendUrl}))),theVectorStyle&&React.createElement(core_1.Collapse,{isOpen:openPanel==OpenPanel.EditVectorStyle},React.createElement("div",{style:{padding:5}},React.createElement("h5",{className:"bp3-heading"},React.createElement("a",{href:"#"},(0,i18n_1.tr)("VECTOR_LAYER_STYLE",locale))),React.createElement(vector_style_editor_1.VectorLayerStyleEditor,{onChange:function onChange(st){return onVectorStyleChanged(layer.name,st,which)},locale:locale,style:theVectorStyle,enablePoint:enablePoint,enableLine:enableLine,enablePolygon:enablePolygon}))))},ManageLayers=function ManageLayers(props){var locale=props.locale,currentResolution=props.currentResolution,onSetOpacity=props.onSetOpacity,onSetHeatmapBlur=props.onSetHeatmapBlur,onSetHeatmapRadius=props.onSetHeatmapRadius,onRemoveLayer=props.onRemoveLayer,onMoveLayerUp=props.onMoveLayerUp,onMoveLayerDown=props.onMoveLayerDown,onZoomToBounds=props.onZoomToBounds,onSetVisibility=props.onSetVisibility,onVectorStyleChanged=props.onVectorStyleChanged,_a=React.useState(props.layers),layers=_a[0],setLayers=_a[1];return React.useEffect((function(){setLayers(props.layers)}),[props.layers]),layers.length?React.createElement("div",null,layers.map((function(lyr,i){var cannotMoveUp=0==i||layers.length<=1,cannotMoveDown=i>=layers.length-1||layers.length<=1;return React.createElement(ManageLayerItem,{key:"manage-layer-"+i,layer:lyr,locale:locale,canMoveUp:!cannotMoveUp,canMoveDown:!cannotMoveDown,currentResolution:currentResolution,onSetOpacity:onSetOpacity,onSetHeatmapBlur:onSetHeatmapBlur,onSetHeatmapRadius:onSetHeatmapRadius,onRemoveLayer:onRemoveLayer,onMoveLayerUp:onMoveLayerUp,onMoveLayerDown:onMoveLayerDown,onZoomToBounds:onZoomToBounds,onSetVisibility:onSetVisibility,onVectorStyleChanged:onVectorStyleChanged})}))):React.createElement(core_1.NonIdealState,{icon:"layers",title:(0,i18n_1.tr)("NO_EXTERNAL_LAYERS",locale),description:(0,i18n_1.tr)("NO_EXTERNAL_LAYERS_DESC",locale,{tabName:(0,i18n_1.tr)("ADD_LAYER",locale)})})};exports.ManageLayers=ManageLayers;try{ManageLayers.displayName="ManageLayers",ManageLayers.__docgenInfo={description:"",displayName:"ManageLayers",props:{layers:{defaultValue:null,description:"",name:"layers",required:!0,type:{name:"ILayerInfo[]"}},locale:{defaultValue:null,description:"",name:"locale",required:!0,type:{name:"string"}},currentResolution:{defaultValue:null,description:"",name:"currentResolution",required:!1,type:{name:"number"}},onSetOpacity:{defaultValue:null,description:"",name:"onSetOpacity",required:!0,type:{name:"(name: string, value: number) => void"}},onSetHeatmapBlur:{defaultValue:null,description:"",name:"onSetHeatmapBlur",required:!0,type:{name:"(name: string, value: number) => void"}},onSetHeatmapRadius:{defaultValue:null,description:"",name:"onSetHeatmapRadius",required:!0,type:{name:"(name: string, value: number) => void"}},onSetVisibility:{defaultValue:null,description:"",name:"onSetVisibility",required:!0,type:{name:"(name: string, visible: boolean) => void"}},onZoomToBounds:{defaultValue:null,description:"",name:"onZoomToBounds",required:!0,type:{name:"(name: string) => void"}},onRemoveLayer:{defaultValue:null,description:"",name:"onRemoveLayer",required:!0,type:{name:"(name: string) => void"}},onMoveLayerUp:{defaultValue:null,description:"",name:"onMoveLayerUp",required:!0,type:{name:"(name: string) => void"}},onMoveLayerDown:{defaultValue:null,description:"",name:"onMoveLayerDown",required:!0,type:{name:"(name: string) => void"}},onVectorStyleChanged:{defaultValue:null,description:"",name:"onVectorStyleChanged",required:!0,type:{name:"(name: string, style: IVectorLayerStyle, which: VectorStyleSource) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/layer-manager/manage-layers.tsx#ManageLayers"]={docgenInfo:ManageLayers.__docgenInfo,name:"ManageLayers",path:"src/components/layer-manager/manage-layers.tsx#ManageLayers"})}catch(__react_docgen_typescript_loader_error){}},50654:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(4723),__webpack_require__(74916),__webpack_require__(57327),__webpack_require__(21249),__webpack_require__(68309),Object.defineProperty(exports,"__esModule",{value:!0}),exports.WfsCapabilitiesPanel=exports.parseEpsgCodeFromCRS=void 0;var React=(0,__webpack_require__(70655).__importStar)(__webpack_require__(67294)),i18n_1=__webpack_require__(196),core_1=__webpack_require__(61992);function parseEpsgCodeFromCRS(crs){if("urn:ogc:def:crs:OGC:1.3:CRS84"==crs)return 4326;var res=null==crs?void 0:crs.match(/urn:ogc:def:crs:EPSG::(\d+)/);return 2==(null==res?void 0:res.length)||2==(null==(res=null==crs?void 0:crs.match(/EPSG:(\d+)/))?void 0:res.length)?parseInt(res[1],10):void 0}function isGeoJsonMimeType(mimeType){var _a,lmt=null!==(_a=null==mimeType?void 0:mimeType.toLowerCase())&&void 0!==_a?_a:"";return lmt.indexOf("application/vnd.geo+json")>=0||lmt.indexOf("application/json")>=0}exports.parseEpsgCodeFromCRS=parseEpsgCodeFromCRS;var WfsCapabilitiesPanel=function WfsCapabilitiesPanel(props){var locale=props.locale,capabilities=props.capabilities,onAddLayer=props.onAddLayer,layers=capabilities.layers,info=capabilities.info;return React.createElement(React.Fragment,null,React.createElement(core_1.Card,null,React.createElement("h5",{className:"bp3-heading"},React.createElement("a",{href:"#"},(0,i18n_1.tr)("WFS_SERVICE_INFO",locale))),React.createElement("p",null,(0,i18n_1.tr)("WFS_VERSION",locale,{version:info.version})),React.createElement("p",null,(0,i18n_1.tr)("OWS_SERVICE_TITLE",locale,{title:info.title})),React.createElement("p",null,(0,i18n_1.tr)("OWS_SERVICE_ABSTRACT",locale,{abstract:info.abstract}))),React.createElement(core_1.Card,{style:{marginBottom:10}},React.createElement("h5",{className:"bp3-heading"},React.createElement("a",{href:"#"},(0,i18n_1.tr)("WFS_AVAILABLE_LAYERS",locale))),layers.map((function(layer){var geoJsonFmt=function getGeoJsonFormat(serviceInfo,layer){var _a,_b,_c,_d,lformats=null===(_b=(null!==(_a=layer.formats)&&void 0!==_a?_a:[]).filter((function(f){return isGeoJsonMimeType(f)})))||void 0===_b?void 0:_b[0],sformats=null===(_d=(null!==(_c=serviceInfo.allowedOutputFormats)&&void 0!==_c?_c:[]).filter((function(f){return isGeoJsonMimeType(f)})))||void 0===_d?void 0:_d[0];return null!=lformats?lformats:sformats}(info,layer),_a=function getLayerCrs(layer){var pdc=[parseEpsgCodeFromCRS(layer.defaultCrs),layer.defaultCrs];if(4326!=pdc[0]&&3857!=pdc[0]&&layer.otherCrs){var matches=layer.otherCrs.filter((function(c){var poc=parseEpsgCodeFromCRS(c);return 4326==poc||3857==poc}));matches.length>0&&(pdc=[parseEpsgCodeFromCRS(matches[0]),matches[0]])}return pdc}(layer),epsgCode=_a[0],origCrs=_a[1];if(epsgCode&&geoJsonFmt){var otherActions=React.createElement(React.Fragment,null);return React.createElement(core_1.Card,{key:layer.name,style:{padding:15,paddingTop:5}},React.createElement("h4",null,React.createElement(core_1.Icon,{icon:"layer"})," ",layer.name),React.createElement("p",null,(0,i18n_1.tr)("OWS_LAYER_TITLE",locale,{title:layer.title})),React.createElement("p",null,(0,i18n_1.tr)("OWS_LAYER_CRS",locale,{crs:"EPSG:"+epsgCode})),React.createElement(core_1.ButtonGroup,{fill:!0},React.createElement(core_1.Button,{onClick:function onClick(){return onAddLayer(layer.name,info.version,geoJsonFmt,origCrs,epsgCode,layer.wgs84Bounds)},intent:core_1.Intent.PRIMARY,icon:"new-layer"},(0,i18n_1.tr)("ADD_LAYER",locale)),otherActions))}})).filter((function(c){return c}))))};exports.WfsCapabilitiesPanel=WfsCapabilitiesPanel;try{parseEpsgCodeFromCRS.displayName="parseEpsgCodeFromCRS",parseEpsgCodeFromCRS.__docgenInfo={description:"Attempts to extract an EPSG code from the given CRS identifier",displayName:"parseEpsgCodeFromCRS",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/layer-manager/wfs-capabilities-panel.tsx#parseEpsgCodeFromCRS"]={docgenInfo:parseEpsgCodeFromCRS.__docgenInfo,name:"parseEpsgCodeFromCRS",path:"src/components/layer-manager/wfs-capabilities-panel.tsx#parseEpsgCodeFromCRS"})}catch(__react_docgen_typescript_loader_error){}try{WfsCapabilitiesPanel.displayName="WfsCapabilitiesPanel",WfsCapabilitiesPanel.__docgenInfo={description:"",displayName:"WfsCapabilitiesPanel",props:{capabilities:{defaultValue:null,description:"",name:"capabilities",required:!0,type:{name:"IWfsServiceCapabilities"}},locale:{defaultValue:null,description:"",name:"locale",required:!0,type:{name:"string"}},onAddLayer:{defaultValue:null,description:"",name:"onAddLayer",required:!0,type:{name:"(name: string, version: string, format: string, origCrs: string, epsgCode: number, wfsWgs84Bounds?: Bounds | undefined) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/layer-manager/wfs-capabilities-panel.tsx#WfsCapabilitiesPanel"]={docgenInfo:WfsCapabilitiesPanel.__docgenInfo,name:"WfsCapabilitiesPanel",path:"src/components/layer-manager/wfs-capabilities-panel.tsx#WfsCapabilitiesPanel"})}catch(__react_docgen_typescript_loader_error){}},34802:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(57327),__webpack_require__(21249),__webpack_require__(2707),__webpack_require__(68309),__webpack_require__(23123),__webpack_require__(74916),Object.defineProperty(exports,"__esModule",{value:!0}),exports.WfsCapabilitiesParser=void 0;var tslib_1=__webpack_require__(70655),string_1=__webpack_require__(53775);function tryGetElementContent(el){var _a;if(el)return null!==(_a=el.textContent)&&void 0!==_a?_a:el.text}function getElements(root,tagName,ns){var els;ns?0==(els=root.getElementsByTagName(ns+":"+tagName)).length&&(els=root.getElementsByTagName(tagName)):els=root.getElementsByTagName(tagName);var elements=[];if(els)for(var i=0;i<els.length;i++){var el=els.item(i);el&&elements.push(el)}return elements}function trySetProperty(obj,setter,value){value&&setter(obj,value)}var WfsCapabilitiesParser=function(){function WfsCapabilitiesParser(){}return WfsCapabilitiesParser.prototype.parse=function(xml){var parser=new DOMParser;return this.xmlDoc=parser.parseFromString(xml,"text/xml"),{info:this.getServiceInfo(),layers:this.getLayers()}},WfsCapabilitiesParser.prototype.getServiceInfo=function(){var _a,_b,els=getElements(this.xmlDoc,"ServiceIdentification","ows"),info={title:"",abstract:"",version:""};if(1==els.length){for(var t=tryGetElementContent(null===(_a=getElements(els[0],"Title","ows"))||void 0===_a?void 0:_a[0]),a=tryGetElementContent(null===(_b=getElements(els[0],"Abstract","ows"))||void 0===_b?void 0:_b[0]),_i=0,ops_1=getElements(this.xmlDoc,"Operation","ows");_i<ops_1.length;_i++){var op=ops_1[_i];if("GetFeature"==op.getAttribute("name"))for(var _c=0,parms_1=getElements(op,"Parameter","ows");_c<parms_1.length;_c++){var parm=parms_1[_c];if("outputFormat"==parm.getAttribute("name")){var allowedValues=getElements(parm,"Value","ows").map((function(av){return tryGetElementContent(av)})).filter((function(s){return!(0,string_1.strIsNullOrEmpty)(s)}));allowedValues.length>0&&(info.allowedOutputFormats=allowedValues)}}}var v=getElements(els[0],"ServiceTypeVersion","ows").map((function(el){return tryGetElementContent(el)})).filter((function(s){return!(0,string_1.strIsNullOrEmpty)(s)}));v.sort(),trySetProperty(info,(function(i,v){return i.title=v}),t),trySetProperty(info,(function(i,v){return i.abstract=v}),a),v.length>0&&(info.version=v[v.length-1])}return info},WfsCapabilitiesParser.prototype.getLayers=function(){return getElements(this.xmlDoc,"FeatureType","wfs").map((function(el){var _a,_b,_c,_d,_e,_f,_g,_h,info={name:"",title:"",abstract:"",defaultCrs:""},n=tryGetElementContent(null===(_a=getElements(el,"Name","wfs"))||void 0===_a?void 0:_a[0]),t=tryGetElementContent(null===(_b=getElements(el,"Title","wfs"))||void 0===_b?void 0:_b[0]),a=tryGetElementContent(null===(_c=getElements(el,"Abstract","wfs"))||void 0===_c?void 0:_c[0]),c=tryGetElementContent(null!==(_e=null===(_d=getElements(el,"DefaultCRS","wfs"))||void 0===_d?void 0:_d[0])&&void 0!==_e?_e:null===(_f=getElements(el,"DefaultSRS","wfs"))||void 0===_f?void 0:_f[0]),oc=getElements(el,"OtherCRS","wfs").map((function(fel){return tryGetElementContent(fel)})).filter((function(s){return!(0,string_1.strIsNullOrEmpty)(s)})),os=getElements(el,"OtherSRS","wfs").map((function(fel){return tryGetElementContent(fel)})).filter((function(s){return!(0,string_1.strIsNullOrEmpty)(s)}));info.otherCrs=(0,tslib_1.__spreadArray)((0,tslib_1.__spreadArray)([],oc,!0),os,!0);var fmts=getElements(el,"Format","wfs").map((function(fel){return tryGetElementContent(fel)})).filter((function(s){return!(0,string_1.strIsNullOrEmpty)(s)})),ll=tryGetElementContent(null===(_g=getElements(el,"LowerCorner","ows"))||void 0===_g?void 0:_g[0]),ur=tryGetElementContent(null===(_h=getElements(el,"UpperCorner","ows"))||void 0===_h?void 0:_h[0]);trySetProperty(info,(function(i,v){return i.name=v}),n),trySetProperty(info,(function(i,v){return i.title=v}),t),trySetProperty(info,(function(i,v){return i.abstract=v}),a),trySetProperty(info,(function(i,v){return i.defaultCrs=v}),c),fmts.length>0&&(info.formats=fmts);var llParts=null==ll?void 0:ll.split(" ").map((function(s){return parseFloat(s)})),urParts=null==ur?void 0:ur.split(" ").map((function(s){return parseFloat(s)}));return 2==(null==llParts?void 0:llParts.length)&&2==(null==urParts?void 0:urParts.length)&&(info.wgs84Bounds=[llParts[0],llParts[1],urParts[0],urParts[1]]),info}))},WfsCapabilitiesParser}();exports.WfsCapabilitiesParser=WfsCapabilitiesParser},53584:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(21249),Object.defineProperty(exports,"__esModule",{value:!0}),exports.WmsCapabilitiesPanel=void 0;var tslib_1=__webpack_require__(70655),React=(0,tslib_1.__importStar)(__webpack_require__(67294)),i18n_1=__webpack_require__(196),core_1=__webpack_require__(61992);var WmsCapabilitiesPanel=function WmsCapabilitiesPanel(props){var locale=props.locale,onAddLayer=props.onAddLayer,caps=props.capabilities,layers=function extractWmsLayers(caps){var _a,_b,layers=[],_c=caps.Capability.Layer,rootLayer=(_c.Layer,(0,tslib_1.__rest)(_c,["Layer"]));if(rootLayer.Name&&layers.push([rootLayer,null!==(_a=rootLayer.Style)&&void 0!==_a?_a:[]]),caps.Capability.Layer.Layer)for(var _i=0,_d=caps.Capability.Layer.Layer;_i<_d.length;_i++){var layer=_d[_i];layers.push([layer,null!==(_b=layer.Style)&&void 0!==_b?_b:[]])}return layers}(caps);return React.createElement(React.Fragment,null,React.createElement(core_1.Card,null,React.createElement("h5",{className:"bp3-heading"},React.createElement("a",{href:"#"},(0,i18n_1.tr)("WMS_SERVICE_INFO",locale))),React.createElement("p",null,(0,i18n_1.tr)("WMS_VERSION",locale,{version:caps.version})),React.createElement("p",null,(0,i18n_1.tr)("OWS_SERVICE_NAME",locale,{name:caps.Service.Name})),React.createElement("p",null,(0,i18n_1.tr)("OWS_SERVICE_TITLE",locale,{title:caps.Service.Title})),React.createElement("p",null,(0,i18n_1.tr)("OWS_SERVICE_ABSTRACT",locale,{abstract:caps.Service.Abstract}))),React.createElement(core_1.Card,{style:{marginBottom:10}},React.createElement("h5",{className:"bp3-heading"},React.createElement("a",{href:"#"},(0,i18n_1.tr)("WMS_AVAILABLE_LAYERS",locale))),layers.map((function(_a){var layer=_a[0],styles=_a[1],otherActions=React.createElement(React.Fragment,null);return React.createElement(core_1.Card,{key:layer.Name,style:{padding:15,paddingTop:5}},React.createElement("h4",null,React.createElement(core_1.Icon,{icon:"layer"})," ",layer.Name),React.createElement("p",null,(0,i18n_1.tr)("OWS_LAYER_TITLE",locale,{title:layer.Title})),styles.length?styles.map((function(st){return React.createElement(core_1.ButtonGroup,{key:st.Name,vertical:!0,fill:!0,alignText:"left"},React.createElement(core_1.Button,{onClick:function onClick(){var _a,_b;return onAddLayer(layer.Name,layer.queryable,!1,st,null===(_b=null===(_a=st.LegendURL)||void 0===_a?void 0:_a[0])||void 0===_b?void 0:_b.OnlineResource)},intent:core_1.Intent.PRIMARY,icon:"new-layer"},(0,i18n_1.tr)("ADD_LAYER_WITH_WMS_STYLE",locale,{style:st.Name})),React.createElement(core_1.Button,{onClick:function onClick(){var _a,_b;return onAddLayer(layer.Name,layer.queryable,!0,st,null===(_b=null===(_a=st.LegendURL)||void 0===_a?void 0:_a[0])||void 0===_b?void 0:_b.OnlineResource)},intent:core_1.Intent.PRIMARY,icon:"new-layer"},(0,i18n_1.tr)("ADD_LAYER_WITH_WMS_STYLE_TILED",locale,{style:st.Name})),otherActions)})):React.createElement(core_1.ButtonGroup,{vertical:!0,fill:!0,alignText:"left"},React.createElement(core_1.Button,{onClick:function onClick(){return onAddLayer(layer.Name,layer.queryable,!1,void 0)},intent:core_1.Intent.PRIMARY,icon:"new-layer"},(0,i18n_1.tr)("ADD_LAYER",locale)),React.createElement(core_1.Button,{onClick:function onClick(){return onAddLayer(layer.Name,layer.queryable,!0,void 0)},intent:core_1.Intent.PRIMARY,icon:"new-layer"},(0,i18n_1.tr)("ADD_LAYER_TILED",locale)),otherActions))}))))};exports.WmsCapabilitiesPanel=WmsCapabilitiesPanel;try{WmsCapabilitiesPanel.displayName="WmsCapabilitiesPanel",WmsCapabilitiesPanel.__docgenInfo={description:"",displayName:"WmsCapabilitiesPanel",props:{capabilities:{defaultValue:null,description:"",name:"capabilities",required:!0,type:{name:"WmsCapabilitiesDocument"}},locale:{defaultValue:null,description:"",name:"locale",required:!0,type:{name:"string"}},onAddLayer:{defaultValue:null,description:"",name:"onAddLayer",required:!0,type:{name:"(name: string, queryable: boolean, isTiled: boolean, style: WMSLayerStyle | undefined, getLegendUrl?: string | undefined) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/layer-manager/wms-capabilities-panel.tsx#WmsCapabilitiesPanel"]={docgenInfo:WmsCapabilitiesPanel.__docgenInfo,name:"WmsCapabilitiesPanel",path:"src/components/layer-manager/wms-capabilities-panel.tsx#WmsCapabilitiesPanel"})}catch(__react_docgen_typescript_loader_error){}},42314:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(68309),__webpack_require__(21249),__webpack_require__(57327),__webpack_require__(47941),Object.defineProperty(exports,"__esModule",{value:!0}),exports.Legend=exports.GroupNode=exports.LayerNode=void 0;var tslib_1=__webpack_require__(70655),React=(0,tslib_1.__importStar)(__webpack_require__(67294)),context_1=__webpack_require__(6928),base_layer_switcher_1=__webpack_require__(195),type_guards_1=__webpack_require__(64726),icon_1=__webpack_require__(45739),core_1=__webpack_require__(61992),number_1=__webpack_require__(96632),i18n_1=__webpack_require__(196),constants_1=__webpack_require__(12872),string_1=__webpack_require__(53775),context_2=__webpack_require__(47954),map_1=__webpack_require__(83552),UL_LIST_STYLE=function UL_LIST_STYLE(baseSize){return{listStyle:"none",paddingLeft:baseSize+4,marginTop:2,marginBottom:2}},LI_LIST_STYLE={listStyle:"none",marginTop:2,marginBottom:2},ROW_ITEM_ELEMENT_STYLE={verticalAlign:"middle"},CHK_STYLE=function CHK_STYLE(baseSize){return{margin:0,width:baseSize-2+"px",height:baseSize-2+"px",padding:1,verticalAlign:"middle"}},EMPTY_STYLE=function EMPTY_STYLE(baseSize){return{display:"inline-block",margin:0,width:baseSize+"px",height:baseSize+"px",verticalAlign:"middle"}},LegendLabel=function LegendLabel(props){var _a,inner,legendCtx=React.useContext(context_1.LegendContext),ft=null===(_a=legendCtx.getFilterText())||void 0===_a?void 0:_a.toLocaleLowerCase();if(legendCtx.isFiltering()&&!(0,string_1.strIsNullOrEmpty)(ft)){var idx=props.text.toLocaleLowerCase().indexOf(ft);idx>=0?(inner=props.text.substring(0,idx),inner+="<span class='legend-label-highlight-text'>"+props.text.substring(idx,idx+ft.length)+"</span>",inner+=props.text.substring(idx+ft.length,props.text.length)):inner=props.text}else inner=props.text;return React.createElement("span",{className:"legend-label",style:{lineHeight:props.baseSize+"px",verticalAlign:"middle"},dangerouslySetInnerHTML:{__html:inner}})};function getIconUri(iconMimeType,iconBase64){return iconMimeType&&iconBase64?"data:"+iconMimeType+";base64,"+iconBase64:void 0}var EmptyNode=function EmptyNode(props){return React.createElement("div",{style:EMPTY_STYLE(props.baseSize)},constants_1.NBSP)},RuleNode=function RuleNode(props){var icon=getIconUri(props.iconMimeType,props.rule.Icon),label=props.rule.LegendLabel?props.rule.LegendLabel:"";return React.createElement("li",{className:"layer-rule-node",style:LI_LIST_STYLE},React.createElement(EmptyNode,{baseSize:props.baseSize})," ",React.createElement("img",{style:ROW_ITEM_ELEMENT_STYLE,src:icon})," ",React.createElement(LegendLabel,{baseSize:props.baseSize,text:label}))},LayerNode=function LayerNode(props){var selectable,chkbox,layer=props.layer,legendCtx=React.useContext(context_1.LegendContext),_a=React.useState(legendCtx.getLayerVisibility(props.layer)),layerVisible=_a[0],setLayerVisible=_a[1],label=layer.LegendLabel?layer.LegendLabel:"",iconMimeType=legendCtx.getIconMimeType(),getExpanded=function getExpanded(){var expanded=legendCtx.getLayerExpanded(layer.ObjectId);return null==expanded&&(expanded=layer.ExpandInLegend),expanded},onToggleExpansion=function onToggleExpansion(e){var expanded=getExpanded();legendCtx.setLayerExpanded(layer.ObjectId,!expanded)},getLayerSelectability=function getLayerSelectability(layerId){var selectable=legendCtx.getLayerSelectability(layerId);return null==selectable&&(selectable=layer.Selectable),selectable},text=label,icon=React.createElement(icon_1.Icon,{baseSize:legendCtx.getBaseIconSize(),style:ROW_ITEM_ELEMENT_STYLE},(function(bs){return React.createElement(core_1.Icon,{icon:"layer",iconSize:bs})}));!0===layer.Selectable&&(selectable=React.createElement(icon_1.Icon,{baseSize:legendCtx.getBaseIconSize(),style:ROW_ITEM_ELEMENT_STYLE,onClick:function onToggleSelectability(e){var selectable=getLayerSelectability(layer.ObjectId);legendCtx.setLayerSelectability(layer.ObjectId,!selectable)}},(function(bs){return React.createElement(core_1.Icon,{icon:getLayerSelectability(layer.ObjectId)?"select":"disable",iconSize:bs})}))),1==layer.Type&&(chkbox=React.createElement("input",{type:"checkbox",className:"layer-checkbox",style:CHK_STYLE(legendCtx.getBaseIconSize()),value:layer.ObjectId,onChange:function onVisibilityChanged(e){setLayerVisible(e.target.checked),legendCtx.setLayerVisibility(layer.ObjectId,e.target.checked)},checked:layerVisible}));var tooltip=label,nodeStyle=(0,tslib_1.__assign)({whiteSpace:"nowrap",overflow:"hidden"},LI_LIST_STYLE);if(layer.ScaleRange)for(var _loop_1=function _loop_1(scaleRange){if(scaleRange.FeatureStyle&&scaleRange.FeatureStyle.length>0){for(var ruleElements=[],body=void 0,isExpanded_1=getExpanded(),totalRuleCount=0,_c=0,_d=scaleRange.FeatureStyle;_c<_d.length;_c++){totalRuleCount+=(fts=_d[_c]).Rule.length}if(isExpanded_1&&totalRuleCount>1){icon=React.createElement(icon_1.Icon,{baseSize:legendCtx.getBaseIconSize(),style:ROW_ITEM_ELEMENT_STYLE},(function(bs){return React.createElement(core_1.Icon,{icon:"multi-select",iconSize:bs})}));for(var fi=0;fi<scaleRange.FeatureStyle.length;fi++){var fts,ftsRuleCount=(fts=scaleRange.FeatureStyle[fi]).Rule.length,bCompressed=!1;if(ftsRuleCount>3&&(bCompressed=!fts.Rule[1].Icon),bCompressed)ruleElements.push(React.createElement(RuleNode,{baseSize:legendCtx.getBaseIconSize(),key:"layer-"+layer.ObjectId+"-style-"+fi+"-rule-first",iconMimeType:iconMimeType,rule:fts.Rule[0]})),ruleElements.push(React.createElement("li",{style:LI_LIST_STYLE,key:"layer-"+layer.ObjectId+"-style-"+fi+"-rule-compressed"},React.createElement(LegendLabel,{baseSize:legendCtx.getBaseIconSize(),text:(0,i18n_1.tr)("OTHER_THEME_RULE_COUNT",legendCtx.getLocale(),{count:ftsRuleCount-2})}))),ruleElements.push(React.createElement(RuleNode,{baseSize:legendCtx.getBaseIconSize(),key:"layer-"+layer.ObjectId+"-style-"+fi+"-rule-last",iconMimeType:iconMimeType,rule:fts.Rule[ftsRuleCount-1]}));else for(var i=0;i<ftsRuleCount;i++){var rule=fts.Rule[i];ruleElements.push(React.createElement(RuleNode,{baseSize:legendCtx.getBaseIconSize(),key:"layer-"+layer.ObjectId+"-style-"+fi+"-rule-"+i,iconMimeType:iconMimeType,rule:rule}))}}}else if(totalRuleCount>1)icon=React.createElement(icon_1.Icon,{style:ROW_ITEM_ELEMENT_STYLE,baseSize:legendCtx.getBaseIconSize()},(function(bs){return React.createElement(core_1.Icon,{icon:"multi-select",iconSize:bs})}));else{var uri=getIconUri(iconMimeType,scaleRange.FeatureStyle[0].Rule[0].Icon);uri&&(icon=React.createElement(icon_1.ImageIcon,{style:ROW_ITEM_ELEMENT_STYLE,url:uri}))}ruleElements.length>0&&(body=React.createElement("ul",{style:UL_LIST_STYLE(legendCtx.getBaseIconSize())},ruleElements));var expanded=void 0;return expanded=totalRuleCount>1?React.createElement(icon_1.Icon,{baseSize:legendCtx.getBaseIconSize(),style:ROW_ITEM_ELEMENT_STYLE,onClick:onToggleExpansion},(function(bs){return React.createElement(core_1.Icon,{icon:isExpanded_1?"chevron-down":"chevron-right",iconSize:bs})})):React.createElement(EmptyNode,{baseSize:legendCtx.getBaseIconSize()}),{value:React.createElement("li",{title:tooltip,style:nodeStyle,className:"layer-node"},expanded," ",chkbox," ",selectable," ",icon," ",React.createElement(LegendLabel,{baseSize:legendCtx.getBaseIconSize(),text:text})," ",body)}}icon=React.createElement(icon_1.Icon,{baseSize:legendCtx.getBaseIconSize(),style:ROW_ITEM_ELEMENT_STYLE},(function(bs){return React.createElement(core_1.Icon,{icon:"media",iconSize:bs})}))},_i=0,_b=layer.ScaleRange;_i<_b.length;_i++){var state_1=_loop_1(_b[_i]);if("object"==typeof state_1)return state_1.value}return React.createElement("li",{title:tooltip,style:nodeStyle,className:"layer-node"},React.createElement(EmptyNode,{baseSize:legendCtx.getBaseIconSize()})," ",chkbox," ",selectable," ",icon," ",label)};exports.LayerNode=LayerNode;var ExternalLayerNode=function ExternalLayerNode(_a){var layer=_a.layer,legendCtx=React.useContext(context_1.LegendContext),nodeStyle=(0,tslib_1.__assign)({whiteSpace:"nowrap",overflow:"hidden"},LI_LIST_STYLE),dispatch=(0,context_2.useReduxDispatch)(),chkbox=React.createElement("input",{type:"checkbox",className:"layer-checkbox",style:CHK_STYLE(legendCtx.getBaseIconSize()),onChange:function onChange(e){return function onVisibilityChanged(visible){var activeMapName=legendCtx.getMapName();activeMapName&&dispatch((0,map_1.setMapLayerVisibility)(activeMapName,layer.name,visible))}(e.target.checked)},checked:layer.visible}),iconToUse="layer";"WMS"==layer.type&&(iconToUse="media");var icon=React.createElement(icon_1.Icon,{baseSize:legendCtx.getBaseIconSize(),style:ROW_ITEM_ELEMENT_STYLE},(function(bs){return React.createElement(core_1.Icon,{icon:iconToUse,iconSize:bs})}));return React.createElement("li",{style:nodeStyle,className:"layer-node"},chkbox," ",icon," ",layer.displayName)},ExternalLayersGroupNode=function ExternalLayersGroupNode(_a){var layers=_a.layers,legendCtx=React.useContext(context_1.LegendContext);if(0==layers.length)return React.createElement(React.Fragment,null);var icon=React.createElement(icon_1.Icon,{baseSize:legendCtx.getBaseIconSize(),style:ROW_ITEM_ELEMENT_STYLE},(function(bs){return React.createElement(core_1.Icon,{icon:"folder-close",iconSize:bs})})),nodeStyle=(0,tslib_1.__assign)({whiteSpace:"nowrap",overflow:"hidden"},LI_LIST_STYLE);return React.createElement("li",{style:nodeStyle,className:"group-node"},React.createElement("span",null,icon," ",React.createElement(LegendLabel,{baseSize:legendCtx.getBaseIconSize(),text:(0,i18n_1.tr)("EXTERNAL_LAYERS",legendCtx.getLocale())})),React.createElement("ul",{style:UL_LIST_STYLE(legendCtx.getBaseIconSize())},layers.map((function(layer,i){return React.createElement(ExternalLayerNode,{key:"external-layer="+layer.name,layer:layer})}))))},GroupNode=function GroupNode(props){var group=props.group,legendCtx=React.useContext(context_1.LegendContext),_a=React.useState(legendCtx.getGroupVisibility(group)),groupVisible=_a[0],setGroupVisible=_a[1],getExpanded=function getExpanded(){var expanded=legendCtx.getGroupExpanded(group.ObjectId);return null==expanded&&(expanded=group.ExpandInLegend),expanded},currentScale=legendCtx.getCurrentScale(),tree=legendCtx.getTree(),icon=React.createElement(icon_1.Icon,{baseSize:legendCtx.getBaseIconSize(),style:ROW_ITEM_ELEMENT_STYLE},(function(bs){return React.createElement(core_1.Icon,{icon:"folder-close",iconSize:bs})})),isExpanded=getExpanded(),expanded=React.createElement(icon_1.Icon,{baseSize:legendCtx.getBaseIconSize(),style:ROW_ITEM_ELEMENT_STYLE,onClick:function onToggleExpansion(e){var expanded=getExpanded();legendCtx.setGroupExpanded(group.ObjectId,!expanded)}},(function(bs){return React.createElement(core_1.Icon,{icon:isExpanded?"chevron-down":"chevron-right",iconSize:bs})})),chkbox=React.createElement("input",{type:"checkbox",className:"group-checkbox",style:CHK_STYLE(legendCtx.getBaseIconSize()),value:group.ObjectId,onChange:function onVisibilityChanged(e){setGroupVisible(e.target.checked),legendCtx.setGroupVisibility(group.ObjectId,e.target.checked)},checked:groupVisible}),tooltip=group.LegendLabel,nodeStyle=(0,tslib_1.__assign)({whiteSpace:"nowrap",overflow:"hidden"},LI_LIST_STYLE);return React.createElement("li",{title:tooltip,style:nodeStyle,className:"group-node"},React.createElement("span",null,expanded," ",chkbox," ",icon," ",React.createElement(LegendLabel,{baseSize:legendCtx.getBaseIconSize(),text:group.LegendLabel})),function(){if(isExpanded&&props.childItems.length>0)return React.createElement("ul",{style:UL_LIST_STYLE(legendCtx.getBaseIconSize())},props.childItems.map((function(item){if(!0===item.DisplayInLegend)if((0,type_guards_1.isLayer)(item)){if(isLayerVisibleAtScale(item,currentScale,legendCtx.stateless))return React.createElement(exports.LayerNode,{key:item.ObjectId,layer:item})}else if(isGroupVisibleAtScale(item,tree,currentScale,legendCtx.stateless)){var children=tree.groupChildren[item.ObjectId]||[];return React.createElement(exports.GroupNode,{key:item.ObjectId,group:item,childItems:children})}})))}())};function isLayerVisibleAtScale(layer,scale,stateless){if(layer.ScaleRange)for(var _i=0,_a=layer.ScaleRange;_i<_a.length;_i++){var sr=_a[_i];if((0,number_1.scaleRangeBetween)(scale,sr.MinScale,sr.MaxScale))return!0}else if(stateless)return!0;return!1}function isGroupVisibleAtScale(group,tree,scale,stateless){for(var _i=0,children_1=tree.groupChildren[group.ObjectId]||[];_i<children_1.length;_i++){var child=children_1[_i];if((0,type_guards_1.isLayer)(child)){if(isLayerVisibleAtScale(child,scale,stateless))return!0}else if(isGroupVisibleAtScale(child,tree,scale,stateless))return!0}return!!stateless}function itemTextFilter(items,text){return items.map((function(i){return(0,type_guards_1.isLayer)(i)&&i.LegendLabel.toLocaleLowerCase().indexOf(text)<0?null:i})).filter((function(i){return null!=i}))}function setupTree(map){var _a,_b,state={Layers:null!==(_a=null==map?void 0:map.Layer)&&void 0!==_a?_a:[],Groups:null!==(_b=null==map?void 0:map.Group)&&void 0!==_b?_b:[],LayerMap:{},GroupMap:{},tree:{root:[],groupChildren:{}}};if(null==map?void 0:map.Layer)for(var _i=0,_c=map.Layer;_i<_c.length;_i++){var layer=_c[_i];state.LayerMap[layer.ObjectId]=layer}if(null==map?void 0:map.Group)for(var _d=0,_e=map.Group;_d<_e.length;_d++){var group_1=_e[_d];state.GroupMap[group_1.ObjectId]=group_1}var Layers=state.Layers,Groups=state.Groups,_f=(state.LayerMap,state.GroupMap,state.tree),root=_f.root,groupChildren=_f.groupChildren;if(Groups){for(var remainingGroups={},_g=0,Groups_1=Groups;_g<Groups_1.length;_g++){var group_2=Groups_1[_g];groupChildren[group_2.ObjectId]=[],group_2.ParentId?remainingGroups[group_2.ObjectId]=group_2:root.push(group_2)}var itemCount=0;for(var objId in remainingGroups)itemCount++;for(;itemCount>0;){var removeIds=[];for(var objId in remainingGroups){var group=remainingGroups[objId];void 0!==groupChildren[group.ParentId]&&(void 0!==groupChildren[group.ObjectId]&&(groupChildren[group.ObjectId]=[]),groupChildren[group.ParentId].push(group),removeIds.push(group.ObjectId))}for(var _h=0,removeIds_1=removeIds;_h<removeIds_1.length;_h++){delete remainingGroups[removeIds_1[_h]]}for(var objId in itemCount=0,remainingGroups)itemCount++}}if(Layers)for(var _j=0,Layers_1=Layers;_j<Layers_1.length;_j++){(layer=Layers_1[_j]).ParentId?(void 0===groupChildren[layer.ParentId]&&(groupChildren[layer.ParentId]=[]),groupChildren[layer.ParentId].push(layer)):root.push(layer)}return state}exports.GroupNode=GroupNode;var Legend=function Legend(props){var _a,_b=React.useState(setupTree(props.map)),state=_b[0],setState=_b[1],_tree=state.tree,currentScale=props.currentScale,externalBaseLayers=props.externalBaseLayers,onBaseLayerChanged=props.onBaseLayerChanged,maxHeight=props.maxHeight,_c=React.useState(!1),_isFiltering=_c[0],setIsFiltering=_c[1],_d=React.useState(""),filterText=_d[0],setFilterText=_d[1],_e=React.useState(void 0),filteredTree=_e[0],setFilteredTree=_e[1];React.useEffect((function(){onExitFilterMode();var tree=setupTree(props.map);setState(tree)}),[props.map]);var onExitFilterMode=function onExitFilterMode(){setIsFiltering(!1),setFilterText(""),setFilteredTree(void 0)},onFilterUpdate=function onFilterUpdate(text){setFilterText(text),(0,string_1.strIsNullOrEmpty)(text)?setFilteredTree(_tree):setFilteredTree(function buildFilteredTree(tree,text){for(var filtered={root:itemTextFilter(tree.root,text),groupChildren:{}},_i=0,keys_1=Object.keys(tree.groupChildren);_i<keys_1.length;_i++){var oid=keys_1[_i];filtered.groupChildren[oid]=itemTextFilter(tree.groupChildren[oid],text)}return filtered}(_tree,text.toLocaleLowerCase()))},rootStyle={position:"relative"};maxHeight&&(rootStyle.maxHeight=maxHeight);var providerImpl={stateless:props.stateless,isFiltering:function isFiltering(){return _isFiltering},getFilterText:function getFilterText(){return filterText},getLocale:function getLocale(){return props.locale},getMapName:function getMapName(){return props.activeMapName},getBaseIconSize:function getBaseIconSize(){var _a;return null!==(_a=props.baseIconSize)&&void 0!==_a?_a:16},getIconMimeType:function getIconMimeType(){var _a;return(null===(_a=props.map)||void 0===_a?void 0:_a.IconMimeType)?""+props.map.IconMimeType:void 0},getChildren:function getChildren(objectId){return state.tree.groupChildren[objectId]||[]},getCurrentScale:function getCurrentScale(){return props.currentScale},getTree:function getTree(){return _isFiltering&&filteredTree?filteredTree:state.tree},getGroupVisibility:function getGroupVisibility(group){var showGroups=props.showGroups,hideGroups=props.hideGroups,visible=group.Visible;return showGroups&&showGroups.indexOf(group.ObjectId)>=0?visible=!0:hideGroups&&hideGroups.indexOf(group.ObjectId)>=0&&(visible=!1),visible},getLayerVisibility:function getLayerVisibility(layer){var showLayers=props.showLayers,hideLayers=props.hideLayers,visible=layer.Visible;return showLayers&&showLayers.indexOf(layer.ObjectId)>=0?visible=!0:hideLayers&&hideLayers.indexOf(layer.ObjectId)>=0&&(visible=!1),visible},setGroupVisibility:function setGroupVisibility(groupId,visible){var _a;null===(_a=props.onGroupVisibilityChanged)||void 0===_a||_a.call(props,groupId,visible)},setLayerVisibility:function setLayerVisibility(layerId,visible){var _a;null===(_a=props.onLayerVisibilityChanged)||void 0===_a||_a.call(props,layerId,visible)},getLayerSelectability:function getLayerSelectability(layerId){return(props.overrideSelectableLayers||{})[layerId]},setLayerSelectability:function setLayerSelectability(layerId,selectable){var _a;null===(_a=props.onLayerSelectabilityChanged)||void 0===_a||_a.call(props,layerId,selectable)},getGroupExpanded:function getGroupExpanded(groupId){return(props.overrideExpandedItems||{})[groupId]},setGroupExpanded:function setGroupExpanded(groupId,expanded){var _a;null===(_a=props.onGroupExpansionChanged)||void 0===_a||_a.call(props,groupId,expanded)},getLayerExpanded:function getLayerExpanded(layerId){return(props.overrideExpandedItems||{})[layerId]},setLayerExpanded:function setLayerExpanded(layerId,expanded){var _a;null===(_a=props.onGroupExpansionChanged)||void 0===_a||_a.call(props,layerId,expanded)}},daTree=providerImpl.getTree(),rootItems=daTree.root;return React.createElement(context_1.LegendContext.Provider,{value:providerImpl},React.createElement("div",{style:rootStyle},function(){if(null!=externalBaseLayers&&externalBaseLayers.length>0&&props.inlineBaseLayerSwitcher)return React.createElement(core_1.Card,{style:{marginBottom:10}},React.createElement("h5",{className:"bp3-heading"},React.createElement("a",{href:"#"},(0,i18n_1.tr)("EXTERNAL_BASE_LAYERS",props.locale))),React.createElement(base_layer_switcher_1.BaseLayerSwitcher,{locale:props.locale,externalBaseLayers:externalBaseLayers,onBaseLayerChanged:onBaseLayerChanged}))}(),_isFiltering?React.createElement(core_1.InputGroup,{round:!0,autoFocus:!0,leftIcon:"search",placeholder:(0,i18n_1.tr)("LEGEND_FILTER_LAYERS",props.locale),onChange:function onChange(e){return onFilterUpdate(e.target.value)},rightElement:React.createElement(core_1.Button,{minimal:!0,icon:"cross",onClick:function onClick(){return onExitFilterMode()}})}):React.createElement(core_1.Button,{onClick:function onClick(){return function onEnterFilterMode(){setIsFiltering(!0),setFilterText(""),setFilteredTree(_tree)}()},title:(0,i18n_1.tr)("LEGEND_FILTER_LAYERS",props.locale),icon:"search",style:{position:"absolute",right:0,top:0}}),React.createElement("ul",{style:UL_LIST_STYLE(null!==(_a=props.baseIconSize)&&void 0!==_a?_a:16)},rootItems.map((function(item){if(!0===item.DisplayInLegend)if((0,type_guards_1.isLayer)(item)){if(isLayerVisibleAtScale(item,currentScale,props.stateless))return React.createElement(exports.LayerNode,{key:item.ObjectId,layer:item})}else{var bGroupVisAtScale=isGroupVisibleAtScale(item,daTree,currentScale,props.stateless),bGroupVisFilter=!1;if(providerImpl.isFiltering())item.LegendLabel.toLocaleLowerCase().indexOf(providerImpl.getFilterText().toLocaleLowerCase())>=0&&(bGroupVisFilter=!0);if(bGroupVisAtScale||bGroupVisFilter){var children=daTree.groupChildren[item.ObjectId]||[];return React.createElement(exports.GroupNode,{key:item.ObjectId,group:item,childItems:children})}}})),props.externalLayers&&React.createElement(ExternalLayersGroupNode,{layers:props.externalLayers}))))};exports.Legend=Legend;try{LayerNode.displayName="LayerNode",LayerNode.__docgenInfo={description:"",displayName:"LayerNode",props:{layer:{defaultValue:null,description:"",name:"layer",required:!0,type:{name:"MapLayer"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/legend.tsx#LayerNode"]={docgenInfo:LayerNode.__docgenInfo,name:"LayerNode",path:"src/components/legend.tsx#LayerNode"})}catch(__react_docgen_typescript_loader_error){}try{GroupNode.displayName="GroupNode",GroupNode.__docgenInfo={description:"",displayName:"GroupNode",props:{group:{defaultValue:null,description:"",name:"group",required:!0,type:{name:"MapGroup"}},childItems:{defaultValue:null,description:"",name:"childItems",required:!0,type:{name:"(MapLayer | MapGroup)[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/legend.tsx#GroupNode"]={docgenInfo:GroupNode.__docgenInfo,name:"GroupNode",path:"src/components/legend.tsx#GroupNode"})}catch(__react_docgen_typescript_loader_error){}try{Legend.displayName="Legend",Legend.__docgenInfo={description:"The Legend component provides a component to view the layer structure, its styles and thematics and\nthe ability to toggle the group/layer visibility of the current map",displayName:"Legend",props:{baseIconSize:{defaultValue:null,description:"",name:"baseIconSize",required:!1,type:{name:"number"}},map:{defaultValue:null,description:"@since 0.14 made optional",name:"map",required:!1,type:{name:"RuntimeMap"}},stateless:{defaultValue:null,description:"",name:"stateless",required:!0,type:{name:"boolean"}},showLayers:{defaultValue:null,description:"",name:"showLayers",required:!0,type:{name:"string[] | undefined"}},showGroups:{defaultValue:null,description:"",name:"showGroups",required:!0,type:{name:"string[] | undefined"}},hideLayers:{defaultValue:null,description:"",name:"hideLayers",required:!0,type:{name:"string[] | undefined"}},hideGroups:{defaultValue:null,description:"",name:"hideGroups",required:!0,type:{name:"string[] | undefined"}},locale:{defaultValue:null,description:"",name:"locale",required:!0,type:{name:"string"}},externalBaseLayers:{defaultValue:null,description:"",name:"externalBaseLayers",required:!1,type:{name:"IExternalBaseLayer[]"}},onBaseLayerChanged:{defaultValue:null,description:"",name:"onBaseLayerChanged",required:!1,type:{name:"((name: string) => void)"}},onLayerSelectabilityChanged:{defaultValue:null,description:"",name:"onLayerSelectabilityChanged",required:!1,type:{name:"((id: string, selectable: boolean) => void)"}},onGroupExpansionChanged:{defaultValue:null,description:"",name:"onGroupExpansionChanged",required:!1,type:{name:"((id: string, expanded: boolean) => void)"}},onLayerVisibilityChanged:{defaultValue:null,description:"",name:"onLayerVisibilityChanged",required:!1,type:{name:"MapElementChangeFunc"}},onGroupVisibilityChanged:{defaultValue:null,description:"",name:"onGroupVisibilityChanged",required:!1,type:{name:"MapElementChangeFunc"}},currentScale:{defaultValue:null,description:"",name:"currentScale",required:!0,type:{name:"number"}},overrideSelectableLayers:{defaultValue:null,description:"",name:"overrideSelectableLayers",required:!1,type:{name:"any"}},overrideExpandedItems:{defaultValue:null,description:"",name:"overrideExpandedItems",required:!1,type:{name:"any"}},maxHeight:{defaultValue:null,description:"",name:"maxHeight",required:!1,type:{name:"number"}},inlineBaseLayerSwitcher:{defaultValue:null,description:"",name:"inlineBaseLayerSwitcher",required:!0,type:{name:"boolean"}},externalLayers:{defaultValue:null,description:"",name:"externalLayers",required:!1,type:{name:"ILayerInfo[]"}},activeMapName:{defaultValue:null,description:"",name:"activeMapName",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/legend.tsx#Legend"]={docgenInfo:Legend.__docgenInfo,name:"Legend",path:"src/components/legend.tsx#Legend"})}catch(__react_docgen_typescript_loader_error){}},94752:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(56977),Object.defineProperty(exports,"__esModule",{value:!0}),exports.MapLoadIndicator=void 0;var React=(0,__webpack_require__(70655).__importStar)(__webpack_require__(67294)),MapLoadIndicator=function MapLoadIndicator(props){var loaded=props.loaded,loading=props.loading,color=props.color,position=props.position,visibility="visible",pc=Math.min(100,loaded/loading*100),width=pc.toFixed(1)+"%";(loaded===loading||pc>=100)&&(visibility="hidden",width="0");var style={position:"absolute",zIndex:10,visibility:visibility,left:0,height:5,width:width,background:color,transition:"width 250ms"};return"top"==position?style.top=0:style.bottom=0,React.createElement("div",{style:style})};exports.MapLoadIndicator=MapLoadIndicator;try{MapLoadIndicator.displayName="MapLoadIndicator",MapLoadIndicator.__docgenInfo={description:"",displayName:"MapLoadIndicator",props:{loading:{defaultValue:null,description:"",name:"loading",required:!0,type:{name:"number"}},loaded:{defaultValue:null,description:"",name:"loaded",required:!0,type:{name:"number"}},color:{defaultValue:null,description:"",name:"color",required:!0,type:{name:"string"}},position:{defaultValue:null,description:"",name:"position",required:!0,type:{name:"enum",value:[{value:'"top"'},{value:'"bottom"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/map-load-indicator.tsx#MapLoadIndicator"]={docgenInfo:MapLoadIndicator.__docgenInfo,name:"MapLoadIndicator",path:"src/components/map-load-indicator.tsx#MapLoadIndicator"})}catch(__react_docgen_typescript_loader_error){}},7287:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(21249),Object.defineProperty(exports,"__esModule",{value:!0}),exports.MapMenu=void 0;var React=(0,__webpack_require__(70655).__importStar)(__webpack_require__(67294)),MapMenu=function MapMenu(props){var _a=React.useState(void 0),setSelected=(_a[0],_a[1]),onActiveMapChanged=function onActiveMapChanged(e){var _a,value=e.currentTarget.value;setSelected(value),null===(_a=props.onActiveMapChanged)||void 0===_a||_a.call(props,value)};return React.createElement("div",null,props.maps.map((function(layer){return React.createElement("div",{className:"map-menu-item-container",key:"base-layer-"+layer.mapName},React.createElement("label",{className:"bp3-control bp3-radio"},React.createElement("input",{className:"map-menu-option",type:"radio",value:layer.mapName,checked:layer.mapName===props.selectedMap,onChange:onActiveMapChanged}),React.createElement("span",{className:"bp3-control-indicator"}),layer.label))})))};exports.MapMenu=MapMenu;try{MapMenu.displayName="MapMenu",MapMenu.__docgenInfo={description:"The MapMenu component provides the ability to switch between active maps",displayName:"MapMenu",props:{locale:{defaultValue:null,description:"",name:"locale",required:!0,type:{name:"string | undefined"}},selectedMap:{defaultValue:null,description:"",name:"selectedMap",required:!0,type:{name:"string"}},maps:{defaultValue:null,description:"",name:"maps",required:!0,type:{name:"IMapMenuEntry[]"}},onActiveMapChanged:{defaultValue:null,description:"",name:"onActiveMapChanged",required:!1,type:{name:"((name: string) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/map-menu.tsx#MapMenu"]={docgenInfo:MapMenu.__docgenInfo,name:"MapMenu",path:"src/components/map-menu.tsx#MapMenu"})}catch(__react_docgen_typescript_loader_error){}},90051:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(9653),__webpack_require__(4723),__webpack_require__(74916),__webpack_require__(23123),__webpack_require__(21249),__webpack_require__(57327),Object.defineProperty(exports,"__esModule",{value:!0}),exports.BaseMapProviderContext=exports.useViewerSideEffects=exports.isMiddleMouseDownEvent=exports.recursiveFindLayer=exports.inflateBoundsByMeters=void 0;var tslib_1=__webpack_require__(70655),React=(0,tslib_1.__importStar)(__webpack_require__(67294)),ReactDOM=(0,tslib_1.__importStar)(__webpack_require__(73935)),common_1=__webpack_require__(18036),mouse_1=__webpack_require__(90434),Map_1=(0,tslib_1.__importDefault)(__webpack_require__(47491)),OverviewMap_1=(0,tslib_1.__importDefault)(__webpack_require__(85654)),DragBox_1=(0,tslib_1.__importDefault)(__webpack_require__(11518)),Select_1=(0,tslib_1.__importDefault)(__webpack_require__(7517)),Draw_1=(0,tslib_1.__importDefault)(__webpack_require__(35010)),selected_features_1=__webpack_require__(9004),Feature_1=(0,tslib_1.__importDefault)(__webpack_require__(81090)),Polygon_1=(0,tslib_1.__importDefault)(__webpack_require__(2033)),Attribution_1=(0,tslib_1.__importDefault)(__webpack_require__(42657)),Rotate_1=(0,tslib_1.__importDefault)(__webpack_require__(89965)),DragRotate_1=(0,tslib_1.__importDefault)(__webpack_require__(32857)),DragPan_1=(0,tslib_1.__importDefault)(__webpack_require__(22050)),PinchRotate_1=(0,tslib_1.__importDefault)(__webpack_require__(13205)),PinchZoom_1=(0,tslib_1.__importDefault)(__webpack_require__(14474)),KeyboardPan_1=(0,tslib_1.__importDefault)(__webpack_require__(58789)),KeyboardZoom_1=(0,tslib_1.__importDefault)(__webpack_require__(834)),MouseWheelZoom_1=(0,tslib_1.__importDefault)(__webpack_require__(20686)),View_1=(0,tslib_1.__importDefault)(__webpack_require__(59220)),GeometryType_1=(0,tslib_1.__importDefault)(__webpack_require__(74754)),proj_1=__webpack_require__(26414),layer_manager_1=__webpack_require__(69615),olExtent=(0,tslib_1.__importStar)(__webpack_require__(28641)),olEasing=(0,tslib_1.__importStar)(__webpack_require__(31015)),i18n_1=__webpack_require__(196),assert_1=__webpack_require__(47575),logger_1=__webpack_require__(97838),map_1=__webpack_require__(83552),core_1=__webpack_require__(61992),ol_factory_1=__webpack_require__(31653),ismobilejs_1=(0,tslib_1.__importDefault)(__webpack_require__(90891)),Group_1=(0,tslib_1.__importDefault)(__webpack_require__(68734)),ol_style_contracts_1=__webpack_require__(42720),ol_style_helpers_1=__webpack_require__(68189),runtime_1=__webpack_require__(49538),client_1=__webpack_require__(61772),context_1=__webpack_require__(47954);function inflateBoundsByMeters(thisProj,extent,meters){var webmBounds=(0,proj_1.transformExtent)(extent,thisProj,"EPSG:3857"),webmBounds2=olExtent.buffer(webmBounds,meters);return(0,proj_1.transformExtent)(webmBounds2,"EPSG:3857",thisProj)}function isMiddleMouseDownEvent(e){return e&&(2==e.which||4==e.button)}exports.inflateBoundsByMeters=inflateBoundsByMeters,exports.recursiveFindLayer=function recursiveFindLayer(layers,predicate){for(var i=0;i<layers.getLength();i++){var layer=layers.item(i);if(layer instanceof Group_1.default){var match=recursiveFindLayer(layer.getLayers(),predicate);if(match)return match}else if(predicate(layer))return layer}},exports.isMiddleMouseDownEvent=isMiddleMouseDownEvent,exports.useViewerSideEffects=function useViewerSideEffects(context,appSettings,isReady,mapName,layers,initialExternalLayers,agentUri,agentKind,selection){void 0===agentUri&&(agentUri=void 0),void 0===agentKind&&(agentKind=void 0),void 0===selection&&(selection=null);var dispatch=(0,context_1.useReduxDispatch)();React.useEffect((function(){if(isReady&&mapName&&!layers)if((0,logger_1.debug)("React.useEffect - Change of initial external layers for ["+mapName+"] (change should only happen once per mapName!)"),initialExternalLayers&&initialExternalLayers.length>0){(0,logger_1.debug)("React.useEffect - First-time loading of external layers for ["+mapName+"]");for(var layerManager=context.getLayerManager(mapName),_i=0,initialExternalLayers_1=initialExternalLayers;_i<initialExternalLayers_1.length;_i++){var extLayer=initialExternalLayers_1[_i],added=layerManager.addExternalLayer(extLayer,!0,appSettings);added&&dispatch((0,map_1.mapLayerAdded)(mapName,added))}}else(0,logger_1.debug)("React.useEffect - Signal that external layers are ready for ["+mapName+"]"),dispatch((0,map_1.externalLayersReady)(mapName))}),[context,mapName,initialExternalLayers,layers,isReady]),React.useEffect((function(){((0,logger_1.debug)("React.useEffect - Change of external layers"),context.isReady()&&layers)&&context.getLayerManager(mapName).apply(layers)}),[context,mapName,layers]),React.useEffect((function(){(0,logger_1.debug)("React.useEffect - Change of context and/or agent URI/kind"),(0,runtime_1.setViewer)(context);var browserWindow=window;browserWindow.getViewer=browserWindow.getViewer||runtime_1.getViewer,agentUri&&agentKind&&(browserWindow.getClient=browserWindow.getClient||function(){return new client_1.Client(agentUri,agentKind)}),(0,logger_1.debug)("React.useEffect - Attached runtime viewer instance and installed browser global APIs")}),[context,agentUri,agentKind]),React.useEffect((function(){(0,logger_1.debug)("React.useEffect - Change of selection"),context.refreshMap(common_1.RefreshMode.SelectionOnly)}),[context,selection])};var BaseMapProviderContext=function(){function BaseMapProviderContext(olFactory){var _this=this;void 0===olFactory&&(olFactory=new ol_factory_1.OLFactory),this.olFactory=olFactory,this.onBeginDigitization=function(callback){var _a;null===(_a=_this._comp)||void 0===_a||_a.onDispatch((0,map_1.setActiveTool)(common_1.ActiveMapTool.None)),callback(!1)},this.onResize=function(e){var _a;if(_this._map){var size=_this._map.getSize();if(size){var w=size[0],h=size[1];null===(_a=_this._comp)||void 0===_a||_a.onDispatch((0,map_1.mapResized)(w,h))}}},this._busyWorkers=0,this._layerSetGroups={},this._tileSourceLoaders={},this._imageSourceLoaders={},this._wmsQueryAugmentations={},this._triggerZoomRequestOnMoveEnd=!0;var ism=(0,ismobilejs_1.default)(navigator.userAgent);this._supportsTouch=ism.phone||ism.tablet;var baseInitialState={activeTool:common_1.ActiveMapTool.None,view:void 0,viewRotation:0,viewRotationEnabled:!0,locale:i18n_1.DEFAULT_LOCALE,cancelDigitizationKey:common_1.KC_ESCAPE,undoLastPointKey:common_1.KC_U,mapName:void 0,externalBaseLayers:void 0,initialExternalLayers:[]};this._state=(0,tslib_1.__assign)((0,tslib_1.__assign)({},baseInitialState),this.getInitialProviderState())}return BaseMapProviderContext.prototype.exportImage=function(options){if(this._map){var map_2=this._map;map_2.once("rendercomplete",(function(){var mapCanvas=document.createElement("canvas");if(options.size){var _a=options.size,w=_a[0],h=_a[1];mapCanvas.width=w,mapCanvas.height=h}else{var size=map_2.getSize();size&&(mapCanvas.width=size[0],mapCanvas.height=size[1])}var mapContext=mapCanvas.getContext("2d");if(mapContext){Array.prototype.forEach.call(document.querySelectorAll(".ol-layer canvas, .external-vector-layer canvas"),(function(canvas){var _a,_b,_c,_d,_e,_f;if(canvas.width>0){var opacity=null!==(_c=null===(_b=null===(_a=canvas.parentNode)||void 0===_a?void 0:_a.style)||void 0===_b?void 0:_b.opacity)&&void 0!==_c?_c:"";mapContext.globalAlpha=""===opacity?1:Number(opacity);var matrix=null===(_f=null===(_e=null===(_d=canvas.style.transform.match(/^matrix\(([^\(]*)\)$/))||void 0===_d?void 0:_d[1])||void 0===_e?void 0:_e.split(","))||void 0===_f?void 0:_f.map(Number);matrix&&(CanvasRenderingContext2D.prototype.setTransform.apply(mapContext,matrix),mapContext.drawImage(canvas,0,0))}})),options.callback(mapCanvas.toDataURL(options.exportMimeType))}})),map_2.renderSync()}},BaseMapProviderContext.prototype.addBaseTileLoadFunction=function(mapName,layerName,func){this._baseTileSourceLoaders||(this._baseTileSourceLoaders={}),this._baseTileSourceLoaders[mapName]||(this._baseTileSourceLoaders[mapName]={}),this._baseTileSourceLoaders[mapName][layerName]=func},BaseMapProviderContext.prototype.addTileLoadFunction=function(mapName,layerName,func){this._tileSourceLoaders||(this._tileSourceLoaders={}),this._tileSourceLoaders[mapName]||(this._tileSourceLoaders[mapName]={}),this._tileSourceLoaders[mapName][layerName]=func},BaseMapProviderContext.prototype.addImageLoadFunction=function(mapName,layerName,func){this._imageSourceLoaders||(this._imageSourceLoaders={}),this._imageSourceLoaders[mapName]||(this._imageSourceLoaders[mapName]={}),this._imageSourceLoaders[mapName][layerName]=func},BaseMapProviderContext.prototype.addWmsQueryAugmentation=function(mapName,layerName,func){this._wmsQueryAugmentations||(this._wmsQueryAugmentations={}),this._wmsQueryAugmentations[mapName]||(this._wmsQueryAugmentations[mapName]={}),this._wmsQueryAugmentations[mapName][layerName]=func},BaseMapProviderContext.prototype.addCustomSelectionPopupRenderer=function(mapName,layerName,renderer){mapName&&layerName?(this._customSelectionPopupRenderers||(this._customSelectionPopupRenderers={}),this._customSelectionPopupRenderers[mapName]||(this._customSelectionPopupRenderers[mapName]={}),this._customSelectionPopupRenderers[mapName][layerName]=renderer):this._globalCustomSelectionPopupRenderer=renderer},BaseMapProviderContext.prototype.getSelectionPopupRenderer=function(layerName){this._customSelectionPopupRenderers||(this._customSelectionPopupRenderers={});var mapName=this._state.mapName;if(mapName){this._customSelectionPopupRenderers[mapName]||(this._customSelectionPopupRenderers[mapName]={});var r=this._customSelectionPopupRenderers[mapName][layerName];if(r)return r}if(this._globalCustomSelectionPopupRenderer)return this._globalCustomSelectionPopupRenderer},BaseMapProviderContext.prototype.hideAllPopups=function(){var _a,_b;null===(_a=this._mouseTooltip)||void 0===_a||_a.clear(),null===(_b=this._selectTooltip)||void 0===_b||_b.hide()},BaseMapProviderContext.prototype.isReady=function(){return!(!this._map||!this._comp)},BaseMapProviderContext.prototype.mapguideSupport=function(){},BaseMapProviderContext.prototype.setActiveTool=function(tool){var _a;null===(_a=this._comp)||void 0===_a||_a.onDispatch((0,map_1.setActiveTool)(tool))},BaseMapProviderContext.prototype.getOLFactory=function(){return this.olFactory},BaseMapProviderContext.prototype.getMapName=function(){return this._state.mapName},BaseMapProviderContext.prototype.setViewRotation=function(rotation){var _a;null===(_a=this._comp)||void 0===_a||_a.onDispatch((0,map_1.setViewRotation)(rotation))},BaseMapProviderContext.prototype.getViewRotation=function(){return this._state.viewRotation},BaseMapProviderContext.prototype.isViewRotationEnabled=function(){return this._state.viewRotationEnabled},BaseMapProviderContext.prototype.setViewRotationEnabled=function(enabled){var _a;null===(_a=this._comp)||void 0===_a||_a.onDispatch((0,map_1.setViewRotationEnabled)(enabled))},BaseMapProviderContext.prototype.toastSuccess=function(iconName,message){var _a,_b;return null===(_b=null===(_a=this._toasterRef)||void 0===_a?void 0:_a.current)||void 0===_b?void 0:_b.show({icon:iconName,message:message,intent:core_1.Intent.SUCCESS})},BaseMapProviderContext.prototype.toastWarning=function(iconName,message){var _a,_b;return null===(_b=null===(_a=this._toasterRef)||void 0===_a?void 0:_a.current)||void 0===_b?void 0:_b.show({icon:iconName,message:message,intent:core_1.Intent.WARNING})},BaseMapProviderContext.prototype.toastError=function(iconName,message){var _a,_b;return null===(_b=null===(_a=this._toasterRef)||void 0===_a?void 0:_a.current)||void 0===_b?void 0:_b.show({icon:iconName,message:message,intent:core_1.Intent.DANGER})},BaseMapProviderContext.prototype.toastPrimary=function(iconName,message){var _a,_b;return null===(_b=null===(_a=this._toasterRef)||void 0===_a?void 0:_a.current)||void 0===_b?void 0:_b.show({icon:iconName,message:message,intent:core_1.Intent.PRIMARY})},BaseMapProviderContext.prototype.dismissToast=function(key){var _a,_b;null===(_b=null===(_a=this._toasterRef)||void 0===_a?void 0:_a.current)||void 0===_b||_b.dismiss(key)},BaseMapProviderContext.prototype.addImageLoading=function(){var _a;null===(_a=this._comp)||void 0===_a||_a.addImageLoading()},BaseMapProviderContext.prototype.addImageLoaded=function(){var _a;null===(_a=this._comp)||void 0===_a||_a.addImageLoaded()},BaseMapProviderContext.prototype.addSubscribers=function(props){var _a,_b;return null!==(_b=null===(_a=this._comp)||void 0===_a?void 0:_a.addSubscribers(props))&&void 0!==_b?_b:[]},BaseMapProviderContext.prototype.removeSubscribers=function(names){var _a,_b;return null!==(_b=null===(_a=this._comp)||void 0===_a?void 0:_a.removeSubscribers(names))&&void 0!==_b&&_b},BaseMapProviderContext.prototype.getSubscribers=function(){var _a,_b;return null!==(_b=null===(_a=this._comp)||void 0===_a?void 0:_a.getSubscribers())&&void 0!==_b?_b:[]},BaseMapProviderContext.prototype.dispatch=function(action){var _a;null===(_a=this._comp)||void 0===_a||_a.onDispatch(action)},BaseMapProviderContext.prototype.getDefaultPointCircleStyle=function(){return(0,tslib_1.__assign)({},ol_style_contracts_1.DEFAULT_POINT_CIRCLE_STYLE)},BaseMapProviderContext.prototype.getDefaultPointIconStyle=function(){return(0,tslib_1.__assign)({},ol_style_contracts_1.DEFAULT_POINT_ICON_STYLE)},BaseMapProviderContext.prototype.getDefaultLineStyle=function(){return(0,tslib_1.__assign)({},ol_style_contracts_1.DEFAULT_LINE_STYLE)},BaseMapProviderContext.prototype.getDefaultPolygonStyle=function(){return(0,tslib_1.__assign)({},ol_style_contracts_1.DEFAULT_POLY_STYLE)},BaseMapProviderContext.prototype.getBaseTileSourceLoaders=function(mapName){var _a,_b;return null!==(_b=null===(_a=this._baseTileSourceLoaders)||void 0===_a?void 0:_a[mapName])&&void 0!==_b?_b:{}},BaseMapProviderContext.prototype.getTileSourceLoaders=function(mapName){var _a,_b;return null!==(_b=null===(_a=this._tileSourceLoaders)||void 0===_a?void 0:_a[mapName])&&void 0!==_b?_b:{}},BaseMapProviderContext.prototype.getImageSourceLoaders=function(mapName){var _a,_b;return null!==(_b=null===(_a=this._imageSourceLoaders)||void 0===_a?void 0:_a[mapName])&&void 0!==_b?_b:{}},BaseMapProviderContext.prototype.getMockMode=function(){},BaseMapProviderContext.prototype.addFeatureToHighlight=function(feat,bAppend){var _a;if(this._state.mapName&&this.getLayerSetGroup(this._state.mapName)){var sf=null===(_a=this._select)||void 0===_a?void 0:_a.getFeatures();sf&&(bAppend||sf.clear(),feat&&sf.push(feat))}},BaseMapProviderContext.prototype.getScaleForExtent=function(bounds){(0,assert_1.assertIsDefined)(this._map),(0,assert_1.assertIsDefined)(this._state.mapName);var activeLayerSet=this.getLayerSetGroup(this._state.mapName);(0,assert_1.assertIsDefined)(activeLayerSet);var size=this._map.getSize();(0,assert_1.assertIsDefined)(size);var mcsW=olExtent.getWidth(bounds),mcsH=olExtent.getHeight(bounds),devW=size[0],devH=size[1],metersPerPixel=.0254/activeLayerSet.getDpi(),metersPerUnit=activeLayerSet.getMetersPerUnit();return devH*mcsW>devW*mcsH?mcsW*metersPerUnit/(devW*metersPerPixel):mcsH*metersPerUnit/(devH*metersPerPixel)},BaseMapProviderContext.prototype.getViewForExtent=function(extent){var scale,center;if((0,assert_1.assertIsDefined)(this._map),0==olExtent.getWidth(extent)||0==olExtent.getHeight(extent)){var inflatedBounds=inflateBoundsByMeters(this.getProjection(),extent,20);scale=this.getScaleForExtent(inflatedBounds),center=olExtent.getCenter(inflatedBounds)}else scale=this.getScaleForExtent(extent),center=olExtent.getCenter(extent);return{x:center[0],y:center[1],scale:scale,resolution:this._map.getView().getResolution()}},BaseMapProviderContext.prototype.onZoomSelectBox=function(e){var _a;if(this._comp){var extent=null===(_a=this._zoomSelectBox)||void 0===_a?void 0:_a.getGeometry();if(!extent)return;switch(this._state.activeTool){case common_1.ActiveMapTool.Zoom:var ext=extent.getExtent();this._comp.onDispatch((0,map_1.setCurrentView)(this.getViewForExtent(ext)));break;case common_1.ActiveMapTool.Select:this.selectFeaturesByExtent(extent)}}},BaseMapProviderContext.prototype.onMouseMove=function(e){if(this._comp){if(this.handleMouseTooltipMouseMove(e),this.handleHighlightHover(e),this._comp.isContextMenuOpen())return;this._state.mapName&&this._comp.onDispatch((0,map_1.setMouseCoordinates)(this._state.mapName,e.coord))}},BaseMapProviderContext.prototype.incrementBusyWorker=function(){var _a;this._busyWorkers++,null===(_a=this._comp)||void 0===_a||_a.onDispatch((0,map_1.setBusyCount)(this._busyWorkers))},BaseMapProviderContext.prototype.decrementBusyWorker=function(){var _a;this._busyWorkers--,null===(_a=this._comp)||void 0===_a||_a.onDispatch((0,map_1.setBusyCount)(this._busyWorkers))},BaseMapProviderContext.prototype.applyView=function(layerSet,vw){this._triggerZoomRequestOnMoveEnd=!1,layerSet.getView().setCenter([vw.x,vw.y]);var res=layerSet.scaleToResolution(vw.scale);layerSet.getView().setResolution(res),this._triggerZoomRequestOnMoveEnd=!0},BaseMapProviderContext.prototype.removeActiveDrawInteraction=function(){this._activeDrawInteraction&&this._map&&this._comp&&(this._map.removeInteraction(this._activeDrawInteraction),this._activeDrawInteraction=null,this._comp.setDigitizingType(void 0))},BaseMapProviderContext.prototype.getActiveTool=function(){return this._state.activeTool},BaseMapProviderContext.prototype.cancelDigitization=function(){this.isDigitizing()&&(this.removeActiveDrawInteraction(),this.clearMouseTooltip())},BaseMapProviderContext.prototype.pushDrawInteraction=function(digitizingType,draw,handler,prompt){var _this=this;(0,assert_1.assertIsDefined)(this._comp),this.onBeginDigitization((function(cancel){cancel||((0,assert_1.assertIsDefined)(_this._map),(0,assert_1.assertIsDefined)(_this._comp),_this.removeActiveDrawInteraction(),_this.clearMouseTooltip(),prompt&&_this.setMouseTooltip(prompt),_this._activeDrawInteraction=draw,_this._activeDrawInteraction.once("drawend",(function(e){var geom=e.feature.getGeometry();_this.cancelDigitization(),handler(geom)})),_this._map.addInteraction(_this._activeDrawInteraction),_this._comp.setDigitizingType(digitizingType))}))},BaseMapProviderContext.prototype.selectFeaturesByExtent=function(geom){},BaseMapProviderContext.prototype.zoomByDelta=function(delta){(0,assert_1.assertIsDefined)(this._map);var view=this._map.getView();if(view){var currentZoom=view.getZoom();if(void 0!==currentZoom){var newZoom=view.getConstrainedZoom(currentZoom+delta);view.getAnimating()&&view.cancelAnimations(),view.animate({zoom:newZoom,duration:250,easing:olEasing.easeOut})}}},BaseMapProviderContext.prototype.ensureAndGetLayerSetGroup=function(nextState){(0,assert_1.assertIsDefined)(nextState.mapName);var layerSet=this._layerSetGroups[nextState.mapName];return layerSet||(layerSet=this.initLayerSet(nextState),this._layerSetGroups[nextState.mapName]=layerSet),layerSet},BaseMapProviderContext.prototype.getLayerSetGroup=function(name){var layerSet;return name&&(layerSet=this._layerSetGroups[name]),layerSet},BaseMapProviderContext.prototype.isMouseOverTooltip=function(){var _a,_b;return null!==(_b=null===(_a=this._selectTooltip)||void 0===_a?void 0:_a.isMouseOver)&&void 0!==_b&&_b},BaseMapProviderContext.prototype.clearMouseTooltip=function(){var _a;null===(_a=this._mouseTooltip)||void 0===_a||_a.clear()},BaseMapProviderContext.prototype.setMouseTooltip=function(text){var _a;null===(_a=this._mouseTooltip)||void 0===_a||_a.setText(text)},BaseMapProviderContext.prototype.handleMouseTooltipMouseMove=function(e){var _a,_b;null===(_b=null===(_a=this._mouseTooltip)||void 0===_a?void 0:_a.onMouseMove)||void 0===_b||_b.call(_a,e)},BaseMapProviderContext.prototype.isLayerHoverable=function(layer){return!(1==(null==layer?void 0:layer.get(common_1.LayerProperty.IS_HOVER_HIGHLIGHT))||1==(null==layer?void 0:layer.get(common_1.LayerProperty.IS_WMS_SELECTION_OVERLAY))||1==(null==layer?void 0:layer.get(common_1.LayerProperty.IS_HEATMAP))||1==(null==layer?void 0:layer.get(common_1.LayerProperty.IS_MEASURE)))},BaseMapProviderContext.prototype.handleHighlightHover=function(e){var _this=this;if(!e.dragging&&this._state.mapName&&this._map){var activeLayerSet=this.getLayerSetGroup(this._state.mapName);if(activeLayerSet){var pixel=this._map.getEventPixel(e.originalEvent);if(pixel){var featureToLayerMap_1=[];this._map.forEachFeatureAtPixel(pixel,(function(feature,layer){_this.isLayerHoverable(layer)&&feature instanceof Feature_1.default&&featureToLayerMap_1.push([feature,layer])}));var feature=featureToLayerMap_1.length?featureToLayerMap_1[0][0]:void 0;feature!=this._highlightedFeature&&feature instanceof Feature_1.default&&(this._highlightedFeature&&activeLayerSet.removeHighlightedFeature(this._highlightedFeature),feature&&activeLayerSet.addHighlightedFeature(feature),this._highlightedFeature=feature)}}}},BaseMapProviderContext.prototype.hideSelectedVectorFeaturesTooltip=function(){var _a;null===(_a=this._selectTooltip)||void 0===_a||_a.hide()},BaseMapProviderContext.prototype.showSelectedVectorFeatures=function(features,pixel,featureToLayerMap,locale){var _a;null===(_a=this._selectTooltip)||void 0===_a||_a.showSelectedVectorFeatures(features,pixel,featureToLayerMap,locale)},BaseMapProviderContext.prototype.queryWmsFeatures=function(mapName,coord,bAppendMode){return(0,tslib_1.__awaiter)(this,void 0,void 0,(function(){var activeLayerSet,layerMgr,res,_this=this;return(0,tslib_1.__generator)(this,(function(_a){switch(_a.label){case 0:return mapName&&this._map?(activeLayerSet=this.getLayerSetGroup(mapName),layerMgr=this.getLayerManager(mapName),(res=this._map.getView().getResolution())&&this._selectTooltip?[4,this._selectTooltip.queryWmsFeatures(activeLayerSet,layerMgr,coord,res,bAppendMode,{getLocale:function getLocale(){return _this._state.locale},addClientSelectedFeature:function addClientSelectedFeature(feat,layer){return _this.addClientSelectedFeature(feat,layer)},addFeatureToHighlight:function addFeatureToHighlight(feat,bAppend){return _this.addFeatureToHighlight(feat,bAppend)},getWmsRequestAugmentations:function getWmsRequestAugmentations(){var _a;return null!==(_a=_this._wmsQueryAugmentations[mapName])&&void 0!==_a?_a:{}}})]:[3,2]):[3,2];case 1:return[2,_a.sent()];case 2:return[2,!1]}}))}))},BaseMapProviderContext.prototype.onImageError=function(e){},BaseMapProviderContext.prototype.addClientSelectedFeature=function(f,l){var _a;if(this._select&&this._select.getFeatures().push(f),this._state.mapName){var features=f.get("features"),theFeature=void 0;if(Array.isArray(features)){if(1!=features.length)return;theFeature=features[0]}else theFeature=f;var p=(0,tslib_1.__assign)({},theFeature.getProperties());delete p[theFeature.getGeometryName()];var feat={bounds:null===(_a=theFeature.getGeometry())||void 0===_a?void 0:_a.getExtent(),properties:p};this.dispatch((0,map_1.addClientSelectedFeature)(this._state.mapName,l.get(common_1.LayerProperty.LAYER_NAME),feat))}},BaseMapProviderContext.prototype.clearClientSelectedFeatures=function(){this._select&&this._select.getFeatures().clear(),this._state.mapName&&this.dispatch((0,map_1.clearClientSelection)(this._state.mapName))},BaseMapProviderContext.prototype.onMapClick=function(e){var _a,_b,_c,_this=this;if(this._comp&&this._map&&(this._comp.isContextMenuOpen()&&(null===(_b=(_a=this._comp).onHideContextMenu)||void 0===_b||_b.call(_a)),!this.isDigitizing())){var featureToLayerMap=[];if(this._state.activeTool==common_1.ActiveMapTool.Select&&this._select&&(this.clearClientSelectedFeatures(),this._map.forEachFeatureAtPixel(e.pixel,(function(feature,layer){0==featureToLayerMap.length&&1==layer.get(common_1.LayerProperty.IS_SELECTABLE)&&feature instanceof Feature_1.default&&featureToLayerMap.push([feature,layer])})),this._select&&1==featureToLayerMap.length)){var _d=featureToLayerMap[0],f=_d[0],l=_d[1];if((0,ol_style_helpers_1.isClusteredFeature)(f)&&(0,ol_style_helpers_1.getClusterSubFeatures)(f).length>1&&(null===(_c=l.get(common_1.LayerProperty.VECTOR_STYLE))||void 0===_c?void 0:_c.getClusterClickAction())==ol_style_contracts_1.ClusterClickAction.ZoomToClusterExtents){var zoomBounds=(0,ol_style_helpers_1.getClusterSubFeatures)(f).reduce((function(bounds,currentFeatures){var g=currentFeatures.getGeometry();return g?olExtent.extend(bounds,g.getExtent()):bounds}),olExtent.createEmpty()),inflatedBounds=inflateBoundsByMeters(this.getProjection(),zoomBounds,20);this.zoomToExtent(inflatedBounds)}else this.addClientSelectedFeature(f,l)}var px=e.pixel;if(0==featureToLayerMap.length)this.hideSelectedVectorFeaturesTooltip(),this._state.activeTool==common_1.ActiveMapTool.Select?this.queryWmsFeatures(this._state.mapName,e.coordinate,false).then((function(madeSelection){madeSelection?console.log("Made WMS selection. Skipping provider click event"):_this.onProviderMapClick(px)})):this.onProviderMapClick(px);else if(this._select){if(this._state.mapName){var activeLayerSet=this.getLayerSetGroup(this._state.mapName);null==activeLayerSet||activeLayerSet.clearWmsSelectionOverlay()}this.showSelectedVectorFeatures(this._select.getFeatures(),px,featureToLayerMap,this._state.locale)}}},BaseMapProviderContext.prototype.initContext=function(layerSet,locale,overviewMapElementSelector){if(this._map){var overviewMapOpts={className:"ol-overviewmap ol-custom-overviewmap",layers:layerSet.getLayersForOverviewMap(),view:new View_1.default({projection:layerSet.getProjection()}),tipLabel:(0,i18n_1.tr)("OL_OVERVIEWMAP_TIP",locale),collapseLabel:String.fromCharCode(187),label:String.fromCharCode(171)};if(overviewMapElementSelector){var el=overviewMapElementSelector();el&&(overviewMapOpts.target=ReactDOM.findDOMNode(el),overviewMapOpts.collapsed=!1,overviewMapOpts.collapsible=!1)}this._ovMap=new OverviewMap_1.default(overviewMapOpts),this._map.addControl(this._ovMap),this.onBeforeAttachingLayerSetGroup(layerSet),layerSet.attach(this._map,this._ovMap,!1)}},BaseMapProviderContext.prototype.onBeforeAttachingLayerSetGroup=function(layerSetGroup){},BaseMapProviderContext.prototype.setToasterRef=function(ref){this._toasterRef=ref},BaseMapProviderContext.prototype.onKeyDown=function(e){var _a,_b,cancelKey=null!==(_a=this._state.cancelDigitizationKey)&&void 0!==_a?_a:common_1.KC_ESCAPE,undoKey=null!==(_b=this._state.undoLastPointKey)&&void 0!==_b?_b:common_1.KC_U;e.keyCode==cancelKey?this.cancelDigitization():e.keyCode==undoKey&&this._activeDrawInteraction&&this._activeDrawInteraction.removeLastPoint()},BaseMapProviderContext.prototype.isDigitizing=function(){return!!this._map&&null!=this._map.getInteractions().getArray().filter((function(inter){return inter instanceof Draw_1.default}))[0]},BaseMapProviderContext.prototype.detachFromComponent=function(){var _a,_b,_c,_d,_e,_f,_g,_h,_j,_k,_l,_m;this._comp=void 0,null===(_a=this._select)||void 0===_a||_a.dispose(),this._select=void 0,this._boundZoomSelectBox&&(null===(_b=this._zoomSelectBox)||void 0===_b||_b.un("boxend",this._boundZoomSelectBox),this._boundZoomSelectBox=void 0),this._boundClick&&(null===(_c=this._map)||void 0===_c||_c.un("click",this._boundClick),this._boundClick=void 0),this._boundMouseMove&&(null===(_d=this._map)||void 0===_d||_d.un("pointermove",this._boundMouseMove),this._boundMouseMove=void 0),this._boundResize&&(null===(_e=this._map)||void 0===_e||_e.un("change:size",this._boundResize),this._boundResize=void 0),this._boundMoveEnd&&(null===(_f=this._map)||void 0===_f||_f.un("moveend",this._boundMoveEnd),this._boundMoveEnd=void 0),null===(_g=this._zoomSelectBox)||void 0===_g||_g.dispose(),this._zoomSelectBox=void 0,null===(_h=this._activeDrawInteraction)||void 0===_h||_h.dispose(),this._activeDrawInteraction=null,null===(_j=this._selectTooltip)||void 0===_j||_j.dispose(),this._selectTooltip=void 0,null===(_k=this._mouseTooltip)||void 0===_k||_k.dispose(),this._mouseTooltip=void 0,null===(_l=this._map)||void 0===_l||_l.setTarget(void 0),null===(_m=this._ovMap)||void 0===_m||_m.setMap(void 0),this._map=void 0,this._ovMap=void 0,(0,logger_1.debug)("Map provider context detached from component and reset to initial state")},BaseMapProviderContext.prototype.onMoveEnd=function(e){var _a,_b;this._triggerZoomRequestOnMoveEnd?null===(_a=this._comp)||void 0===_a||_a.onDispatch((0,map_1.setCurrentView)(this.getCurrentView())):(0,logger_1.info)("Triggering zoom request on moveend suppresseed"),e.frameState.viewState.rotation!=this._state.viewRotation&&(null===(_b=this._comp)||void 0===_b||_b.onDispatch((0,map_1.setViewRotation)(e.frameState.viewState.rotation)))},BaseMapProviderContext.prototype.attachToComponent=function(el,comp){var _this=this;this._comp=comp,this._select=new Select_1.default({condition:function condition(e){return!1},layers:function layers(layer){return 1==layer.get(common_1.LayerProperty.IS_SELECTABLE)||1==layer.get(common_1.LayerProperty.IS_SCRATCH)}}),this._zoomSelectBox=new DragBox_1.default({condition:function condition(e){var startingMiddleMouseDrag="pointerdown"==e.type&&isMiddleMouseDownEvent(e.originalEvent);return!(_this.isDigitizing()||startingMiddleMouseDrag||_this._state.activeTool!==common_1.ActiveMapTool.Select&&_this._state.activeTool!==common_1.ActiveMapTool.Zoom)}}),this._boundZoomSelectBox=this.onZoomSelectBox.bind(this),this._boundMouseMove=this.onMouseMove.bind(this),this._boundResize=this.onResize.bind(this),this._boundClick=this.onMapClick.bind(this),this._boundMoveEnd=this.onMoveEnd.bind(this),this._zoomSelectBox.on("boxend",this._boundZoomSelectBox);var mapOptions={target:el,controls:[new Attribution_1.default({tipLabel:(0,i18n_1.tr)("OL_ATTRIBUTION_TIP",this._state.locale)}),new Rotate_1.default({tipLabel:(0,i18n_1.tr)("OL_RESET_ROTATION_TIP",this._state.locale)})],interactions:[this._select,new DragRotate_1.default,new DragPan_1.default({condition:function condition(e){return"pointerdown"==e.type&&isMiddleMouseDownEvent(e.originalEvent)||_this._supportsTouch||_this._state.activeTool===common_1.ActiveMapTool.Pan}}),new PinchRotate_1.default,new PinchZoom_1.default,new KeyboardPan_1.default,new KeyboardZoom_1.default,new MouseWheelZoom_1.default,this._zoomSelectBox]};this._map=new Map_1.default(mapOptions);var activeLayerSet=this.ensureAndGetLayerSetGroup(this._state);if(this.initContext(activeLayerSet,this._state.locale,this._state.overviewMapElementSelector),this._mouseTooltip=new mouse_1.MouseTrackingTooltip(this._map,this._comp.isContextMenuOpen),this._selectTooltip=new selected_features_1.SelectedFeaturesTooltip(this._map,this),this._map.on("pointermove",this._boundMouseMove),this._map.on("change:size",this._boundResize),this._map.on("click",this._boundClick),this._map.on("moveend",this._boundMoveEnd),this._state.view){var _a=this._state.view,x=_a.x,y=_a.y,scale=_a.scale;this.zoomToView(x,y,scale)}else{var extents=activeLayerSet.getExtent();this._map.getView().fit(extents)}this.onResize(this._map.getSize())},BaseMapProviderContext.prototype.scaleToResolution=function(scale){(0,assert_1.assertIsDefined)(this._state.mapName);var activeLayerSet=this.getLayerSetGroup(this._state.mapName);return(0,assert_1.assertIsDefined)(activeLayerSet),activeLayerSet.scaleToResolution(scale)},BaseMapProviderContext.prototype.resolutionToScale=function(resolution){(0,assert_1.assertIsDefined)(this._state.mapName);var activeLayerSet=this.getLayerSetGroup(this._state.mapName);return(0,assert_1.assertIsDefined)(activeLayerSet),activeLayerSet.resolutionToScale(resolution)},BaseMapProviderContext.prototype.getCurrentView=function(){var ov=this.getOLView(),center=ov.getCenter(),resolution=ov.getResolution(),scale=this.resolutionToScale(resolution);return{x:center[0],y:center[1],scale:scale,resolution:resolution}},BaseMapProviderContext.prototype.getCurrentExtent=function(){return(0,assert_1.assertIsDefined)(this._map),this._map.getView().calculateExtent(this._map.getSize())},BaseMapProviderContext.prototype.getSize=function(){return(0,assert_1.assertIsDefined)(this._map),this._map.getSize()},BaseMapProviderContext.prototype.getOLView=function(){return(0,assert_1.assertIsDefined)(this._map),this._map.getView()},BaseMapProviderContext.prototype.zoomToView=function(x,y,scale){if(this._map){var view=this._map.getView();view.setCenter([x,y]),view.setResolution(this.scaleToResolution(scale))}},BaseMapProviderContext.prototype.refreshMap=function(mode){void 0===mode&&(mode=common_1.RefreshMode.LayersOnly|common_1.RefreshMode.SelectionOnly)},BaseMapProviderContext.prototype.getMetersPerUnit=function(){(0,assert_1.assertIsDefined)(this._state.mapName);var activeLayerSet=this.getLayerSetGroup(this._state.mapName);return(0,assert_1.assertIsDefined)(activeLayerSet),activeLayerSet.getMetersPerUnit()},BaseMapProviderContext.prototype.initialView=function(){(0,assert_1.assertIsDefined)(this._comp),(0,assert_1.assertIsDefined)(this._state.mapName);var activeLayerSet=this.getLayerSetGroup(this._state.mapName);(0,assert_1.assertIsDefined)(activeLayerSet),this._comp.onDispatch((0,map_1.setCurrentView)(this.getViewForExtent(activeLayerSet.getExtent())))},BaseMapProviderContext.prototype.zoomDelta=function(delta){this.zoomByDelta(delta)},BaseMapProviderContext.prototype.zoomToExtent=function(extent){var _a;null===(_a=this._comp)||void 0===_a||_a.onDispatch((0,map_1.setCurrentView)(this.getViewForExtent(extent)))},BaseMapProviderContext.prototype.digitizePoint=function(handler,prompt){(0,assert_1.assertIsDefined)(this._comp);var draw=new Draw_1.default({type:GeometryType_1.default.POINT});this.pushDrawInteraction("Point",draw,handler,prompt||(0,i18n_1.tr)("DIGITIZE_POINT_PROMPT",this._state.locale))},BaseMapProviderContext.prototype.digitizeLine=function(handler,prompt){(0,assert_1.assertIsDefined)(this._comp);var draw=new Draw_1.default({type:GeometryType_1.default.LINE_STRING,minPoints:2,maxPoints:2});this.pushDrawInteraction("Line",draw,handler,prompt||(0,i18n_1.tr)("DIGITIZE_LINE_PROMPT",this._state.locale))},BaseMapProviderContext.prototype.digitizeLineString=function(handler,prompt){var _a;(0,assert_1.assertIsDefined)(this._comp);var draw=new Draw_1.default({type:GeometryType_1.default.LINE_STRING,minPoints:2});this.pushDrawInteraction("LineString",draw,handler,prompt||(0,i18n_1.tr)("DIGITIZE_LINESTRING_PROMPT",this._state.locale,{key:String.fromCharCode(null!==(_a=this._state.undoLastPointKey)&&void 0!==_a?_a:common_1.KC_U)}))},BaseMapProviderContext.prototype.digitizeCircle=function(handler,prompt){(0,assert_1.assertIsDefined)(this._comp);var draw=new Draw_1.default({type:GeometryType_1.default.CIRCLE});this.pushDrawInteraction("Circle",draw,handler,prompt||(0,i18n_1.tr)("DIGITIZE_CIRCLE_PROMPT",this._state.locale))},BaseMapProviderContext.prototype.digitizeRectangle=function(handler,prompt){(0,assert_1.assertIsDefined)(this._comp);var draw=new Draw_1.default({type:GeometryType_1.default.LINE_STRING,maxPoints:2,geometryFunction:function geomFunc(coordinates,geometry){geometry||(geometry=new Polygon_1.default([]));var start=coordinates[0],end=coordinates[1];return geometry.setCoordinates([[start,[start[0],end[1]],end,[end[0],start[1]],start]]),geometry}});this.pushDrawInteraction("Rectangle",draw,handler,prompt||(0,i18n_1.tr)("DIGITIZE_RECT_PROMPT",this._state.locale))},BaseMapProviderContext.prototype.digitizePolygon=function(handler,prompt){var _a;(0,assert_1.assertIsDefined)(this._comp);var draw=new Draw_1.default({type:GeometryType_1.default.POLYGON});this.pushDrawInteraction("Polygon",draw,handler,prompt||(0,i18n_1.tr)("DIGITIZE_POLYGON_PROMPT",this._state.locale,{key:String.fromCharCode(null!==(_a=this._state.undoLastPointKey)&&void 0!==_a?_a:common_1.KC_U)}))},BaseMapProviderContext.prototype.addInteraction=function(interaction){return(0,assert_1.assertIsDefined)(this._map),this._map.addInteraction(interaction),interaction},BaseMapProviderContext.prototype.removeInteraction=function(interaction){var _a;null===(_a=this._map)||void 0===_a||_a.removeInteraction(interaction)},BaseMapProviderContext.prototype.addOverlay=function(overlay){var _a;null===(_a=this._map)||void 0===_a||_a.addOverlay(overlay)},BaseMapProviderContext.prototype.removeOverlay=function(overlay){var _a;null===(_a=this._map)||void 0===_a||_a.removeOverlay(overlay)},BaseMapProviderContext.prototype.getProjection=function(){return(0,assert_1.assertIsDefined)(this._map),this._map.getView().getProjection()},BaseMapProviderContext.prototype.addHandler=function(eventName,handler){var _a;null===(_a=this._map)||void 0===_a||_a.on(eventName,handler)},BaseMapProviderContext.prototype.removeHandler=function(eventName,handler){var _a;null===(_a=this._map)||void 0===_a||_a.un(eventName,handler)},BaseMapProviderContext.prototype.updateSize=function(){var _a;null===(_a=this._map)||void 0===_a||_a.updateSize()},BaseMapProviderContext.prototype.getLayerManagerForLayerSet=function(layerSet){return(0,assert_1.assertIsDefined)(this._map),new layer_manager_1.LayerManager(this._map,layerSet)},BaseMapProviderContext.prototype.getLayerManager=function(mapName){(0,assert_1.assertIsDefined)(this._map),(0,assert_1.assertIsDefined)(this._state.mapName);var layerSet=this.ensureAndGetLayerSetGroup(this._state);return this.getLayerManagerForLayerSet(layerSet)},BaseMapProviderContext.prototype.screenToMapUnits=function(x,y){var _a=this.getSize(),mapDevW=_a[0],mapDevH=_a[1],_b=this.getCurrentExtent(),extX1=_b[0],extY1=_b[1];return x>mapDevW-1?x=mapDevW-1:x<0&&(x=0),y>mapDevH-1?y=mapDevH-1:y<0&&(y=0),[x=extX1+x/mapDevW*(_b[2]-extX1),y=extY1-y/mapDevH*(extY1-_b[3])]},BaseMapProviderContext.prototype.getSelectedFeatures=function(){var _a;return null===(_a=this._select)||void 0===_a?void 0:_a.getFeatures()},BaseMapProviderContext.prototype.getPointSelectionBox=function(point,ptBuffer){(0,assert_1.assertIsDefined)(this._map);var ll=this._map.getCoordinateFromPixel([point[0]-ptBuffer,point[1]-ptBuffer]),ur=this._map.getCoordinateFromPixel([point[0]+ptBuffer,point[1]+ptBuffer]);return[ll[0],ll[1],ur[0],ur[1]]},BaseMapProviderContext.prototype.getResolution=function(){return(0,assert_1.assertIsDefined)(this._map),this._map.getView().getResolution()},BaseMapProviderContext.prototype.updateOverviewMapElement=function(overviewMapElementSelector){if(this._ovMap){var el=overviewMapElementSelector();el?(this._ovMap.setCollapsed(!1),this._ovMap.setCollapsible(!1),this._ovMap.setTarget(ReactDOM.findDOMNode(el))):(this._ovMap.setCollapsed(!0),this._ovMap.setCollapsible(!0),this._ovMap.setTarget(null))}},BaseMapProviderContext}();exports.BaseMapProviderContext=BaseMapProviderContext},47954:function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MapContextProvider=exports.useMapProviderContext=exports.MapProviderContextProvider=exports.useAppState=exports.useReduxDispatch=exports.ReduxProvider=void 0;var React=(0,__webpack_require__(70655).__importStar)(__webpack_require__(67294)),react_redux_1=__webpack_require__(28216),MapProviderContext=React.createContext({}),ReduxProvider=function ReduxProvider(_a){var store=_a.store,children=_a.children;return React.createElement(react_redux_1.Provider,{store:store},children)};function useReduxDispatch(){return(0,react_redux_1.useDispatch)()}function useAppState(selector,equalityFn){return(0,react_redux_1.useSelector)(selector,equalityFn)}exports.ReduxProvider=ReduxProvider,exports.useReduxDispatch=useReduxDispatch,exports.useAppState=useAppState;var MapProviderContextProvider=function MapProviderContextProvider(_a){var value=_a.value,children=_a.children;return React.createElement(MapProviderContext.Provider,{value:value},children)};function useMapProviderContext(){return React.useContext(MapProviderContext)}exports.MapProviderContextProvider=MapProviderContextProvider,exports.useMapProviderContext=useMapProviderContext;var MapContextProvider=function MapContextProvider(_a){var value=_a.value,store=_a.store,children=_a.children,inner=children;return store&&(inner=React.createElement(exports.ReduxProvider,{store:store},children)),React.createElement(exports.MapProviderContextProvider,{value:value},inner)};exports.MapContextProvider=MapContextProvider;try{useReduxDispatch.displayName="useReduxDispatch",useReduxDispatch.__docgenInfo={description:"Wraps useDispatch from react-redux",displayName:"useReduxDispatch",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/map-providers/context.tsx#useReduxDispatch"]={docgenInfo:useReduxDispatch.__docgenInfo,name:"useReduxDispatch",path:"src/components/map-providers/context.tsx#useReduxDispatch"})}catch(__react_docgen_typescript_loader_error){}try{useAppState.displayName="useAppState",useAppState.__docgenInfo={description:"Fetches the requested sub-section of the application state",displayName:"useAppState",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/map-providers/context.tsx#useAppState"]={docgenInfo:useAppState.__docgenInfo,name:"useAppState",path:"src/components/map-providers/context.tsx#useAppState"})}catch(__react_docgen_typescript_loader_error){}try{useMapProviderContext.displayName="useMapProviderContext",useMapProviderContext.__docgenInfo={description:"Obtains the current map provider context, which provides imperative access to the current map",displayName:"useMapProviderContext",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/map-providers/context.tsx#useMapProviderContext"]={docgenInfo:useMapProviderContext.__docgenInfo,name:"useMapProviderContext",path:"src/components/map-providers/context.tsx#useMapProviderContext"})}catch(__react_docgen_typescript_loader_error){}try{ReduxProvider.displayName="ReduxProvider",ReduxProvider.__docgenInfo={description:"Wraps the provider component of react-redux",displayName:"ReduxProvider",props:{store:{defaultValue:null,description:"",name:"store",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/map-providers/context.tsx#ReduxProvider"]={docgenInfo:ReduxProvider.__docgenInfo,name:"ReduxProvider",path:"src/components/map-providers/context.tsx#ReduxProvider"})}catch(__react_docgen_typescript_loader_error){}try{MapProviderContextProvider.displayName="MapProviderContextProvider",MapProviderContextProvider.__docgenInfo={description:"",displayName:"MapProviderContextProvider",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"IMapProviderContext"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/map-providers/context.tsx#MapProviderContextProvider"]={docgenInfo:MapProviderContextProvider.__docgenInfo,name:"MapProviderContextProvider",path:"src/components/map-providers/context.tsx#MapProviderContextProvider"})}catch(__react_docgen_typescript_loader_error){}try{MapContextProvider.displayName="MapContextProvider",MapContextProvider.__docgenInfo={description:"",displayName:"MapContextProvider",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"IMapProviderContext"}},store:{defaultValue:null,description:"",name:"store",required:!1,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/map-providers/context.tsx#MapContextProvider"]={docgenInfo:MapContextProvider.__docgenInfo,name:"MapContextProvider",path:"src/components/map-providers/context.tsx#MapContextProvider"})}catch(__react_docgen_typescript_loader_error){}},39695:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(69600),__webpack_require__(21249),Object.defineProperty(exports,"__esModule",{value:!0}),exports.MapGuideMapProviderContext=exports.isMapGuideProviderState=void 0;var tslib_1=__webpack_require__(70655),client_1=__webpack_require__(61772),session_keep_alive_1=__webpack_require__(19051),common_1=__webpack_require__(18036),WKT_1=(0,tslib_1.__importDefault)(__webpack_require__(75861)),Polygon_1=__webpack_require__(2033),map_1=__webpack_require__(83552),View_1=(0,tslib_1.__importDefault)(__webpack_require__(59220)),lodash_debounce_1=(0,tslib_1.__importDefault)(__webpack_require__(91296)),viewer_state_1=__webpack_require__(39116),array_1=__webpack_require__(24698),mg_layer_set_group_1=__webpack_require__(68442),feature_1=__webpack_require__(11609),logger_1=__webpack_require__(97838),site_version_1=__webpack_require__(98355),constants_1=__webpack_require__(12872),error_1=__webpack_require__(59404),base_1=__webpack_require__(90051),assert_1=__webpack_require__(47575),string_1=__webpack_require__(53775),url_1=__webpack_require__(7976),actions_1=__webpack_require__(4485),deArrayify_1=__webpack_require__(99729),hooks_1=__webpack_require__(17269),hooks_mapguide_1=__webpack_require__(76457),context_1=__webpack_require__(47954),utfgrid_1=__webpack_require__(72900),Tile_1=(0,tslib_1.__importDefault)(__webpack_require__(92479)),UTFGrid_1=(0,tslib_1.__importDefault)(__webpack_require__(67548)),hooks_generic_1=__webpack_require__(59099),type_guards_1=__webpack_require__(64726);function useMapGuideViewerState(){var bgColor,activeSelectedFeatureXml,activeTool=(0,hooks_1.useViewerActiveTool)(),view=(0,hooks_1.useActiveMapView)(),viewRotation=(0,hooks_1.useViewerViewRotation)(),viewRotationEnabled=(0,hooks_1.useViewerViewRotationEnabled)(),mapName=(0,hooks_1.useActiveMapName)(),locale=(0,hooks_1.useViewerLocale)(),externalBaseLayers=(0,hooks_1.useActiveMapExternalBaseLayers)(!0),cancelDigitizationKey=(0,hooks_1.useConfiguredCancelDigitizationKey)(),undoLastPointKey=(0,hooks_1.useConfiguredUndoLastPointKey)(),layers=(0,hooks_1.useActiveMapLayers)(),initialExternalLayers=(0,hooks_1.useActiveMapInitialExternalLayers)(),appSettings=((0,context_1.useReduxDispatch)(),(0,hooks_1.useCustomAppSettings)()),subject=(0,hooks_generic_1.useActiveMapSubjectLayer)(),stateless=(0,hooks_1.useViewerIsStateless)(),imageFormat=(0,hooks_1.useViewerImageFormat)(),agentUri=(0,hooks_1.useConfiguredAgentUri)(),agentKind=(0,hooks_1.useConfiguredAgentKind)(),map=(0,hooks_mapguide_1.useActiveMapState)(),pointSelectionBuffer=(0,hooks_1.useViewerPointSelectionBuffer)(),featureTooltipsEnabled=(0,hooks_1.useViewerFeatureTooltipsEnabled)(),manualFeatureTooltips=(0,hooks_1.useConfiguredManualFeatureTooltips)(),sessionId=(0,hooks_mapguide_1.useActiveMapSessionId)(),selectionColor=(0,hooks_1.useViewerSelectionColor)(),selectionImageFormat=(0,hooks_1.useViewerSelectionImageFormat)(),selectableLayerNames=(0,hooks_mapguide_1.useActiveMapSelectableLayerNames)(),layerTransparency=(0,hooks_mapguide_1.useActiveMapLayerTransparency)(),showGroups=(0,hooks_mapguide_1.useActiveMapShowGroups)(),hideGroups=(0,hooks_mapguide_1.useActiveMapHideGroups)(),showLayers=(0,hooks_mapguide_1.useActiveMapShowLayers)(),hideLayers=(0,hooks_mapguide_1.useActiveMapHideLayers)(),activeSelectedFeature=(0,hooks_mapguide_1.useActiveMapActiveSelectedFeature)(),activeSelectedFeatureColor=(0,hooks_1.useViewerActiveFeatureSelectionColor)(),selection=(0,hooks_1.useActiveMapSelectionSet)();map&&(bgColor="#"+map.BackgroundColor.substring(2)),activeSelectedFeature&&selection&&selection.FeatureSet&&(activeSelectedFeatureXml=(0,deArrayify_1.getActiveSelectedFeatureXml)(selection.FeatureSet,activeSelectedFeature));var theMap=null!=map?map:subject,isReady=!1;return theMap?(subject&&layerTransparency||agentUri&&theMap&&layerTransparency&&(stateless||(0,type_guards_1.isRuntimeMap)(theMap)&&sessionId))&&(isReady=!0):(isReady=!1,theMap={}),{stateless:stateless,activeTool:activeTool,view:view,viewRotation:viewRotation,viewRotationEnabled:viewRotationEnabled,mapName:mapName,locale:locale,externalBaseLayers:externalBaseLayers,cancelDigitizationKey:cancelDigitizationKey,undoLastPointKey:undoLastPointKey,initialExternalLayers:initialExternalLayers,appSettings:null!=appSettings?appSettings:{},isReady:isReady,bgColor:bgColor,layers:layers,imageFormat:imageFormat,agentUri:agentUri,agentKind:agentKind,map:theMap,pointSelectionBuffer:pointSelectionBuffer,featureTooltipsEnabled:featureTooltipsEnabled,manualFeatureTooltips:manualFeatureTooltips,sessionId:sessionId,selectionColor:selectionColor,selectionImageFormat:selectionImageFormat,selectableLayerNames:selectableLayerNames,layerTransparency:layerTransparency,showGroups:null!=showGroups?showGroups:[],hideGroups:null!=hideGroups?hideGroups:[],showLayers:null!=showLayers?showLayers:[],hideLayers:null!=hideLayers?hideLayers:[],activeSelectedFeatureXml:null!=activeSelectedFeatureXml?activeSelectedFeatureXml:string_1.STR_EMPTY,activeSelectedFeatureColor:activeSelectedFeatureColor,selection:selection}}exports.isMapGuideProviderState=function isMapGuideProviderState(arg){return"string"==typeof arg.agentUri&&"string"==typeof arg.agentKind};var MapGuideMapProviderContext=function(_super){function MapGuideMapProviderContext(mockMode){void 0===mockMode&&(mockMode=void 0);var _this=_super.call(this)||this;return _this.mockMode=mockMode,_this.onOpenTooltipLink=function(url){var _a,fixedUrl=url;_this._state.mapName&&_this._state.sessionId&&(fixedUrl=(0,url_1.ensureParameters)(url,_this._state.mapName,_this._state.sessionId,_this._state.locale)),null===(_a=_this._comp)||void 0===_a||_a.onDispatch({type:actions_1.ActionType.TASK_INVOKE_URL,payload:{url:fixedUrl}})},_this._wktFormat=new WKT_1.default,_this.refreshOnStateChange=(0,lodash_debounce_1.default)(_this._refreshOnStateChange.bind(_this),500),_this}return(0,tslib_1.__extends)(MapGuideMapProviderContext,_super),MapGuideMapProviderContext.prototype.getHookFunction=function(){return useMapGuideViewerState},MapGuideMapProviderContext.prototype.setMockMode=function(mode){this.mockMode=mode},MapGuideMapProviderContext.prototype.hideAllPopups=function(){var _a;_super.prototype.hideAllPopups.call(this),null===(_a=this._featureTooltip)||void 0===_a||_a.setEnabled(!1)},MapGuideMapProviderContext.prototype.getMockMode=function(){return this.mockMode},MapGuideMapProviderContext.prototype.getInitialProviderState=function(){return{stateless:!1,imageFormat:"PNG8",agentUri:void 0,agentKind:"mapagent",map:{},pointSelectionBuffer:2,featureTooltipsEnabled:!0,manualFeatureTooltips:!1,sessionId:void 0,selectionColor:"0000FF",selectionImageFormat:"PNG8",selectableLayerNames:[],layerTransparency:{},appSettings:{},showGroups:[],hideGroups:[],showLayers:[],hideLayers:[],activeSelectedFeatureXml:string_1.STR_EMPTY,activeSelectedFeatureColor:"FF0000",selection:null}},MapGuideMapProviderContext.prototype.getProviderName=function(){return"MapGuide"},MapGuideMapProviderContext.prototype.mapguideSupport=function(){return this},MapGuideMapProviderContext.prototype.getSelection=function(){return this._state.selection},MapGuideMapProviderContext.prototype.getSelectionXml=function(selection,layerIds){return(0,deArrayify_1.buildSelectionXml)(selection,layerIds)},MapGuideMapProviderContext.prototype.getSessionId=function(){return this._state.sessionId},MapGuideMapProviderContext.prototype.setFeatureTooltipEnabled=function(enabled){var _a;null===(_a=this._comp)||void 0===_a||_a.onDispatch((0,map_1.setFeatureTooltipsEnabled)(enabled))},MapGuideMapProviderContext.prototype.onSessionExpired=function(){},MapGuideMapProviderContext.prototype.onProviderMapClick=function(px){var _a;if(this._state.mapName&&this._state.sessionId)if(this._state.manualFeatureTooltips&&this._state.featureTooltipsEnabled)this.queryFeatureTooltip(px);else if(this._state.activeTool===common_1.ActiveMapTool.Select){var ptBuffer=null!==(_a=this._state.pointSelectionBuffer)&&void 0!==_a?_a:2,box=this.getPointSelectionBox(px,ptBuffer),geom=(0,Polygon_1.fromExtent)(box),options=this.buildDefaultQueryOptions(geom);options.maxfeatures=1,this.sendSelectionQuery(options)}},MapGuideMapProviderContext.prototype.onMouseMove=function(e){var _a,_b;if(this._comp){if(this.handleMouseTooltipMouseMove(e),this.handleHighlightHover(e),this._comp.isContextMenuOpen())return;this._state.manualFeatureTooltips||this.handleFeatureTooltipMouseMove(e),this._utfGridTooltip&&this._utfGridTooltip.onMouseMove(e),this._state.mapName&&(null===(_b=(_a=this._comp).onDispatch)||void 0===_b||_b.call(_a,(0,map_1.setMouseCoordinates)(this._state.mapName,e.coordinate)))}},MapGuideMapProviderContext.prototype.queryFeatureTooltip=function(pixel){!this._state.stateless&&this._featureTooltip&&this._featureTooltip.isEnabled()&&this._featureTooltip.raiseQueryFromPoint(pixel)},MapGuideMapProviderContext.prototype.handleFeatureTooltipMouseMove=function(e){!this._state.stateless&&this._featureTooltip&&this._featureTooltip.isEnabled()&&this._featureTooltip.onMouseMove(e)},MapGuideMapProviderContext.prototype.enableFeatureTooltips=function(enabled){var _a;null===(_a=this._featureTooltip)||void 0===_a||_a.setEnabled(enabled)},MapGuideMapProviderContext.prototype.refreshMapInternal=function(name,mode){void 0===mode&&(mode=common_1.RefreshMode.LayersOnly|common_1.RefreshMode.SelectionOnly);var layerSet=this.getLayerSetGroup(name);null==layerSet||layerSet.refreshMap(mode)},MapGuideMapProviderContext.prototype.showSelectedFeature=function(mapExtent,size,map,selectionColor,featureXml){return(0,tslib_1.__awaiter)(this,void 0,void 0,(function(){var sv,layerSet,r,dataUri;return(0,tslib_1.__generator)(this,(function(_a){switch(_a.label){case 0:if(sv=(0,site_version_1.getSiteVersion)(map),!(0,site_version_1.canUseQueryMapFeaturesV4)(sv))return[2];layerSet=this.getLayerSetGroup(map.Name),_a.label=1;case 1:return _a.trys.push([1,5,,6]),featureXml?[4,this._client.queryMapFeatures_v4({mapname:map.Name,session:map.SessionId,selectionformat:"PNG",featurefilter:featureXml,selectioncolor:selectionColor,requestdata:2,layerattributefilter:0,persist:0})]:[3,3];case 2:return(r=_a.sent()).InlineSelectionImage?(dataUri="data:"+r.InlineSelectionImage.MimeType+";base64,"+r.InlineSelectionImage.Content,null==layerSet||layerSet.showActiveSelectedFeature(mapExtent,size,dataUri)):null==layerSet||layerSet.showActiveSelectedFeature(mapExtent,common_1.BLANK_SIZE,constants_1.BLANK_GIF_DATA_URI),[3,4];case 3:null==layerSet||layerSet.showActiveSelectedFeature(mapExtent,common_1.BLANK_SIZE,constants_1.BLANK_GIF_DATA_URI),_a.label=4;case 4:return[3,6];case 5:return _a.sent(),null==layerSet||layerSet.showActiveSelectedFeature(mapExtent,common_1.BLANK_SIZE,constants_1.BLANK_GIF_DATA_URI),[3,6];case 6:return[2]}}))}))},MapGuideMapProviderContext.prototype._refreshOnStateChange=function(mapName,showGroups,showLayers,hideGroups,hideLayers){if(showGroups||showLayers||hideGroups||hideLayers){var layerSet=this.getLayerSetGroup(mapName);layerSet instanceof mg_layer_set_group_1.MgLayerSetGroup&&(layerSet.setMapGuideMocking(this.getMockMode()),layerSet.update(showGroups,showLayers,hideGroups,hideLayers))}},MapGuideMapProviderContext.prototype.onImageError=function(e){var _a,_this=this;null===(_a=this._keepAlive)||void 0===_a||_a.lastTry().catch((function(err){(0,error_1.isSessionExpiredError)(err)&&_this.onSessionExpired()}))},MapGuideMapProviderContext.prototype.getSelectableLayers=function(){var _a;return null!==(_a=this._state.selectableLayerNames)&&void 0!==_a?_a:[]},MapGuideMapProviderContext.prototype.buildDefaultQueryOptions=function(geom,reqQueryFeatures){void 0===reqQueryFeatures&&(reqQueryFeatures=1),(0,assert_1.assertIsDefined)(this._state.sessionId),(0,assert_1.assertIsDefined)(this._state.mapName);var wkt,names=this.getSelectableLayers();return wkt="string"==typeof geom?geom:this._wktFormat.writeGeometry(geom),{mapname:this._state.mapName,session:this._state.sessionId,geometry:wkt,requestdata:reqQueryFeatures,layernames:names.length>0?names.join(","):void 0,persist:1}},MapGuideMapProviderContext.prototype.selectFeaturesByExtent=function(geom){this._state.mapName&&this._comp&&this._state.sessionId&&this._state.selectionColor&&this.sendSelectionQuery(this.buildDefaultQueryOptions(geom))},MapGuideMapProviderContext.prototype.initLayerSet=function(nextState){var _this=this,mapName=nextState.mapName;(0,assert_1.assertIsDefined)(mapName),(0,assert_1.assertIsDefined)(this._state.map);var layerSet=new mg_layer_set_group_1.MgLayerSetGroup(nextState,{getImageLoaders:function getImageLoaders(){return _super.prototype.getImageSourceLoaders.call(_this,mapName)},getTileLoaders:function getTileLoaders(){return _super.prototype.getTileSourceLoaders.call(_this,mapName)},getBaseTileLoaders:function getBaseTileLoaders(){return _super.prototype.getBaseTileSourceLoaders.call(_this,mapName)},getMockMode:function getMockMode(){return _this.getMockMode()},incrementBusyWorker:function incrementBusyWorker(){return _this.incrementBusyWorker()},decrementBusyWorker:function decrementBusyWorker(){return _this.decrementBusyWorker()},addImageLoading:function addImageLoading(){var _a;return null===(_a=_this._comp)||void 0===_a?void 0:_a.addImageLoading()},addImageLoaded:function addImageLoaded(){var _a;return null===(_a=_this._comp)||void 0===_a?void 0:_a.addImageLoaded()},onImageError:function onImageError(e){return _this.onImageError(e)},onSessionExpired:function onSessionExpired(){return _this.onSessionExpired()},getSelectableLayers:function getSelectableLayers(){return _this.getSelectableLayers()},getClient:function getClient(){return _this._client},isContextMenuOpen:function isContextMenuOpen(){var _a,_b;return null!==(_b=null===(_a=_this._comp)||void 0===_a?void 0:_a.isContextMenuOpen())&&void 0!==_b&&_b},getAgentUri:function getAgentUri(){return _this._state.agentUri},getAgentKind:function getAgentKind(){return _this._state.agentKind},getMapName:function getMapName(){return _this._state.mapName},getSessionId:function getSessionId(){return _this._state.sessionId},getLocale:function getLocale(){return _this._state.locale},isFeatureTooltipEnabled:function isFeatureTooltipEnabled(){return _this.isFeatureTooltipEnabled()},getPointSelectionBox:function getPointSelectionBox(pt){return _this.getPointSelectionBox(pt,_this._state.pointSelectionBuffer)},openTooltipLink:function openTooltipLink(url){return _this.onOpenTooltipLink(url)},addFeatureToHighlight:function addFeatureToHighlight(feat,bAppend){return _this.addFeatureToHighlight(feat,bAppend)}});return this._layerSetGroups[mapName]=layerSet,layerSet.update(nextState.showGroups,nextState.showLayers,nextState.hideGroups,nextState.hideLayers),layerSet},MapGuideMapProviderContext.prototype.isMouseOverTooltip=function(){var _a,_b;return 1==(null===(_a=this._featureTooltip)||void 0===_a?void 0:_a.isMouseOver)||1==(null===(_b=this._selectTooltip)||void 0===_b?void 0:_b.isMouseOver)},MapGuideMapProviderContext.prototype.detachFromComponent=function(){var _a,_b;null===(_a=this._keepAlive)||void 0===_a||_a.dispose(),this._keepAlive=void 0,null===(_b=this._featureTooltip)||void 0===_b||_b.dispose(),this._featureTooltip=void 0,_super.prototype.detachFromComponent.call(this)},MapGuideMapProviderContext.prototype.attachToComponent=function(el,comp){var _a,_b,_c,_d,_this=this;_super.prototype.attachToComponent.call(this,el,comp);var bCheckSession=null!==(_a=this._state.map&&(0,type_guards_1.isRuntimeMap)(this._state.map))&&void 0!==_a&&_a;this._keepAlive=new session_keep_alive_1.SessionKeepAlive((function(){return _this._state.sessionId}),this._client,this.onSessionExpired.bind(this),bCheckSession);var utfGridLayer=(0,base_1.recursiveFindLayer)(this._map.getLayers(),(function(oll){if(oll instanceof Tile_1.default&&oll.getSource()instanceof UTFGrid_1.default)return!0;return!1}));if(utfGridLayer){var source=utfGridLayer.getSource();this._utfGridTooltip=new utfgrid_1.UTFGridTrackingTooltip(this._map,source,null!==(_c=null===(_b=this._comp)||void 0===_b?void 0:_b.isContextMenuOpen)&&void 0!==_c?_c:function(){return!1})}null!==(_d=this._state.map&&(0,type_guards_1.isRuntimeMap)(this._state.map))&&void 0!==_d&&_d&&(this._featureTooltip=new feature_1.FeatureQueryTooltip(this._map,{incrementBusyWorker:function incrementBusyWorker(){return _this.incrementBusyWorker()},decrementBusyWorker:function decrementBusyWorker(){return _this.decrementBusyWorker()},onSessionExpired:function onSessionExpired(){return _this.onSessionExpired()},getAgentUri:function getAgentUri(){return _this._state.agentUri},getAgentKind:function getAgentKind(){return _this._state.agentKind},getMapName:function getMapName(){return _this._state.mapName},getSessionId:function getSessionId(){return _this._state.sessionId},getLocale:function getLocale(){return _this._state.locale},getPointSelectionBox:function getPointSelectionBox(pt){return _this.getPointSelectionBox(pt,_this._state.pointSelectionBuffer)},openTooltipLink:function openTooltipLink(url){return _this.onOpenTooltipLink(url)}}),this._featureTooltip.setEnabled(this._state.featureTooltipsEnabled))},MapGuideMapProviderContext.prototype.refreshMap=function(mode){void 0===mode&&(mode=common_1.RefreshMode.LayersOnly|common_1.RefreshMode.SelectionOnly),(0,assert_1.assertIsDefined)(this._state.mapName),this.refreshMapInternal(this._state.mapName,mode)},MapGuideMapProviderContext.prototype.onBeforeAttachingLayerSetGroup=function(layerSetGroup){layerSetGroup.setMapGuideMocking(this.getMockMode())},MapGuideMapProviderContext.prototype.setProviderState=function(nextState){var _this=this;if(!this._comp||!this._map)return nextState.agentUri&&(this._client=new client_1.Client(nextState.agentUri,nextState.agentKind)),void(this._state=nextState);nextState.imageFormat!=this._state.imageFormat&&(0,logger_1.warn)("Unsupported change of props: imageFormat"),nextState.agentUri&&nextState.agentUri!=this._state.agentUri&&((0,logger_1.warn)("Unsupported change of props: agentUri"),this._client=new client_1.Client(nextState.agentUri,nextState.agentKind)),nextState.agentUri&&nextState.agentKind!=this._state.agentKind&&((0,logger_1.warn)("Unsupported change of props: agentKind"),this._client=new client_1.Client(nextState.agentUri,nextState.agentKind));var bChangedView=!1;if(nextState.mapName!=this._state.mapName&&this._map&&this._ovMap){this.hideAllPopups();var oldLayerSet=this.getLayerSetGroup(this._state.mapName),newLayerSet=this.ensureAndGetLayerSetGroup(nextState);if(null==oldLayerSet||oldLayerSet.clearHighlightedFeatures(),newLayerSet.clearHighlightedFeatures(),null==oldLayerSet||oldLayerSet.detach(this._map,this._ovMap),newLayerSet.setMapGuideMocking(this.getMockMode()),newLayerSet.attach(this._map,this._ovMap),nextState.view)(layerSet=this.getLayerSetGroup(nextState.mapName))&&this.applyView(layerSet,nextState.view);else newLayerSet.fitViewToExtent(),bChangedView=!0}nextState.selectionColor&&nextState.selectionColor!=this._state.selectionColor&&(null==(layerSet=this.getLayerSetGroup(nextState.mapName))||layerSet.updateSelectionColor(nextState.selectionColor));(nextState.featureTooltipsEnabled!=this._state.featureTooltipsEnabled&&this.enableFeatureTooltips(nextState.featureTooltipsEnabled),null!=nextState.externalBaseLayers&&nextState.externalBaseLayers.length>0)&&(null==(layerSet=this.getLayerSetGroup(nextState.mapName))||layerSet.updateExternalBaseLayers(nextState.externalBaseLayers));nextState.layerTransparency&&(0,viewer_state_1.layerTransparencyChanged)(nextState.layerTransparency,this._state.layerTransparency)&&(null==(layerSet=this.getLayerSetGroup(nextState.mapName))||layerSet.updateTransparency(nextState.layerTransparency));nextState.mapName&&((0,array_1.areArraysDifferent)(nextState.showGroups,this._state.showGroups)||(0,array_1.areArraysDifferent)(nextState.hideGroups,this._state.hideGroups)||(0,array_1.areArraysDifferent)(nextState.showLayers,this._state.showLayers)||(0,array_1.areArraysDifferent)(nextState.hideLayers,this._state.hideLayers))&&this.refreshOnStateChange(nextState.mapName,nextState.showGroups,nextState.showLayers,nextState.hideGroups,nextState.hideLayers);var bViewChanged=!1;if(!(0,viewer_state_1.areViewsCloseToEqual)(nextState.view,this._state.view)){var vw=nextState.view;if(null==vw||bChangedView)(0,logger_1.debug)("Skipping zoomToView as next/current views are close enough or target view is null");else{var layerSet=this.ensureAndGetLayerSetGroup(nextState);this.applyView(layerSet,vw),bViewChanged=!0}}if(nextState.overviewMapElementSelector&&this.updateOverviewMapElement(nextState.overviewMapElementSelector),this._state.viewRotation!=nextState.viewRotation&&this.getOLView().setRotation(nextState.viewRotation),this._state.viewRotationEnabled!=nextState.viewRotationEnabled&&this._map){var view=this.getOLView(),newView=new View_1.default({enableRotation:nextState.viewRotationEnabled,rotation:nextState.viewRotation,center:view.getCenter(),resolution:view.getResolution(),resolutions:view.getResolutions(),minResolution:view.getMinResolution(),maxResolution:view.getMaxResolution(),maxZoom:view.getMaxZoom(),minZoom:view.getMinZoom(),projection:view.getProjection(),zoom:view.getZoom()});this._map.setView(newView)}var bDiffSelectionXml=this._state.activeSelectedFeatureXml!=nextState.activeSelectedFeatureXml,bRefreshActiveFeatureSelection=!(0,string_1.strIsNullOrEmpty)(nextState.activeSelectedFeatureXml)&&bViewChanged;if((bDiffSelectionXml||bRefreshActiveFeatureSelection)&&this._map&&nextState.map){var ms_1=this._map.getSize();if(ms_1&&(0,type_guards_1.isRuntimeMap)(nextState.map)){var nmap_1=nextState.map;!function checkReady_1(){if(0==_this._busyWorkers){var me=_this.getOLView().calculateExtent(ms_1),size={w:ms_1[0],h:ms_1[1]};_this.showSelectedFeature(me,size,nmap_1,nextState.activeSelectedFeatureColor,nextState.activeSelectedFeatureXml)}else window.setTimeout(checkReady_1,100)}()}}this._state=nextState},MapGuideMapProviderContext.prototype.setSelectionXml=function(xml,queryOpts,success,failure){var _a,_this=this;if(this._state.mapName&&this._comp&&this._state.sessionId&&this._state.selectionColor){this.incrementBusyWorker();var mapName=this._state.mapName,qOrig={mapname:mapName,session:this._state.sessionId,persist:1,featurefilter:xml,selectioncolor:this._state.selectionColor,selectionformat:null!==(_a=this._state.selectionImageFormat)&&void 0!==_a?_a:"PNG8",maxfeatures:-1,requestdata:1},queryOptions=(0,tslib_1.__assign)((0,tslib_1.__assign)({},qOrig),queryOpts),action=(0,map_1.queryMapFeatures)(mapName,{options:queryOptions,callback:function callback(res){_this.decrementBusyWorker(),success&&success(res)},errBack:function errBack(err){_this.decrementBusyWorker(),failure&&failure(err)}});this._comp.onDispatch(action)}},MapGuideMapProviderContext.prototype.clearSelection=function(){this.setSelectionXml("")},MapGuideMapProviderContext.prototype.selectByGeometry=function(geom,selectionMethod){var options=this.buildDefaultQueryOptions(geom);selectionMethod&&(options.selectionvariant=selectionMethod),this.sendSelectionQuery(options)},MapGuideMapProviderContext.prototype.queryMapFeatures=function(options,success,failure){this.sendSelectionQuery(options,success,failure)},MapGuideMapProviderContext.prototype.isFeatureTooltipEnabled=function(){var _a;return 1==(null===(_a=this._featureTooltip)||void 0===_a?void 0:_a.isEnabled())},MapGuideMapProviderContext.prototype.sendSelectionQuery=function(queryOpts,success,failure){var _a,_b,_this=this;if(this._state.mapName&&this._comp&&this._state.sessionId&&this._state.selectionColor&&(null==queryOpts||0!=(null!==(_a=queryOpts.layernames)&&void 0!==_a?_a:[]).length)){this.incrementBusyWorker();var mapName=this._state.mapName,qOrig={mapname:mapName,session:this._state.sessionId,persist:1,selectionvariant:"INTERSECTS",selectioncolor:this._state.selectionColor,selectionformat:null!==(_b=this._state.selectionImageFormat)&&void 0!==_b?_b:"PNG8",maxfeatures:-1},queryOptions=(0,tslib_1.__assign)((0,tslib_1.__assign)({},qOrig),queryOpts),action=(0,map_1.queryMapFeatures)(mapName,{options:queryOptions,callback:function callback(res){_this.decrementBusyWorker(),success&&success(res)},errBack:function errBack(err){_this.decrementBusyWorker(),failure&&failure(err)}});this._comp.onDispatch(action)}},MapGuideMapProviderContext}(base_1.BaseMapProviderContext);exports.MapGuideMapProviderContext=MapGuideMapProviderContext},65925:function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MapDebugContext=exports.MapGuideMockMode=void 0;var React=(0,__webpack_require__(70655).__importStar)(__webpack_require__(67294));!function(MapGuideMockMode){MapGuideMockMode[MapGuideMockMode.RenderPlaceholder=0]="RenderPlaceholder",MapGuideMockMode[MapGuideMockMode.DoNotRender=1]="DoNotRender"}(exports.MapGuideMockMode||(exports.MapGuideMockMode={})),exports.MapDebugContext=React.createContext({})},88258:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(56977),Object.defineProperty(exports,"__esModule",{value:!0}),exports.MouseCoordinates=void 0;var React=(0,__webpack_require__(70655).__importStar)(__webpack_require__(67294)),i18n_1=__webpack_require__(196),string_1=__webpack_require__(53775);var MouseCoordinates=function MouseCoordinates(props){return React.createElement("div",{className:"status-bar-component component-mouse-coordinates",style:props.style},function formatCoordinates(props){var coords=props.coords,decimals=props.decimals,format=props.format,units=props.units;if(null==coords)return null;var x=coords[0],y=coords[1],sfmt=format||"X: {x}, Y: {y} {units}",str=(0,i18n_1.fmt)(sfmt,{x:""+(null!=decimals?x.toFixed(decimals):x),y:""+(null!=decimals?y.toFixed(decimals):y),units:units||""});return React.createElement("span",{dangerouslySetInnerHTML:{__html:(0,string_1.strTrim)(str)}})}(props))};exports.MouseCoordinates=MouseCoordinates;try{MouseCoordinates.displayName="MouseCoordinates",MouseCoordinates.__docgenInfo={description:"Displays tracked mouse coordinates",displayName:"MouseCoordinates",props:{format:{defaultValue:null,description:"",name:"format",required:!1,type:{name:"string"}},coords:{defaultValue:null,description:"",name:"coords",required:!1,type:{name:"[number, number]"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},decimals:{defaultValue:null,description:"",name:"decimals",required:!1,type:{name:"number"}},units:{defaultValue:null,description:"",name:"units",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/mouse-coordinates.tsx#MouseCoordinates"]={docgenInfo:MouseCoordinates.__docgenInfo,name:"MouseCoordinates",path:"src/components/mouse-coordinates.tsx#MouseCoordinates"})}catch(__react_docgen_typescript_loader_error){}},18354:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(56977),Object.defineProperty(exports,"__esModule",{value:!0}),exports.Navigator=exports.PanDirection=exports.ZoomDirection=void 0;var ZoomDirection,PanDirection,tslib_1=__webpack_require__(70655),React=(0,tslib_1.__importStar)(__webpack_require__(67294)),i18n_1=__webpack_require__(196),react_draggable_1=(0,tslib_1.__importDefault)(__webpack_require__(61193)),number_1=__webpack_require__(96632),assets_1=__webpack_require__(10358);!function(ZoomDirection){ZoomDirection[ZoomDirection.In=0]="In",ZoomDirection[ZoomDirection.Out=1]="Out"}(ZoomDirection=exports.ZoomDirection||(exports.ZoomDirection={})),function(PanDirection){PanDirection[PanDirection.East=0]="East",PanDirection[PanDirection.West=1]="West",PanDirection[PanDirection.South=2]="South",PanDirection[PanDirection.North=3]="North"}(PanDirection=exports.PanDirection||(exports.PanDirection={}));var LN9=Math.log(9);function calculatePosForScale(scale,finiteScaleList){if(finiteScaleList){var index=(0,number_1.getFiniteScaleIndexForScale)(finiteScaleList,scale),pos=81/finiteScaleList.length*(index+1);return Math.floor(pos)}pos=9*Math.log(scale)/LN9;return Math.floor(pos)}function calculateScaleForPos(pos,finiteScaleList){var scale=Math.pow(9,pos/9);return finiteScaleList?finiteScaleList[(0,number_1.getFiniteScaleIndexForScale)(finiteScaleList,scale)]:scale}var Navigator=function Navigator(props){var busy=props.busy,locale=props.locale,_a=React.useState(calculatePosForScale(props.scale,props.finiteScaleList)),previewPos=_a[0],setPreviewPos=_a[1],_b=React.useState(calculatePosForScale(props.scale,props.finiteScaleList)),pos=_b[0],setPos=_b[1],_c=React.useState(!1),isDragging=_c[0],setIsDragging=_c[1];return React.useEffect((function(){var pos=calculatePosForScale(props.scale,props.finiteScaleList);setPos(pos),setPreviewPos(pos)}),[props.scale,props.finiteScaleList]),React.createElement("div",{id:"Navigator",style:props.style,className:"component-navigator noselect"},React.createElement("map",{name:"Navigator_ImageMap",id:"Navigator_ImageMap"},React.createElement("area",{onClick:function onPanEast(){props.onPan(PanDirection.East)},shape:"poly",alt:(0,i18n_1.tr)("NAVIGATOR_PAN_EAST",locale),title:(0,i18n_1.tr)("NAVIGATOR_PAN_EAST",locale),coords:"27,176, 27,177, 40,190, 44,182, 44,159"}),React.createElement("area",{onClick:function onPanWest(){props.onPan(PanDirection.West)},shape:"poly",alt:(0,i18n_1.tr)("NAVIGATOR_PAN_WEST",locale),title:(0,i18n_1.tr)("NAVIGATOR_PAN_WEST",locale),coords:"24,177, 24,176, 7,159, 7,182, 11,190"}),React.createElement("area",{onClick:function onPanSouth(){props.onPan(PanDirection.South)},shape:"poly",alt:(0,i18n_1.tr)("NAVIGATOR_PAN_SOUTH",locale),title:(0,i18n_1.tr)("NAVIGATOR_PAN_SOUTH",locale),coords:"25,178, 12,191, 21,197, 30,197, 39,191, 26,178"}),React.createElement("area",{onClick:function onPanNorth(){props.onPan(PanDirection.North)},shape:"poly",alt:(0,i18n_1.tr)("NAVIGATOR_PAN_NORTH",locale),title:(0,i18n_1.tr)("NAVIGATOR_PAN_NORTH",locale),coords:"26,175, 43,158, 8,158, 25,175"}),React.createElement("area",{onClick:function onZoomOut(){props.onZoom(ZoomDirection.Out)},shape:"circle",alt:(0,i18n_1.tr)("NAVIGATOR_ZOOM_OUT",locale),title:(0,i18n_1.tr)("NAVIGATOR_ZOOM_OUT",locale),coords:"25,142,8"}),React.createElement("area",{onClick:function onZoomIn(){props.onZoom(ZoomDirection.In)},shape:"circle",alt:(0,i18n_1.tr)("NAVIGATOR_ZOOM_IN",locale),title:(0,i18n_1.tr)("NAVIGATOR_ZOOM_IN",locale),coords:"25,34,8"})),React.createElement("img",{src:assets_1.IMG_SLIDER_SCALE,className:"png24",width:"51",height:"201",useMap:"#Navigator_ImageMap",style:{position:"absolute",left:0,top:0}}),React.createElement("div",{style:{position:"absolute",top:6,left:6,width:39,height:16}},React.createElement("img",{src:assets_1.GIF_SPINNER,className:"navigator-spinner",width:"18",height:"6",style:{position:"absolute",top:3,right:4,visibility:busy?"visible":"hidden"}})),React.createElement(react_draggable_1.default,{axis:"y",handle:"img.navigator-drag-handle",position:{x:0,y:10+pos},bounds:{top:10,bottom:91,left:0,right:0},onStart:function onStart(e){e.preventDefault(),setIsDragging(!0),setPreviewPos(pos)},onDrag:function onDrag(e,data){e.preventDefault(),setPreviewPos(previewPos+data.deltaY)},onStop:function onStop(e){e.preventDefault();var newScale=calculateScaleForPos(previewPos);setIsDragging(!1),setPos(previewPos),props.onRequestZoomToScale(newScale)}},React.createElement("div",null,React.createElement("img",{src:assets_1.IMG_SLIDER,className:"png24 navigator-drag-handle",width:"29",height:"12",style:{position:"relative",left:11,top:28}}),function(){if(!0===isDragging){var dragLabel=(0,i18n_1.tr)("FMT_NAVIGATOR_ZOOM_TO_SCALE",props.locale,{scale:calculateScaleForPos(previewPos).toFixed(2)});return React.createElement("div",{className:"tooltip",style:{position:"relative",width:170,right:190,top:28,textAlign:"right"}},dragLabel)}}())))};exports.Navigator=Navigator;try{Navigator.displayName="Navigator",Navigator.__docgenInfo={description:"The Navigator component provides an interactive zoom slider for the map viewer",displayName:"Navigator",props:{style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},busy:{defaultValue:null,description:"",name:"busy",required:!0,type:{name:"boolean"}},scale:{defaultValue:null,description:"",name:"scale",required:!0,type:{name:"number"}},finiteScaleList:{defaultValue:null,description:"A list of finite scales. Set when the map contains base (tiled) layers. When set, slider drags will snap to the values\nin this list. Zooming in and out will move to the next/previous finite scale instead of the default logarithmic calculation\n@memberOf INavigatorProps",name:"finiteScaleList",required:!1,type:{name:"{number[]}"}},locale:{defaultValue:null,description:"",name:"locale",required:!1,type:{name:"string"}},onZoom:{defaultValue:null,description:"",name:"onZoom",required:!0,type:{name:"(direction: ZoomDirection) => void"}},onPan:{defaultValue:null,description:"",name:"onPan",required:!0,type:{name:"(direction: PanDirection) => void"}},onRequestZoomToScale:{defaultValue:null,description:"",name:"onRequestZoomToScale",required:!0,type:{name:"(scale: number) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/navigator.tsx#Navigator"]={docgenInfo:Navigator.__docgenInfo,name:"Navigator",path:"src/components/navigator.tsx#Navigator"})}catch(__react_docgen_typescript_loader_error){}},57611:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(21249),Object.defineProperty(exports,"__esModule",{value:!0}),exports.ScaleDisplay=void 0;var React=(0,__webpack_require__(70655).__importStar)(__webpack_require__(67294)),i18n_1=__webpack_require__(196),number_1=__webpack_require__(96632),ScaleDisplay=function ScaleDisplay(props){var view=props.view,style=props.style,locale=props.locale,finiteScales=props.finiteScales,onScaleChanged=props.onScaleChanged,_a=React.useState(void 0),localScale=_a[0],setLocalScale=_a[1];React.useEffect((function(){!finiteScales&&view&&view.scale!=localScale&&setLocalScale(view.scale)}),[finiteScales,view]);var label=(0,i18n_1.tr)("FMT_SCALE_DISPLAY",locale,{scale:""});if(finiteScales){var fi=(0,number_1.getFiniteScaleIndexForScale)(finiteScales,view.scale),fiScale=finiteScales[fi];return React.createElement("div",{className:"status-bar-component component-scale-display",style:style},label," ",React.createElement("select",{className:"scale-input",value:fiScale,onChange:function onFiniteScaleChanged(e){return null==onScaleChanged?void 0:onScaleChanged(parseFloat(e.target.value))}},finiteScales.map((function(s){return React.createElement("option",{key:s,value:s},s)}))))}return React.createElement("div",{className:"status-bar-component component-scale-display",style:style},label," ",React.createElement("input",{className:"scale-input",type:"number",value:localScale||"",onChange:function onScaleInputChanged(e){return setLocalScale(parseFloat(e.target.value))},onKeyPress:function onScaleKeyPressed(e){"Enter"==e.key&&localScale&&(null==onScaleChanged||onScaleChanged(localScale))}}))};exports.ScaleDisplay=ScaleDisplay;try{ScaleDisplay.displayName="ScaleDisplay",ScaleDisplay.__docgenInfo={description:"A component that displays the map scale",displayName:"ScaleDisplay",props:{style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},view:{defaultValue:null,description:"",name:"view",required:!0,type:{name:"IMapView"}},finiteScales:{defaultValue:null,description:"",name:"finiteScales",required:!1,type:{name:"number[] | null"}},locale:{defaultValue:null,description:"",name:"locale",required:!0,type:{name:"string"}},onScaleChanged:{defaultValue:null,description:"",name:"onScaleChanged",required:!0,type:{name:"(scale: number) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/scale-display.tsx#ScaleDisplay"]={docgenInfo:ScaleDisplay.__docgenInfo,name:"ScaleDisplay",path:"src/components/scale-display.tsx#ScaleDisplay"})}catch(__react_docgen_typescript_loader_error){}},87251:function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SelectedFeatureCount=void 0;var React=(0,__webpack_require__(70655).__importStar)(__webpack_require__(67294)),i18n_1=__webpack_require__(196),SelectedFeatureCount=function SelectedFeatureCount(props){var label,format=props.format||(0,i18n_1.tr)("FMT_SELECTION_COUNT",props.locale);return props.summary&&(label=(0,i18n_1.fmt)(format,props.summary)),React.createElement("div",{className:"status-bar-component component-selected-feature-count",style:props.style},label)};exports.SelectedFeatureCount=SelectedFeatureCount;try{SelectedFeatureCount.displayName="SelectedFeatureCount",SelectedFeatureCount.__docgenInfo={description:"Displays the number of selected features on the map",displayName:"SelectedFeatureCount",props:{summary:{defaultValue:null,description:"",name:"summary",required:!1,type:{name:"{ total: number; layerCount: number; }"}},locale:{defaultValue:null,description:"",name:"locale",required:!1,type:{name:"string"}},format:{defaultValue:null,description:"",name:"format",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/selected-feature-count.tsx#SelectedFeatureCount"]={docgenInfo:SelectedFeatureCount.__docgenInfo,name:"SelectedFeatureCount",path:"src/components/selected-feature-count.tsx#SelectedFeatureCount"})}catch(__react_docgen_typescript_loader_error){}},15683:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(57327),__webpack_require__(21249),Object.defineProperty(exports,"__esModule",{value:!0}),exports.SelectionPanel=void 0;var React=(0,__webpack_require__(70655).__importStar)(__webpack_require__(67294)),toolbar_1=__webpack_require__(23158),i18n_1=__webpack_require__(196),core_1=__webpack_require__(61992),string_1=__webpack_require__(53775),DefaultSelectedFeature=function DefaultSelectedFeature(props){var selectedFeature=props.selectedFeature,selectedLayer=props.selectedLayer,locale=props.locale,allowHtmlValues=props.allowHtmlValues,cleanHTML=props.cleanHTML,featureProps=[];if(null==selectedLayer?void 0:selectedLayer.Property)for(var _loop_1=function _loop_1(lp){var matches=selectedFeature.Property.filter((function(fp){return fp.Name===lp.DisplayName}));1===matches.length&&featureProps.push(matches[0])},_i=0,_a=selectedLayer.Property;_i<_a.length;_i++){_loop_1(_a[_i])}else for(var _b=0,_c=selectedFeature.Property;_b<_c.length;_b++){var fp=_c[_b];featureProps.push(fp)}return React.createElement("table",{className:"selection-panel-property-grid bp3-html-table bp3-html-table-condensed bp3-html-table-bordered"},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,(0,i18n_1.tr)("SELECTION_PROPERTY",locale)),React.createElement("th",null,(0,i18n_1.tr)("SELECTION_VALUE",locale)))),React.createElement("tbody",null,featureProps.map((function(prop){return React.createElement("tr",{key:prop.Name},React.createElement("td",{className:"property-name-cell","data-property-name":prop.Name},prop.Name),(value=prop.Value,allowHtmlValues&&!(0,string_1.strIsNullOrEmpty)(value)?(cleanHTML&&(value=cleanHTML(value)),React.createElement("td",{className:"property-value-cell","data-property-value-for":prop.Name,dangerouslySetInnerHTML:{__html:value}})):React.createElement("td",{className:"property-value-cell","data-property-value-for":prop.Name},prop.Value)));var value}))))};var SELECTION_TOOLBAR_STYLE={float:"right",height:toolbar_1.DEFAULT_TOOLBAR_SIZE},SELECTION_PANEL_TOOLBAR_STYLE={height:toolbar_1.DEFAULT_TOOLBAR_SIZE,backgroundColor:toolbar_1.TOOLBAR_BACKGROUND_COLOR},LAYER_COMBO_STYLE={float:"left",height:toolbar_1.DEFAULT_TOOLBAR_SIZE},FloatClear=function FloatClear(){return React.createElement("div",{style:{clear:"both"}})},SelectionPanel=function SelectionPanel(props){var maxHeight=props.maxHeight,selection=props.selection,selectedFeatureRenderer=props.selectedFeatureRenderer,allowHtmlValues=props.allowHtmlValues,cleanHTML=props.cleanHTML,onShowSelectedFeature=props.onShowSelectedFeature,onRequestZoomToFeature=props.onRequestZoomToFeature,_a=React.useState(-1),selectedLayerIndex=_a[0],setSelectedLayerIndex=_a[1],_b=React.useState(-1),featureIndex=_b[0],setFeatureIndex=_b[1];React.useEffect((function(){if(selection.getLayerCount()>0)if(selectedLayerIndex<0)setSelectedLayerIndex(0),setFeatureIndex(0);else{var sl=selection.getLayerAt(selectedLayerIndex);sl?featureIndex<0&&sl.getFeatureCount()>0&&setFeatureIndex(0):(setSelectedLayerIndex(0),setFeatureIndex(0))}}),[selection]);var feat,meta,selBodyStyle,getCurrentLayer=function getCurrentLayer(){return selection.getLayerAt(selectedLayerIndex)},getFeatureAt=function getFeatureAt(index){return selection.getFeatureAt(selectedLayerIndex,index)},getCurrentFeature=function getCurrentFeature(){return getFeatureAt(featureIndex)},canGoPrev=function canGoPrev(){return featureIndex>0},canGoNext=function canGoNext(){var layer=getCurrentLayer();return null!=layer&&featureIndex+1<layer.getFeatureCount()},canZoomSelectedFeature=function canZoomSelectedFeature(){var feat=getCurrentFeature();return null!=(null==feat?void 0:feat.Bounds)},prevFeature=function prevFeature(){var _a,newIndex=featureIndex-1;setFeatureIndex(newIndex);var layer=getCurrentLayer();if(layer){var layerId=layer.getLayerId(),sKey=null===(_a=getFeatureAt(newIndex))||void 0===_a?void 0:_a.SelectionKey;sKey&&layerId&&(null==onShowSelectedFeature||onShowSelectedFeature(layerId,sKey))}},nextFeature=function nextFeature(){var _a,newIndex=featureIndex+1;setFeatureIndex(newIndex);var layer=getCurrentLayer();if(layer){var layerId=layer.getLayerId(),sKey=null===(_a=getFeatureAt(newIndex))||void 0===_a?void 0:_a.SelectionKey;sKey&&layerId&&(null==onShowSelectedFeature||onShowSelectedFeature(layerId,sKey))}},zoomSelectedFeature=function zoomSelectedFeature(){var feat=getCurrentFeature();feat&&onRequestZoomToFeature(feat)},onSelectedLayerChanged=function onSelectedLayerChanged(e){setSelectedLayerIndex(e.target.value),setFeatureIndex(0)},locale=props.locale||i18n_1.DEFAULT_LOCALE;if(null!=selection&&selectedLayerIndex>=0&&featureIndex>=0){var selLayer=selection.getLayerAt(selectedLayerIndex);feat=null==selLayer?void 0:selLayer.getFeatureAt(featureIndex),meta=null==selLayer?void 0:selLayer.getLayerMetadata()}return selBodyStyle=maxHeight?{overflowY:"auto",maxHeight:maxHeight-toolbar_1.DEFAULT_TOOLBAR_SIZE}:{overflow:"auto",position:"absolute",top:toolbar_1.DEFAULT_TOOLBAR_SIZE,bottom:0,right:0,left:0},React.createElement("div",null,function(){if((null==selection?void 0:selection.getLayerCount())>0){var selectionToolbarItems=function buildToolbarItems(selPanel){return[{bpIconName:"arrow-left",tooltip:(0,i18n_1.tr)("SELECTION_PREV_FEATURE",selPanel.locale),enabled:function enabled(){return selPanel.canGoPrev()},invoke:function invoke(){return selPanel.prevFeature()}},{bpIconName:"arrow-right",tooltip:(0,i18n_1.tr)("SELECTION_NEXT_FEATURE",selPanel.locale),enabled:function enabled(){return selPanel.canGoNext()},invoke:function invoke(){return selPanel.nextFeature()}},{isSeparator:!0},{bpIconName:"path-search",tooltip:(0,i18n_1.tr)("SELECTION_ZOOMTO_FEATURE",selPanel.locale),enabled:function enabled(){return selPanel.canZoomSelectedFeature()},invoke:function invoke(){return selPanel.zoomSelectedFeature()}}]}({locale:locale,canGoPrev:canGoPrev,canGoNext:canGoNext,prevFeature:prevFeature,nextFeature:nextFeature,canZoomSelectedFeature:canZoomSelectedFeature,zoomSelectedFeature:zoomSelectedFeature});return React.createElement("div",{className:"selection-panel-toolbar",style:SELECTION_PANEL_TOOLBAR_STYLE},React.createElement("div",{className:"bp3-select selection-panel-layer-selector"},React.createElement(core_1.HTMLSelect,{value:selectedLayerIndex,style:LAYER_COMBO_STYLE,onChange:onSelectedLayerChanged},selection.getLayers().map((function(layer,index){var _a,_b,lid=layer.getLayerId(),lname=layer.getName(),lkey=null!=lid?lid:index,label=lid&&null!==(_b=null===(_a=null==props?void 0:props.onResolveLayerLabel)||void 0===_a?void 0:_a.call(props,lid,lname))&&void 0!==_b?_b:lname;return React.createElement("option",{key:"selected-layer-"+lkey,value:""+index},label)})))),React.createElement(toolbar_1.Toolbar,{childItems:selectionToolbarItems,containerStyle:SELECTION_TOOLBAR_STYLE}),React.createElement(FloatClear,null))}}(),React.createElement("div",{className:"selection-panel-body",style:selBodyStyle},feat?selectedFeatureRenderer?selectedFeatureRenderer({selectedFeature:feat,cleanHTML:cleanHTML,allowHtmlValues:allowHtmlValues,selectedLayer:meta,locale:locale}):React.createElement(DefaultSelectedFeature,{selectedFeature:feat,cleanHTML:cleanHTML,allowHtmlValues:allowHtmlValues,selectedLayer:meta,locale:locale}):(null==selection?void 0:selection.getLayerCount())>0?void 0:React.createElement(core_1.Callout,{intent:core_1.Intent.PRIMARY,icon:"info-sign"},React.createElement("p",{className:"selection-panel-no-selection"},(0,i18n_1.tr)("NO_SELECTED_FEATURES",locale)))))};exports.SelectionPanel=SelectionPanel;try{SelectionPanel.displayName="SelectionPanel",SelectionPanel.__docgenInfo={description:"Displays attributes of selected features with the ability to zoom in on selected features",displayName:"SelectionPanel",props:{locale:{defaultValue:null,description:"",name:"locale",required:!1,type:{name:"string"}},selection:{defaultValue:null,description:"@since 0.14",name:"selection",required:!0,type:{name:"ICompositeSelection"}},onResolveLayerLabel:{defaultValue:null,description:"",name:"onResolveLayerLabel",required:!1,type:{name:"((layerId: string, layerName: string) => string)"}},onRequestZoomToFeature:{defaultValue:null,description:"",name:"onRequestZoomToFeature",required:!0,type:{name:"(feat: SelectedFeature) => void"}},onShowSelectedFeature:{defaultValue:null,description:"",name:"onShowSelectedFeature",required:!0,type:{name:"(layerId: string, selectionKey: string) => void"}},maxHeight:{defaultValue:null,description:"",name:"maxHeight",required:!1,type:{name:"number"}},selectedFeatureRenderer:{defaultValue:null,description:"",name:"selectedFeatureRenderer",required:!1,type:{name:"((props: ISelectedFeatureProps) => Element)"}},allowHtmlValues:{defaultValue:null,description:"Controls whether HTML values are allowed be rendered in property values\n@since 0.11\n@memberof ISelectionPanelProps",name:"allowHtmlValues",required:!0,type:{name:"{boolean}"}},cleanHTML:{defaultValue:null,description:"If allowHtmlValues = true, defines a custom function for sanitizing the given HTML string\nto guard against cross-site scripting attacks. You are strongly recommended to provide\na santitization function if your HTML property values come from an un-trusted source\n@since 0.11\n@memberof ISelectionPanelProps",name:"cleanHTML",required:!1,type:{name:"((html: string) => string)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/selection-panel.tsx#SelectionPanel"]={docgenInfo:SelectionPanel.__docgenInfo,name:"SelectionPanel",path:"src/components/selection-panel.tsx#SelectionPanel"})}catch(__react_docgen_typescript_loader_error){}},19051:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(88674),__webpack_require__(41539),Object.defineProperty(exports,"__esModule",{value:!0}),exports.SessionKeepAlive=void 0;var SessionKeepAlive=function(){function SessionKeepAlive(getSession,client,onSessionExpired,check){var _this=this;this.check=check,this.getSession=getSession,this.client=client,this.check&&this.client.getServerSessionTimeout(this.getSession()).then((function(tm){_this.interval=tm/5*1e3,_this.timeoutID=setTimeout(_this.tick.bind(_this),_this.interval)}))}return SessionKeepAlive.prototype.dispose=function(){clearTimeout(this.timeoutID)},SessionKeepAlive.prototype.tick=function(){var _this=this;this.client.getServerSessionTimeout(this.getSession()).then((function(tm){_this.timeoutID=setTimeout(_this.tick.bind(_this),_this.interval)}))},SessionKeepAlive.prototype.lastTry=function(){return this.check?this.client.getServerSessionTimeout(this.getSession()):Promise.resolve(-1)},SessionKeepAlive}();exports.SessionKeepAlive=SessionKeepAlive},42122:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(68309),__webpack_require__(15306),__webpack_require__(74916),Object.defineProperty(exports,"__esModule",{value:!0}),exports.TaskPane=exports.TASK_PANE_OVERLAY_BGCOLOR=void 0;var tslib_1=__webpack_require__(70655),React=(0,tslib_1.__importStar)(__webpack_require__(67294)),ReactDOM=(0,tslib_1.__importStar)(__webpack_require__(73935)),toolbar_1=__webpack_require__(23158),component_1=__webpack_require__(13664),i18n_1=__webpack_require__(196),url_1=__webpack_require__(7976),core_1=__webpack_require__(61992),constants_1=__webpack_require__(12872);function currentUrlDoesNotMatchMapName(currentUrl,mapName){var normUrl=currentUrl.toLowerCase();return!!(normUrl.indexOf("mapname=")>=0&&mapName)&&normUrl.indexOf("mapname="+mapName.toLowerCase())<0}exports.TASK_PANE_OVERLAY_BGCOLOR="#dee8f9";var TaskPane=function(_super){function TaskPane(props){var _this=_super.call(this,props)||this;return _this.onCloseFlyout=function(id){var _a,_b;return null===(_b=(_a=_this.props).onCloseFlyout)||void 0===_b?void 0:_b.call(_a,id)},_this.onOpenFlyout=function(id,metrics){var _a,_b;return null===(_b=(_a=_this.props).onOpenFlyout)||void 0===_b?void 0:_b.call(_a,id,metrics)},_this.onFrameMounted=function(iframe){(_this._iframe=iframe,_this._iframe)&&(ReactDOM.findDOMNode(_this._iframe).taskPaneId=constants_1.FUSION_TASKPANE_NAME)},_this.onFrameLoaded=function(e){var frame=e.currentTarget;frame.contentWindow&&(_this.setState({frameContentLoaded:!0}),_this.props.onUrlLoaded(frame.contentWindow.location.href))},_this.taskButtons=[props.homeAction,{isSeparator:!0},props.backAction,props.forwardAction],_this.state={activeComponent:null,invalidated:!1,frameContentLoaded:!1},_this}return(0,tslib_1.__extends)(TaskPane,_super),TaskPane.prototype.componentDidUpdate=function(prevProps){var nextProps=this.props;prevProps.currentUrl!=nextProps.currentUrl&&nextProps.currentUrl&&!1===nextProps.lastUrlPushed&&this.loadUrl(nextProps.currentUrl),!this.state.invalidated&&nextProps.currentUrl&&0!=nextProps.currentUrl.indexOf("component://")&&currentUrlDoesNotMatchMapName(nextProps.currentUrl,nextProps.mapName)?this.setState({invalidated:!0}):!this.state.invalidated||!nextProps.currentUrl||0!=nextProps.currentUrl.indexOf("component://")&&currentUrlDoesNotMatchMapName(nextProps.currentUrl,nextProps.mapName)||this.setState({invalidated:!1})},TaskPane.prototype.componentDidMount=function(){this.props.currentUrl&&this.loadUrl(this.props.currentUrl)},TaskPane.prototype.loadUrl=function(url){var _this=this,compUri=(0,url_1.parseComponentUri)(url);compUri?this.setState({activeComponent:compUri.name,activeComponentProps:compUri.props}):this.setState({activeComponent:null,frameContentLoaded:!1},(function(){var _a;_this._iframe&&(null===(_a=_this._iframe.contentWindow)||void 0===_a||_a.location.replace(url))}))},TaskPane.prototype.render=function(){var _this=this,_a=this.state,activeComponent=(_a.invalidated,_a.activeComponent),_b=this.props,locale=_b.locale,maxHeight=_b.maxHeight,showTaskBar=_b.showTaskBar,taskMenu={label:(0,i18n_1.tr)("MENU_TASKS",locale),flyoutAlign:"bottom left",flyoutId:constants_1.WEBLAYOUT_TASKMENU},rootStyle={},taskBarStyle={height:toolbar_1.DEFAULT_TOOLBAR_SIZE,backgroundColor:toolbar_1.TOOLBAR_BACKGROUND_COLOR},taskBodyStyle={},taskFrameStyle={border:"none"},taskComponentContainerStyle={border:"none"};return maxHeight?(taskFrameStyle.width="100%",taskFrameStyle.height=!0===showTaskBar?maxHeight-toolbar_1.DEFAULT_TOOLBAR_SIZE:maxHeight,taskComponentContainerStyle.width="100%",taskComponentContainerStyle.maxHeight=!0===showTaskBar?maxHeight-toolbar_1.DEFAULT_TOOLBAR_SIZE:maxHeight,taskComponentContainerStyle.overflowY="auto"):(rootStyle.width="100%",rootStyle.height="100%",taskBarStyle.position="absolute",taskBarStyle.top=0,taskBarStyle.left=0,taskBarStyle.right=0,taskBodyStyle.position="absolute",taskBodyStyle.top=!0===showTaskBar?toolbar_1.DEFAULT_TOOLBAR_SIZE:0,taskBodyStyle.left=0,taskBodyStyle.right=0,taskBodyStyle.bottom=0,taskBodyStyle.overflow="hidden",taskFrameStyle.width="100%",taskFrameStyle.height="100%",taskComponentContainerStyle.width="100%",taskComponentContainerStyle.height="100%"),React.createElement("div",{style:rootStyle},function(){if(!0===showTaskBar)return React.createElement("div",{style:taskBarStyle},React.createElement(toolbar_1.Toolbar,{childItems:_this.taskButtons,containerStyle:{float:"left",height:toolbar_1.DEFAULT_TOOLBAR_SIZE},onCloseFlyout:_this.onCloseFlyout,onOpenFlyout:_this.onOpenFlyout,flyoutStates:_this.props.flyoutStates}),React.createElement(toolbar_1.Toolbar,{childItems:[taskMenu],containerStyle:{float:"right",height:toolbar_1.DEFAULT_TOOLBAR_SIZE},onCloseFlyout:_this.onCloseFlyout,onOpenFlyout:_this.onOpenFlyout,flyoutStates:_this.props.flyoutStates}),React.createElement("div",{style:{clear:"both"}}))}(),React.createElement("div",{style:taskBodyStyle},function(){if(null!=activeComponent){var cpp=_this.state.activeComponentProps;return taskComponentContainerStyle.overflowY="auto",React.createElement("div",{style:taskComponentContainerStyle},React.createElement(component_1.PlaceholderComponent,{id:activeComponent,componentProps:cpp,locale:_this.props.locale}))}var frameContentLoaded=_this.state.frameContentLoaded,components=[React.createElement("iframe",{key:"taskPaneFrame",name:"taskPaneFrame",ref:_this.onFrameMounted,onLoad:_this.onFrameLoaded,style:taskFrameStyle})];return 0==frameContentLoaded&&components.push(React.createElement("div",{key:"taskPaneFrameLoadingOverlay",style:{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundColor:exports.TASK_PANE_OVERLAY_BGCOLOR}},React.createElement(core_1.NonIdealState,{icon:React.createElement(core_1.Spinner,{intent:core_1.Intent.NONE,size:core_1.Spinner.SIZE_LARGE}),title:(0,i18n_1.tr)("TASK_PANE_LOADING",locale),description:(0,i18n_1.tr)("TASK_PANE_LOADING_DESC",locale)}))),components}(),React.createElement("iframe",{name:"scriptFrame",style:{width:0,height:0,visibility:"hidden"}})))},TaskPane}(React.Component);exports.TaskPane=TaskPane;try{TaskPane.displayName="TaskPane",TaskPane.__docgenInfo={description:"A component that serves as a generic container for content or User Interface for custom functionality",displayName:"TaskPane",props:{currentUrl:{defaultValue:null,description:"",name:"currentUrl",required:!1,type:{name:"string"}},mapName:{defaultValue:null,description:"",name:"mapName",required:!1,type:{name:"string"}},session:{defaultValue:null,description:"",name:"session",required:!1,type:{name:"string"}},locale:{defaultValue:null,description:"",name:"locale",required:!0,type:{name:"string"}},homeAction:{defaultValue:null,description:"",name:"homeAction",required:!0,type:{name:"IItem"}},backAction:{defaultValue:null,description:"",name:"backAction",required:!0,type:{name:"IItem"}},forwardAction:{defaultValue:null,description:"",name:"forwardAction",required:!0,type:{name:"IItem"}},onUrlLoaded:{defaultValue:null,description:"",name:"onUrlLoaded",required:!0,type:{name:"(url: string) => void"}},lastUrlPushed:{defaultValue:null,description:"",name:"lastUrlPushed",required:!1,type:{name:"boolean"}},showTaskBar:{defaultValue:null,description:"",name:"showTaskBar",required:!0,type:{name:"boolean"}},maxHeight:{defaultValue:null,description:"",name:"maxHeight",required:!1,type:{name:"number"}},flyoutStates:{defaultValue:null,description:"",name:"flyoutStates",required:!1,type:{name:"FlyoutVisibilitySet"}},onOpenFlyout:{defaultValue:null,description:"",name:"onOpenFlyout",required:!0,type:{name:"(id: string, metrics: IDOMElementMetrics) => void"}},onCloseFlyout:{defaultValue:null,description:"",name:"onCloseFlyout",required:!0,type:{name:"(id: string) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/task-pane.tsx#TaskPane"]={docgenInfo:TaskPane.__docgenInfo,name:"TaskPane",path:"src/components/task-pane.tsx#TaskPane"})}catch(__react_docgen_typescript_loader_error){}},23158:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(21249),Object.defineProperty(exports,"__esModule",{value:!0}),exports.Toolbar=exports.FlyoutMenuChildItem=exports.getIconStyle=exports.getEnabled=exports.TOOLBAR_BACKGROUND_COLOR=exports.DEFAULT_TOOLBAR_SIZE=void 0;var React=(0,__webpack_require__(70655).__importStar)(__webpack_require__(67294)),type_guards_1=__webpack_require__(64726),context_1=__webpack_require__(6928),string_1=__webpack_require__(53775),icon_1=__webpack_require__(45739),core_1=__webpack_require__(61992),constants_1=__webpack_require__(12872);exports.DEFAULT_TOOLBAR_SIZE=29,exports.TOOLBAR_BACKGROUND_COLOR="#f0f0f0";var SVG_SIZE_RATIO=16/exports.DEFAULT_TOOLBAR_SIZE;function getSelected(item){var sel=item.selected;return null!=sel&&("function"==typeof sel?sel():sel)}function getEnabled(item){var en=item.enabled;return null==en||("function"==typeof en?en():en)}function getIconElement(item,enabled,size){var iconStyle=getIconStyle(enabled,size);if(item.iconClass||item.icon)return React.createElement(icon_1.ImageIcon,{style:iconStyle,url:item.icon,spriteClass:item.iconClass});if(item.bpIconName){var opacity=iconStyle.opacity;return React.createElement(core_1.Icon,{style:{opacity:opacity},icon:item.bpIconName,iconSize:size*SVG_SIZE_RATIO})}return React.createElement(React.Fragment,null)}function getFlyoutIconElement(isFlownOut,size){return React.createElement(core_1.Icon,{icon:isFlownOut?"chevron-up":"chevron-down",iconSize:size*SVG_SIZE_RATIO})}function getTooltip(item){var tt=item.tooltip;return null!=tt?"function"==typeof tt?tt():tt:string_1.STR_EMPTY}function getIconStyle(enabled,height){return{verticalAlign:"middle",lineHeight:height}}function getItemStyle(enabled,selected,size,isMouseOver,vertical){var pad=(size-16)/2,style={display:!0===vertical?"block":"inline-block",paddingLeft:pad,paddingRight:pad,paddingTop:6,paddingBottom:6};return(!0===isMouseOver&&!0===enabled||selected)&&(style.borderWidth=1,style.paddingLeft=pad-1,style.paddingRight=pad-1,style.paddingTop=5,style.paddingBottom=5),style}exports.getEnabled=getEnabled,exports.getIconStyle=getIconStyle;var FlyoutMenuChildItem=function FlyoutMenuChildItem(props){var item=props.item,_a=React.useState(!1),isMouseOver=_a[0],setIsMouseOver=_a[1],height=exports.DEFAULT_TOOLBAR_SIZE,selected=getSelected(item),enabled=getEnabled(item),tt=getTooltip(item),style=function getMenuItemStyle(enabled,selected,height,isMouseOver){var pad=(height-16)/2,style={paddingLeft:pad,paddingRight:pad,paddingTop:6,paddingBottom:6};return enabled&&(!0===isMouseOver||selected)&&(style.cursor="pointer",style.border="1px solid rgb(153, 181, 202)",style.paddingLeft=pad-1,style.paddingRight=pad-1,style.paddingTop=5,style.paddingBottom=5),style}(enabled,selected,height,isMouseOver),iconEl=getIconElement(item,enabled,height);return React.createElement("li",{className:"noselect flyout-menu-child-item",title:tt,onMouseEnter:function onMouseEnter(){setIsMouseOver(!0)},onMouseLeave:function onMouseLeave(){setIsMouseOver(!1)},onClick:function onClick(){var _a,_b;getEnabled(item)&&(null===(_a=item.invoke)||void 0===_a||_a.call(item),null===(_b=props.onInvoked)||void 0===_b||_b.call(props))}},React.createElement("div",{style:style},iconEl," ",item.label))};exports.FlyoutMenuChildItem=FlyoutMenuChildItem;var ComponentFlyoutItem=function ComponentFlyoutItem(props){var size=props.size,item=props.item,vertical=props.vertical,isFlownOut=props.isFlownOut,toolbarCtx=React.useContext(context_1.ToolbarContext),_a=React.useState(!1),isMouseOver=_a[0],setIsMouseOver=_a[1],selected=getSelected(item),enabled=getEnabled(item),style=getItemStyle(enabled,selected,size,isMouseOver,vertical),label=item.label;!0===vertical&&(label=React.createElement("div",{className:"rotated-text"},React.createElement("span",{className:"rotated-text__inner rotated-text-ccw"},item.label)));var ttip=getTooltip(item),iconEl=getIconElement(item,enabled,size);return React.createElement("div",{className:"noselect toolbar-flyout-btn "+(selected?"selected-item":"")+" "+(isMouseOver?"mouse-over":""),onMouseEnter:function onMouseEnter(){setIsMouseOver(!0)},onMouseLeave:function onMouseLeave(){setIsMouseOver(!1)},onClick:function onClick(e){e.preventDefault();var flyoutId=item.flyoutId,componentName=item.componentName,componentProps=item.componentProps;if(!isFlownOut){var rect=e.currentTarget.getBoundingClientRect(),metrics={posX:rect.left,posY:rect.top,width:rect.width,height:rect.height,vertical:vertical};toolbarCtx.openComponent(flyoutId,metrics,componentName,componentProps)}else toolbarCtx.closeComponent(flyoutId);return!1},style:style,title:ttip},React.createElement("div",{"data-flyout-id":"flyout-"+item.flyoutId},iconEl," ",label," ",getFlyoutIconElement(isFlownOut,size)))},FlyoutMenuReferenceItem=function FlyoutMenuReferenceItem(props){var size=props.size,menu=props.menu,vertical=props.vertical,isFlownOut=props.isFlownOut,toolbarCtx=React.useContext(context_1.ToolbarContext),_a=React.useState(!1),isMouseOver=_a[0],setIsMouseOver=_a[1],selected=getSelected(menu),enabled=getEnabled(menu),style=getItemStyle(enabled,selected,size,isMouseOver,vertical),label=menu.label;!0===vertical&&(label=React.createElement("div",{className:"rotated-text"},React.createElement("span",{className:"rotated-text__inner rotated-text-ccw"},menu.label)));var align=menu.flyoutAlign;align||(align=!0===vertical?"right bottom":"bottom right");var ttip=getTooltip(menu),iconEl=getIconElement(menu,enabled,size);return React.createElement("div",{className:"noselect toolbar-flyout-btn "+(selected?"selected-item":"")+" "+(isMouseOver?"mouse-over":""),onMouseEnter:function onMouseEnter(){setIsMouseOver(!0)},onMouseLeave:function onMouseLeave(){setIsMouseOver(!1)},onClick:function onClick(e){if(e.preventDefault(),!isFlownOut){var rect=e.currentTarget.getBoundingClientRect(),metrics={posX:rect.left,posY:rect.top,width:rect.width,height:rect.height,vertical:vertical};toolbarCtx.openFlyout(menu.flyoutId,metrics)}else toolbarCtx.closeFlyout(menu.flyoutId);return!1},style:style,title:ttip},React.createElement("div",{"data-flyout-id":"flyout-"+menu.flyoutId},iconEl," ",label," ",getFlyoutIconElement(isFlownOut,size)))},ToolbarSeparator=function ToolbarSeparator(props){var style=function getToolbarSeparatorItemStyle(vertical){var style={display:!0===vertical?"block":"inline-block"};return!0===vertical?(style.paddingTop=2,style.paddingBottom=-2,style.marginLeft=0,style.marginRight=0):(style.paddingTop=0,style.paddingBottom=0,style.marginLeft=2,style.marginRight=-2),style}(props.vertical);return!0===props.vertical?React.createElement("div",{className:"noselect toolbar-separator-vertical",style:style}):React.createElement("div",{className:"noselect toolbar-separator-horizontal",style:style},constants_1.NBSP)},ToolbarButton=function ToolbarButton(props){var height=props.height,item=props.item,vertical=props.vertical,hideVerticalLabels=props.hideVerticalLabels,_a=React.useState(!1),isMouseOver=_a[0],setIsMouseOver=_a[1],selected=getSelected(item),enabled=getEnabled(item),style=getItemStyle(enabled,selected,height,isMouseOver,vertical),ttip=null;ttip="function"==typeof item.tooltip?item.tooltip():item.tooltip,enabled||(style.opacity=.3);var iconEl=getIconElement(item,enabled,height);return React.createElement("div",{className:"noselect toolbar-btn "+(selected?"selected-item":"")+" "+(isMouseOver&&enabled?"mouse-over":""),onMouseEnter:function onMouseEnter(){setIsMouseOver(!0)},onMouseLeave:function onMouseLeave(){setIsMouseOver(!1)},style:style,title:ttip,onClick:function onClick(e){e.preventDefault();var item=props.item;return getEnabled(item)&&item.invoke&&item.invoke(),!1}},iconEl," ",1==vertical&&1==hideVerticalLabels?null:item.label)},Toolbar=function Toolbar(props){var containerStyle=props.containerStyle,containerClass=props.containerClass,childItems=props.childItems,vertical=props.vertical,hideVerticalLabels=props.hideVerticalLabels,flyoutStates=props.flyoutStates,onOpenFlyout=props.onOpenFlyout,onCloseFlyout=props.onCloseFlyout,onOpenComponent=props.onOpenComponent,onCloseComponent=props.onCloseComponent,height=exports.DEFAULT_TOOLBAR_SIZE;if(containerStyle){var ch=containerStyle.height;(function isNumeric(arg){return"number"==typeof arg})(ch)&&(height=ch)}var providerImpl={openFlyout:function openFlyout(id,metrics){return null==onOpenFlyout?void 0:onOpenFlyout(id,metrics)},closeFlyout:function closeFlyout(id){return null==onCloseFlyout?void 0:onCloseFlyout(id)},openComponent:function openComponent(id,metrics,name,props){return null==onOpenComponent?void 0:onOpenComponent(id,metrics,name,props)},closeComponent:function closeComponent(id){return null==onCloseComponent?void 0:onCloseComponent(id)}};return React.createElement(context_1.ToolbarContext.Provider,{value:providerImpl},React.createElement("div",{style:containerStyle,className:"has-flyout noselect "+containerClass},childItems.map((function(item,index){if((0,type_guards_1.isComponentFlyout)(item)){var isFlownOut=flyoutStates&&!!flyoutStates[item.flyoutId];return React.createElement(ComponentFlyoutItem,{key:index,size:height,item:item,vertical:vertical,isFlownOut:isFlownOut})}if((0,type_guards_1.isMenuRef)(item)){isFlownOut=flyoutStates&&!!flyoutStates[item.flyoutId];return React.createElement(FlyoutMenuReferenceItem,{key:index,size:height,menu:item,vertical:vertical,isFlownOut:isFlownOut})}return!0===item.isSeparator?React.createElement(ToolbarSeparator,{key:index,size:height,vertical:vertical}):React.createElement(ToolbarButton,{key:index,height:height,item:item,vertical:vertical,hideVerticalLabels:hideVerticalLabels})}))))};exports.Toolbar=Toolbar;try{getEnabled.displayName="getEnabled",getEnabled.__docgenInfo={description:"",displayName:"getEnabled",props:{label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string | (() => string)"}},tooltip:{defaultValue:null,description:"",name:"tooltip",required:!1,type:{name:"string | (() => string)"}},icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"string"}},iconClass:{defaultValue:null,description:"",name:"iconClass",required:!1,type:{name:"string"}},bpIconName:{defaultValue:null,description:"",name:"bpIconName",required:!1,type:{name:"enum",value:[{value:'"arrow-left"'},{value:'"arrow-right"'},{value:'"arrows-horizontal"'},{value:'"application"'},{value:'"caret-down"'},{value:'"caret-up"'},{value:'"chevron-down"'},{value:'"chevron-right"'},{value:'"chevron-up"'},{value:'"cross"'},{value:'"delete"'},{value:'"disable"'},{value:'"double-caret-vertical"'},{value:'"error"'},{value:'"folder-close"'},{value:'"geosearch"'},{value:'"home"'},{value:'"info-sign"'},{value:'"issue"'},{value:'"layer"'},{value:'"layers"'},{value:'"media"'},{value:'"menu-closed"'},{value:'"menu-open"'},{value:'"multi-select"'},{value:'"new-layer"'},{value:'"path-search"'},{value:'"play"'},{value:'"print"'},{value:'"search"'},{value:'"select"'},{value:'"small-cross"'},{value:'"stop"'},{value:'"tag"'},{value:'"th"'},{value:'"warning-sign"'}]}},invoke:{defaultValue:null,description:"",name:"invoke",required:!1,type:{name:"(() => void)"}},enabled:{defaultValue:null,description:"",name:"enabled",required:!1,type:{name:"boolean | (() => boolean)"}},selected:{defaultValue:null,description:"",name:"selected",required:!1,type:{name:"boolean | (() => boolean)"}},isSeparator:{defaultValue:null,description:"",name:"isSeparator",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/toolbar.tsx#getEnabled"]={docgenInfo:getEnabled.__docgenInfo,name:"getEnabled",path:"src/components/toolbar.tsx#getEnabled"})}catch(__react_docgen_typescript_loader_error){}try{FlyoutMenuChildItem.displayName="FlyoutMenuChildItem",FlyoutMenuChildItem.__docgenInfo={description:"",displayName:"FlyoutMenuChildItem",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"IItem | IInlineMenu"}},onInvoked:{defaultValue:null,description:"",name:"onInvoked",required:!1,type:{name:"(() => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/toolbar.tsx#FlyoutMenuChildItem"]={docgenInfo:FlyoutMenuChildItem.__docgenInfo,name:"FlyoutMenuChildItem",path:"src/components/toolbar.tsx#FlyoutMenuChildItem"})}catch(__react_docgen_typescript_loader_error){}try{Toolbar.displayName="Toolbar",Toolbar.__docgenInfo={description:"A generic toolbar component",displayName:"Toolbar",props:{childItems:{defaultValue:null,description:"",name:"childItems",required:!0,type:{name:"IItem[]"}},containerClass:{defaultValue:null,description:"",name:"containerClass",required:!1,type:{name:"string"}},containerStyle:{defaultValue:null,description:"",name:"containerStyle",required:!1,type:{name:"CSSProperties"}},vertical:{defaultValue:null,description:"",name:"vertical",required:!1,type:{name:"boolean"}},hideVerticalLabels:{defaultValue:null,description:"",name:"hideVerticalLabels",required:!1,type:{name:"boolean"}},onOpenFlyout:{defaultValue:null,description:"",name:"onOpenFlyout",required:!1,type:{name:"((id: string, metrics: IDOMElementMetrics) => void)"}},onCloseFlyout:{defaultValue:null,description:"",name:"onCloseFlyout",required:!1,type:{name:"((id: string) => void)"}},onOpenComponent:{defaultValue:null,description:"",name:"onOpenComponent",required:!1,type:{name:"((id: string, metrics: IDOMElementMetrics, name: string, props?: any) => void)"}},onCloseComponent:{defaultValue:null,description:"",name:"onCloseComponent",required:!1,type:{name:"((id: string) => void)"}},flyoutStates:{defaultValue:null,description:"",name:"flyoutStates",required:!1,type:{name:"FlyoutVisibilitySet"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/toolbar.tsx#Toolbar"]={docgenInfo:Toolbar.__docgenInfo,name:"Toolbar",path:"src/components/toolbar.tsx#Toolbar"})}catch(__react_docgen_typescript_loader_error){}},11609:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(21249),__webpack_require__(15306),__webpack_require__(74916),Object.defineProperty(exports,"__esModule",{value:!0}),exports.FeatureQueryTooltip=void 0;var tslib_1=__webpack_require__(70655),OverlayPositioning_1=(0,tslib_1.__importDefault)(__webpack_require__(38835)),lodash_debounce_1=(0,tslib_1.__importDefault)(__webpack_require__(91296)),Overlay_1=(0,tslib_1.__importDefault)(__webpack_require__(43223)),WKT_1=(0,tslib_1.__importDefault)(__webpack_require__(75861)),Polygon_1=__webpack_require__(2033),client_1=__webpack_require__(61772),olExtent=(0,tslib_1.__importStar)(__webpack_require__(28641)),error_1=__webpack_require__(59404),i18n_1=__webpack_require__(196),logger_1=__webpack_require__(97838),FeatureQueryTooltip=function(){function FeatureQueryTooltip(map,callback){var _this=this;this.setLinkClickHandler=function(){_this.linkElement&&(_this.linkElement.onclick=_this.handleLinkClick)},this.handleLinkClick=function(e){return e.preventDefault(),_this.callback.openTooltipLink(e.target.href),!1},this.callback=callback,this.wktFormat=new WKT_1.default,this.featureTooltipElement=document.createElement("div"),this.featureTooltipElement.addEventListener("mouseover",(function(){return _this.isMouseOverTooltip=!0})),this.featureTooltipElement.addEventListener("mouseout",(function(){return _this.isMouseOverTooltip=!1})),this.featureTooltipElement.className="feature-tooltip",this.featureTooltip=new Overlay_1.default({element:this.featureTooltipElement,offset:[15,0],positioning:OverlayPositioning_1.default.CENTER_LEFT}),this.map=map,this.map.addOverlay(this.featureTooltip),this.throttledMouseMove=(0,lodash_debounce_1.default)((function(e){_this.raiseQueryFromPoint(e.pixel)}),1e3),this.enabled=!0,this.isMouseOverTooltip=!1}return FeatureQueryTooltip.prototype.dispose=function(){this.featureTooltip.dispose()},Object.defineProperty(FeatureQueryTooltip.prototype,"isMouseOver",{get:function get(){return this.isMouseOverTooltip},enumerable:!1,configurable:!0}),FeatureQueryTooltip.prototype.raiseQueryFromPoint=function(pixel){var box=this.callback.getPointSelectionBox(pixel),geom=(0,Polygon_1.fromExtent)(box);(0,logger_1.debug)("["+new Date+"] FeatureTooltip - onMouseMove ("+box[0]+", "+box[1]+") ("+box[2]+", "+box[3]+")"),this.sendTooltipQuery(geom)},FeatureQueryTooltip.prototype.onMouseMove=function(e){this.throttledMouseMove(e)},FeatureQueryTooltip.prototype.isEnabled=function(){return this.enabled},FeatureQueryTooltip.prototype.setEnabled=function(enabled){this.enabled=enabled,this.enabled||(this.featureTooltipElement.innerHTML="",this.featureTooltipElement.classList.add("tooltip-hidden"),this.linkElement&&(this.linkElement.onclick=null))},FeatureQueryTooltip.prototype.sendTooltipQuery=function(geom){var _this=this;if(this.enabled)if(this.isMouseOverTooltip)(0,logger_1.debug)("Mouse over tooltip. Doing nothing");else{var wkt=this.wktFormat.writeGeometry(geom),client=new client_1.Client(this.callback.getAgentUri(),this.callback.getAgentKind()),coords=olExtent.getCenter(geom.getExtent());this.featureTooltip.setPosition(coords),this.callback.incrementBusyWorker(),client.queryMapFeatures({mapname:this.callback.getMapName(),session:this.callback.getSessionId(),geometry:wkt,persist:0,selectionvariant:"INTERSECTS",maxfeatures:1,requestdata:12,layerattributefilter:5}).then((function(res){var html="";res.Tooltip&&(html+="<div class='feature-tooltip-body'>"+res.Tooltip.replace(/\\n/g,"<br/>")+"</div>"),res.Hyperlink&&(html+="<div><a id='feature-tooltip-link' href='"+res.Hyperlink+"'>"+(0,i18n_1.tr)("FEATURE_TOOLTIP_URL_HELP_TEXT",_this.callback.getLocale())+"</a></div>"),_this.featureTooltipElement.innerHTML=html,_this.linkElement=document.getElementById("feature-tooltip-link"),_this.setLinkClickHandler(),""==html?(_this.featureTooltipElement.classList.add("tooltip-hidden"),_this.linkElement&&(_this.linkElement.onclick=null)):_this.featureTooltipElement.classList.remove("tooltip-hidden")})).then((function(){_this.callback.decrementBusyWorker()})).catch((function(err){_this.callback.decrementBusyWorker(),(0,error_1.isSessionExpiredError)(err)&&_this.callback.onSessionExpired()}))}},FeatureQueryTooltip}();exports.FeatureQueryTooltip=FeatureQueryTooltip},90434:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(21249),Object.defineProperty(exports,"__esModule",{value:!0}),exports.MouseTrackingTooltip=void 0;var tslib_1=__webpack_require__(70655),Overlay_1=(0,tslib_1.__importDefault)(__webpack_require__(43223)),OverlayPositioning_1=(0,tslib_1.__importDefault)(__webpack_require__(38835)),MouseTrackingTooltip=function(){function MouseTrackingTooltip(map,contextMenuTest){this.map=map,this.isContextMenuOpen=contextMenuTest,this.map.getViewport().addEventListener("mouseout",this.onMouseOut.bind(this)),this.tooltipElement=document.createElement("div"),this.tooltipElement.className="tooltip",this.tooltip=new Overlay_1.default({element:this.tooltipElement,offset:[15,0],positioning:OverlayPositioning_1.default.CENTER_LEFT}),this.map.addOverlay(this.tooltip),this.text=null,this.tooltipElement.classList.add("tooltip-hidden")}return MouseTrackingTooltip.prototype.dispose=function(){this.tooltip.dispose()},MouseTrackingTooltip.prototype.onMouseMove=function(e){this.isContextMenuOpen()||(this.tooltip.setPosition(e.coordinate),this.text?this.tooltipElement.classList.remove("tooltip-hidden"):this.tooltipElement.classList.add("tooltip-hidden"))},MouseTrackingTooltip.prototype.onMouseOut=function(){this.tooltipElement.classList.add("tooltip-hidden")},MouseTrackingTooltip.prototype.setText=function(prompt){this.text=prompt,this.tooltipElement.innerHTML=this.text},MouseTrackingTooltip.prototype.clear=function(){this.text=null,this.tooltipElement.innerHTML=""},MouseTrackingTooltip.prototype.destroy=function(){this.tooltipElement&&this.tooltipElement.parentNode&&this.tooltipElement.parentNode.removeChild(this.tooltipElement)},MouseTrackingTooltip}();exports.MouseTrackingTooltip=MouseTrackingTooltip},9004:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(21249),__webpack_require__(57327),__webpack_require__(68309),__webpack_require__(47941),__webpack_require__(69826),Object.defineProperty(exports,"__esModule",{value:!0}),exports.SelectedFeaturesTooltip=void 0;var tslib_1=__webpack_require__(70655),Overlay_1=(0,tslib_1.__importDefault)(__webpack_require__(43223)),Image_1=(0,tslib_1.__importDefault)(__webpack_require__(20228)),Tile_1=(0,tslib_1.__importDefault)(__webpack_require__(92479)),ImageWMS_1=(0,tslib_1.__importDefault)(__webpack_require__(42225)),TileWMS_1=(0,tslib_1.__importDefault)(__webpack_require__(14409)),GeoJSON_1=(0,tslib_1.__importDefault)(__webpack_require__(64678)),OverlayPositioning_1=(0,tslib_1.__importDefault)(__webpack_require__(38835)),i18n_1=__webpack_require__(196),common_1=__webpack_require__(18036),client_1=__webpack_require__(61772),wfs_capabilities_panel_1=__webpack_require__(50654),string_1=__webpack_require__(53775),ol_style_helpers_1=__webpack_require__(68189),stickybits_1=(0,tslib_1.__importDefault)(__webpack_require__(89438));function defaultPopupContentRenderer(feat,locale,popupConfig){var _a,_b,_c,_d,html="",bClustered=(0,ol_style_helpers_1.isClusteredFeature)(feat),title=null!==(_a=null==popupConfig?void 0:popupConfig.title)&&void 0!==_a?_a:(0,i18n_1.tr)("SEL_FEATURE_PROPERTIES",locale),size=null===(_b=(0,ol_style_helpers_1.getClusterSubFeatures)(feat))||void 0===_b?void 0:_b.length;bClustered&&size>1&&(title=null!==(_d=null===(_c=null==popupConfig?void 0:popupConfig.clusteredTitle)||void 0===_c?void 0:_c.call(popupConfig,size))&&void 0!==_d?_d:(0,i18n_1.tr)("SEL_CLUSTER_PROPERTIES",locale,{size:size})),html+="<div class='selected-popup-header'><div>"+title+"</div><a id='feat-popup-closer' class='closer' href='#'>[x]</a><div class='clearit'></div></div>";var singlePopupContentRender=function singlePopupContentRender(feature,appendHtml){var _a=function renderForSingle(feature){var _a,_b,_c,linkFragment,table="<table class='selected-popup-single-properties-table'>";table+="<tbody>";var f=feature.getProperties(),pc=0;if(null==popupConfig?void 0:popupConfig.propertyMappings)for(var _i=0,_d=popupConfig.propertyMappings;_i<_d.length;_i++){var pm=_d[_i];pm.name!=feat.getGeometryName()&&(table+="<tr>",table+="<td class='property-name-cell'>"+pm.value+"</td>",table+="<td class='property-value-cell'>"+f[pm.name]+"</td>",table+="</tr>",pc++)}else for(var key in f)key!=feat.getGeometryName()&&(table+="<tr>",table+="<td class='property-name-cell'>"+key+"</td>",table+="<td class='property-value-cell'>"+f[key]+"</td>",table+="</tr>",pc++);if(table+="</tbody>",table+="</table>",null==popupConfig?void 0:popupConfig.linkProperty){var _e=popupConfig.linkProperty,name_1=_e.name,label=_e.label,linkTarget=_e.linkTarget,linkHref=void 0;if("string"==typeof name_1)linkHref=encodeURI(f[name_1]);else{for(var expr=name_1.expression,url=expr,pBegin=null!==(_a=name_1.placeholderBegin)&&void 0!==_a?_a:"{",pEnd=null!==(_b=name_1.placeholderEnd)&&void 0!==_b?_b:"}",_f=0,tokens_1=(0,string_1.extractPlaceholderTokens)(expr,pBegin,pEnd);_f<tokens_1.length;_f++){var t=tokens_1[_f],al=encodeURIComponent(null!==(_c=f[t])&&void 0!==_c?_c:"");url=(0,string_1.strReplaceAll)(url,""+pBegin+t+pEnd,al)}linkHref=url}(0,string_1.strIsNullOrEmpty)(linkHref)||(linkFragment="<div class='select-popup-single-link-wrapper'><a href=\""+linkHref+"\" target='"+linkTarget+"'>"+label+"</a></div>")}return[table,pc,linkFragment]}(feature),table=_a[0],pc=_a[1],linkFragment=_a[2];appendHtml(pc>0?"<div class='selected-popup-content-wrapper'>"+table+"</div>":"<div class='selected-popup-content-none'>"+(0,i18n_1.tr)("SEL_FEATURE_PROPERTIES_NONE",locale)+"</div>"),(0,string_1.strIsNullOrEmpty)(linkFragment)||appendHtml(linkFragment)};if(bClustered){var subFeatures=(0,ol_style_helpers_1.getClusterSubFeatures)(feat);if(1==subFeatures.length)singlePopupContentRender(subFeatures[0],(function(h){return html+=h}));else{var table=function renderForMultiple(subFeatures){var table="<table class='selected-popup-cluster-table'>",fheadings=(null==popupConfig?void 0:popupConfig.propertyMappings)?popupConfig.propertyMappings.filter((function(pm){return pm.name!=subFeatures[0].getGeometryName()})).map((function(pm){return pm.value})):Object.keys(subFeatures[0].getProperties()).filter((function(pn){return pn!=subFeatures[0].getGeometryName()})),fprops=(null==popupConfig?void 0:popupConfig.propertyMappings)?popupConfig.propertyMappings.map((function(pm){return pm.value})):Object.keys(subFeatures[0].getProperties()).filter((function(pn){return pn!=subFeatures[0].getGeometryName()}));table+="<thead><tr>";for(var _i=0,fheadings_1=fheadings;_i<fheadings_1.length;_i++)table+="<th>"+fheadings_1[_i]+"</th>";table+="</tr></thead>",table+="<tbody>";for(var _a=0,subFeatures_1=subFeatures;_a<subFeatures_1.length;_a++){var f=subFeatures_1[_a];table+="<tr>";for(var _b=0,fprops_1=fprops;_b<fprops_1.length;_b++){var property=fprops_1[_b];table+="<td>"+f.get(property)+"</td>"}table+="</tr>"}return table+="</tbody>",table+"</table>"}(subFeatures);html+="<div class='selected-popup-content-wrapper'>"+table+"</div>"}}else singlePopupContentRender(feat,(function(h){return html+=h}));return html}var SelectedFeaturesTooltip=function(){function SelectedFeaturesTooltip(map,parent){var _this=this;this.parent=parent,this.setPopupCloseHandler=function(){_this.closerEl&&(_this.closerEl.onclick=_this.closePopup)},this.closePopup=function(e){return e.preventDefault(),_this.hide(),_this.closerEl&&(_this.closerEl.onclick=null),!1},this.featureTooltipElement=document.createElement("div"),this.featureTooltipElement.addEventListener("mouseover",(function(){return _this.isMouseOverTooltip=!0})),this.featureTooltipElement.addEventListener("mouseout",(function(){return _this.isMouseOverTooltip=!1})),this.featureTooltipElement.className="selected-tooltip",this.featureTooltip=new Overlay_1.default({element:this.featureTooltipElement,offset:[15,0],positioning:OverlayPositioning_1.default.CENTER_LEFT}),this.map=map,this.map.addOverlay(this.featureTooltip),this.enabled=!0,this.isMouseOverTooltip=!1}return SelectedFeaturesTooltip.prototype.dispose=function(){this.featureTooltip.dispose()},Object.defineProperty(SelectedFeaturesTooltip.prototype,"isMouseOver",{get:function get(){return this.isMouseOverTooltip},enumerable:!1,configurable:!0}),SelectedFeaturesTooltip.prototype.isEnabled=function(){return this.enabled},SelectedFeaturesTooltip.prototype.setEnabled=function(enabled){this.enabled=enabled,this.enabled||(this.featureTooltipElement.innerHTML="",this.featureTooltipElement.classList.add("tooltip-hidden"))},SelectedFeaturesTooltip.prototype.hide=function(){this.featureTooltipElement.innerHTML="",this.featureTooltipElement.classList.add("tooltip-hidden")},SelectedFeaturesTooltip.prototype.queryWmsFeatures=function(currentLayerSet,layerMgr,coord,resolution,bAppendMode,callback){var _a,_b,_c;return(0,tslib_1.__awaiter)(this,void 0,void 0,(function(){var selected,client,format,wmsSources,currentWmsSource,layers,_i,layers_1,wmsLayer,_d,wmsSources_1,pair,layer,source,url,layerName,augs,resp,json,srcProj,epsg,features,popupConf,html;return(0,tslib_1.__generator)(this,(function(_e){switch(_e.label){case 0:for(selected=0,client=new client_1.Client("","mapagent"),format=new GeoJSON_1.default,wmsSources=[],(currentWmsSource=null==currentLayerSet?void 0:currentLayerSet.tryGetWmsSource())&&wmsSources.push(currentWmsSource),layers=layerMgr.getLayers().filter((function(l){return l.visible&&l.selectable&&"WMS"==l.type})),_i=0,layers_1=layers;_i<layers_1.length;_i++)layer=layers_1[_i],((wmsLayer=layerMgr.getLayer(layer.name))instanceof Image_1.default||wmsLayer instanceof Tile_1.default)&&((source=wmsLayer.getSource())instanceof ImageWMS_1.default||source instanceof TileWMS_1.default)&&wmsSources.push([wmsLayer,source]);_d=0,wmsSources_1=wmsSources,_e.label=1;case 1:return _d<wmsSources_1.length?(pair=wmsSources_1[_d],layer=pair[0],source=pair[1],(url=source.getFeatureInfoUrl(coord,resolution,this.map.getView().getProjection(),{INFO_FORMAT:"application/json"}))?(layerName=layer.get(common_1.LayerProperty.LAYER_NAME),(augs=callback.getWmsRequestAugmentations())[layerName]&&(url=augs[layerName](url)),[4,client.getText(url)]):[3,3]):[3,4];case 2:if(resp=_e.sent(),json=JSON.parse(resp),(null===(_a=json.features)||void 0===_a?void 0:_a.length)>0)return(srcProj=source.getProjection())||(epsg=(0,wfs_capabilities_panel_1.parseEpsgCodeFromCRS)(null===(_c=null===(_b=json.crs)||void 0===_b?void 0:_b.properties)||void 0===_c?void 0:_c.name))&&(srcProj="EPSG:"+epsg),features=format.readFeatures(resp,{dataProjection:srcProj,featureProjection:this.map.getView().getProjection()}),this.featureTooltip.setPosition(coord),popupConf=layer.get(common_1.LayerProperty.SELECTED_POPUP_CONFIGURATION),html=this.generateFeatureHtml(layerName,features[0],callback.getLocale(),popupConf),callback.addClientSelectedFeature(features[0],layer),null==currentLayerSet||currentLayerSet.clearWmsSelectionOverlay(),null==currentLayerSet||currentLayerSet.addWmsSelectionOverlay(features[0]),callback.addFeatureToHighlight(features[0],bAppendMode),selected++,this.featureTooltipElement.innerHTML=html,(0,stickybits_1.default)(".selected-popup-cluster-table th"),this.closerEl=document.getElementById("feat-popup-closer"),this.setPopupCloseHandler(),""==html?this.featureTooltipElement.classList.add("tooltip-hidden"):this.featureTooltipElement.classList.remove("tooltip-hidden"),[2,!0];_e.label=3;case 3:return _d++,[3,1];case 4:return 0==selected&&(callback.addFeatureToHighlight(void 0,!1),this.hide()),[2,!1]}}))}))},SelectedFeaturesTooltip.prototype.generateFeatureHtml=function(layerName,feat,locale,popupConfig){if(layerName){var customRenderer=this.parent.getSelectionPopupRenderer(layerName);return customRenderer?customRenderer(feat,locale,popupConfig):defaultPopupContentRenderer(feat,locale,popupConfig)}return defaultPopupContentRenderer(feat,locale,popupConfig)},SelectedFeaturesTooltip.prototype.showSelectedVectorFeatures=function(features,pixel,featureToLayerMap,locale){var coords=this.map.getCoordinateFromPixel(pixel);if(features.getLength()>0){this.featureTooltip.setPosition(coords);var f_1=features.item(0),popupConf=void 0,pair=featureToLayerMap.find((function(_a){var feat=_a[0];_a[1];return feat==f_1})),layerName=void 0;if(pair){var layer=pair[1];popupConf=layer.get(common_1.LayerProperty.SELECTED_POPUP_CONFIGURATION),layerName=layer.get(common_1.LayerProperty.LAYER_NAME)}var html=this.generateFeatureHtml(layerName,f_1,locale,popupConf);this.featureTooltipElement.innerHTML=html,(0,stickybits_1.default)(".selected-popup-cluster-table th"),this.closerEl=document.getElementById("feat-popup-closer"),this.setPopupCloseHandler(),""==html?this.featureTooltipElement.classList.add("tooltip-hidden"):this.featureTooltipElement.classList.remove("tooltip-hidden")}else this.featureTooltipElement.innerHTML="",this.featureTooltipElement.classList.add("tooltip-hidden")},SelectedFeaturesTooltip}();exports.SelectedFeaturesTooltip=SelectedFeaturesTooltip},72900:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(21249),__webpack_require__(15306),__webpack_require__(74916),Object.defineProperty(exports,"__esModule",{value:!0}),exports.UTFGridTrackingTooltip=void 0;var tslib_1=__webpack_require__(70655),Overlay_1=(0,tslib_1.__importDefault)(__webpack_require__(43223)),OverlayPositioning_1=(0,tslib_1.__importDefault)(__webpack_require__(38835)),UTFGridTrackingTooltip=function(){function UTFGridTrackingTooltip(map,gridSource,isContextMenuOpen){this.map=map,this.gridSource=gridSource,this.isContextMenuOpen=isContextMenuOpen,this.map.getViewport().addEventListener("mouseout",this.onMouseOut.bind(this)),this.tooltipElement=document.createElement("div"),this.tooltipElement.className="feature-tooltip",this.tooltip=new Overlay_1.default({element:this.tooltipElement,offset:[15,0],positioning:OverlayPositioning_1.default.CENTER_LEFT}),this.map.addOverlay(this.tooltip),this.text=null}return UTFGridTrackingTooltip.prototype.dispose=function(){this.tooltip.dispose()},UTFGridTrackingTooltip.prototype.onMouseMove=function(e){var _this=this;if(!this.isContextMenuOpen()){var viewResolution=this.map.getView().getResolution();viewResolution&&this.gridSource.forDataAtCoordinateAndResolution(e.coordinate,viewResolution,(function(data){if(data){var html="";data.MG_TOOLTIP&&(html+=data.MG_TOOLTIP.replace(/(\\n)+/g,"<br />")),data.MG_URL&&(html+="<br/><br/>",html+="<strong>CTRL + Click for more information</strong>"),_this.tooltipElement.innerHTML=html}_this.tooltip.setPosition(data?e.coordinate:void 0)}))}},UTFGridTrackingTooltip.prototype.onMouseOut=function(){},UTFGridTrackingTooltip.prototype.setText=function(prompt){this.text=prompt,this.tooltipElement.innerHTML=this.text},UTFGridTrackingTooltip.prototype.clear=function(){this.text=null,this.tooltipElement.innerHTML=""},UTFGridTrackingTooltip.prototype.destroy=function(){this.tooltipElement&&this.tooltipElement.parentNode&&this.tooltipElement.parentNode.removeChild(this.tooltipElement)},UTFGridTrackingTooltip}();exports.UTFGridTrackingTooltip=UTFGridTrackingTooltip},43745:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(43290),__webpack_require__(15218),__webpack_require__(57327),__webpack_require__(47941),__webpack_require__(21249),Object.defineProperty(exports,"__esModule",{value:!0}),exports.VectorLayerStyleEditor=exports.VectorStyleEditor=void 0;var tslib_1=__webpack_require__(70655),React=(0,tslib_1.__importStar)(__webpack_require__(67294)),core_1=__webpack_require__(61992),i18n_1=__webpack_require__(196),ol_style_contracts_1=__webpack_require__(42720),ol_style_helpers_1=__webpack_require__(68189),expr_eval_1=__webpack_require__(46217),common_1=__webpack_require__(59383),string_1=__webpack_require__(53775),legend_1=__webpack_require__(2482),ol_style_map_set_1=__webpack_require__(83513);function ExprEditor(props){return function assertValue(val){if((0,ol_style_contracts_1.isEvaluatable)(val))throw new Error("Value is expression instead of a raw value")}(props.expr),React.createElement(React.Fragment,null,"Expr: ",React.createElement("input",{type:"text",value:""+props.expr,onChange:function onChange(e){return props.onExprChanged(props.converter(e.target.value))}}))}var DynamicSwitch=function DynamicSwitch(props){if((0,ol_style_contracts_1.isEvaluatable)(props.expr))return React.createElement(ExprEditor,(0,tslib_1.__assign)({},props,{converter:function converter(v){return"true"==(null==v?void 0:v.toLowerCase())}}));props.expr,props.onExprChanged;var rest=(0,tslib_1.__rest)(props,["expr","onExprChanged"]),innerProps=(0,tslib_1.__assign)((0,tslib_1.__assign)({},rest),{checked:props.expr,onChange:function onChange(e){return props.onExprChanged(e.target.checked)}});return React.createElement(core_1.Switch,(0,tslib_1.__assign)({},innerProps))},buildFont=function buildFont(size,bold,italic,font){return void 0===font&&(font="sans-serif"),(bold?"bold":string_1.STR_EMPTY)+" "+(italic?"italic":string_1.STR_EMPTY)+" "+size+"px "+font};var LabelStyleEditor=function LabelStyleEditor(props){var _a,_b,_c,_d,_e,_f,_g,_h,_j,_k,_l,_m,style=props.style,locale=props.locale,onChange=props.onChange,isLine=props.isLine,_o=React.useState(!1),bold=_o[0],setBold=_o[1],_p=React.useState(!1),italic=_p[0],setItalic=_p[1],_q=React.useState(null!==(_c=null===(_b=null===(_a=style.label)||void 0===_a?void 0:_a.fill)||void 0===_b?void 0:_b.color)&&void 0!==_c?_c:"#000000"),localBgColor=_q[0],setLocalBgColor=_q[1],_r=React.useState(null!==(_f=null===(_e=null===(_d=style.label)||void 0===_d?void 0:_d.fill)||void 0===_e?void 0:_e.alpha)&&void 0!==_f?_f:255),localBgColorAlpha=_r[0],_s=(_r[1],React.useState(null!==(_j=null===(_h=null===(_g=style.label)||void 0===_g?void 0:_g.stroke)||void 0===_h?void 0:_h.color)&&void 0!==_j?_j:"#ffffff")),localStrokeColor=_s[0],setLocalStrokeColor=_s[1],_t=React.useState(null!==(_m=null===(_l=null===(_k=style.label)||void 0===_k?void 0:_k.stroke)||void 0===_l?void 0:_l.width)&&void 0!==_m?_m:1),localStrokeWidth=_t[0],setLocalStrokeWidth=_t[1],_u=React.useState(14),localFontSize=_u[0],setLocalFontSize=_u[1],_v=React.useState((0,tslib_1.__assign)({font:buildFont(localFontSize,bold,italic)},style.label)),localLabel=_v[0],setLocalLabel=_v[1],_w=React.useState(null!=style.label),hasLabel=_w[0],setHasLabel=_w[1],onToggleLinePlacement=React.useCallback((function(){if("line"==localLabel.placement){localLabel.placement;var rest=(0,tslib_1.__rest)(localLabel,["placement"]);setLocalLabel(rest)}else setLocalLabel((0,tslib_1.__assign)((0,tslib_1.__assign)({},localLabel),{placement:"line"}))}),[localLabel]);return React.useEffect((function(){if(hasLabel)onChange((0,tslib_1.__assign)((0,tslib_1.__assign)({},style),{label:localLabel}));else{style.label;var rest=(0,tslib_1.__rest)(style,["label"]);onChange(rest)}}),[localLabel,hasLabel]),React.useEffect((function(){setLocalLabel((0,tslib_1.__assign)((0,tslib_1.__assign)({},localLabel),{font:buildFont(localFontSize,bold,italic)}))}),[localFontSize,bold,italic]),React.useEffect((function(){setLocalLabel((0,tslib_1.__assign)((0,tslib_1.__assign)({},localLabel),{fill:(0,tslib_1.__assign)((0,tslib_1.__assign)({},localLabel.fill),{color:localBgColor,alpha:localBgColorAlpha}),stroke:(0,tslib_1.__assign)((0,tslib_1.__assign)({},localLabel.stroke),{color:localStrokeColor,width:localStrokeWidth})}))}),[localStrokeColor,localStrokeWidth,localBgColorAlpha,localBgColor]),React.createElement(React.Fragment,null,React.createElement(core_1.Switch,{checked:hasLabel,onChange:function onChange(e){return setHasLabel(e.target.checked)},label:(0,i18n_1.tr)("ENABLE_LABELS",locale)}),hasLabel&&React.createElement(core_1.FormGroup,{label:(0,i18n_1.tr)("LABEL_TEXT",locale)},React.createElement(common_1.StringExprEditor,{locale:locale,value:localLabel.text,onChange:function onChange(t){return setLocalLabel((0,tslib_1.__assign)((0,tslib_1.__assign)({},localLabel),{text:t}))}})),hasLabel&&React.createElement(core_1.FormGroup,{label:(0,i18n_1.tr)("LABEL_SIZE",locale)},React.createElement(common_1.NumberExprEditor,{locale:locale,value:localFontSize,onChange:function onChange(t){return setLocalFontSize(function coalesceExpr(expr,defaultVal){return(0,ol_style_contracts_1.isEvaluatable)(expr)?defaultVal:null!=expr?expr:defaultVal}(t,14))}})),hasLabel&&React.createElement(core_1.ButtonGroup,null,React.createElement(core_1.Button,{intent:core_1.Intent.PRIMARY,active:bold,onClick:function onClick(e){return setBold(!bold)}},(0,i18n_1.tr)("LABEL_BOLD",locale)),React.createElement(core_1.Button,{intent:core_1.Intent.PRIMARY,active:italic,onClick:function onClick(e){return setItalic(!italic)}},(0,i18n_1.tr)("LABEL_ITALIC",locale)),isLine&&React.createElement(core_1.Button,{intent:core_1.Intent.PRIMARY,active:"line"==localLabel.placement,onClick:function onClick(e){return onToggleLinePlacement()}},(0,i18n_1.tr)("LABEL_LINE_PLACEMENT",locale))),hasLabel&&React.createElement(core_1.FormGroup,{label:(0,i18n_1.tr)("LABEL_COLOR",locale)},React.createElement(common_1.ColorExprEditor,{locale:locale,value:localBgColor,onChange:function onChange(c){return setLocalBgColor(c)}})),hasLabel&&React.createElement(core_1.FormGroup,{label:(0,i18n_1.tr)("LABEL_OUTLINE_COLOR",locale)},React.createElement(common_1.ColorExprEditor,{locale:locale,value:localStrokeColor,onChange:function onChange(c){return setLocalStrokeColor(c)}})),hasLabel&&React.createElement(core_1.FormGroup,{label:(0,i18n_1.tr)("LABEL_OUTLINE_THICKNESS",locale)},React.createElement(common_1.NumberExprEditor,{locale:locale,value:localStrokeWidth,onChange:function onChange(t){return setLocalStrokeWidth(t)}})))},PointIconStyleEditor=function PointIconStyleEditor(_a){var style=_a.style,_onChange=_a.onChange,locale=_a.locale,_b=React.useState(style.src),localSrc=_b[0],setLocalSrc=_b[1];React.useEffect((function(){setLocalSrc(style.src)}),[style.src]);return React.createElement("div",null,React.createElement(core_1.FormGroup,{label:(0,i18n_1.tr)("VSED_PT_ICON_SRC",locale)},React.createElement(common_1.StringExprEditor,{value:localSrc,onChange:function onChange(e){return setLocalSrc(e)},locale:locale}),!(0,ol_style_contracts_1.isEvaluatable)(style.src)&&React.createElement("img",{src:style.src})),React.createElement(core_1.FormGroup,{label:(0,i18n_1.tr)("VSED_PT_ICON_ANCHOR",locale)},(0,i18n_1.tr)("VSED_PT_ICON_ANCHOR_H",locale)," ",React.createElement(core_1.NumericInput,{value:style.anchor[0],min:0,onValueChange:function onValueChange(e){return _onChange((0,tslib_1.__assign)((0,tslib_1.__assign)({},style),{anchor:[e,style.anchor[1]]}))}}),(0,i18n_1.tr)("VSED_PT_ICON_ANCHOR_V",locale)," ",React.createElement(core_1.NumericInput,{value:style.anchor[1],min:0,onValueChange:function onValueChange(e){return _onChange((0,tslib_1.__assign)((0,tslib_1.__assign)({},style),{anchor:[style.anchor[0],e]}))}})),React.createElement(DynamicSwitch,{label:(0,i18n_1.tr)("VSED_PT_ICON_ROTATE_WITH_VIEW",locale),expr:style.rotateWithView,onExprChanged:function onExprChanged(e){return _onChange((0,tslib_1.__assign)((0,tslib_1.__assign)({},style),{rotateWithView:e}))}}),React.createElement(core_1.FormGroup,{label:(0,i18n_1.tr)("VSED_PT_ICON_ROTATION",locale)},React.createElement(common_1.SliderExprEditor,{locale:locale,min:0,max:360,labelStepSize:360,value:style.rotation,onChange:function onChange(n){return _onChange((0,tslib_1.__assign)((0,tslib_1.__assign)({},style),{rotation:n}))}})),React.createElement(core_1.FormGroup,{label:(0,i18n_1.tr)("VSED_PT_ICON_SCALE",locale)},React.createElement(common_1.NumberExprEditor,{value:style.scale,onChange:function onChange(n){return _onChange((0,tslib_1.__assign)((0,tslib_1.__assign)({},style),{scale:n}))},locale:locale})))},PointCircleStyleEditor=function PointCircleStyleEditor(_a){var style=_a.style,_onChange2=_a.onChange,locale=_a.locale;return React.createElement("div",null,React.createElement(core_1.FormGroup,{label:(0,i18n_1.tr)("VSED_PT_FILL_COLOR",locale)},React.createElement(common_1.ColorExprEditor,{locale:locale,value:style.fill.color,onChange:function onChange(c){return _onChange2((0,tslib_1.__assign)((0,tslib_1.__assign)({},style),{fill:{color:c,alpha:style.fill.alpha}}))}})),React.createElement(core_1.FormGroup,{label:(0,i18n_1.tr)("VSED_PT_FILL_COLOR_ALPHA",locale)},React.createElement(common_1.SliderExprEditor,{locale:locale,min:0,max:255,labelStepSize:255,value:style.fill.alpha,onChange:function onChange(n){return _onChange2((0,tslib_1.__assign)((0,tslib_1.__assign)({},style),{fill:{color:style.fill.color,alpha:n}}))}})),React.createElement(core_1.FormGroup,{label:(0,i18n_1.tr)("VSED_PT_RADIUS",locale)},React.createElement(common_1.NumberExprEditor,{locale:locale,value:style.radius,min:1,onChange:function onChange(n){return _onChange2((0,tslib_1.__assign)((0,tslib_1.__assign)({},style),{radius:n}))}})),React.createElement(core_1.FormGroup,{label:(0,i18n_1.tr)("VSED_PT_OUTLINE_COLOR",locale)},React.createElement(common_1.ColorExprEditor,{locale:locale,value:style.stroke.color,onChange:function onChange(c){return _onChange2((0,tslib_1.__assign)((0,tslib_1.__assign)({},style),{stroke:{color:c,width:style.stroke.width,alpha:style.stroke.alpha}}))}})),React.createElement(core_1.FormGroup,{label:(0,i18n_1.tr)("VSED_PT_OUTLINE_COLOR_ALPHA",locale)},React.createElement(common_1.SliderExprEditor,{locale:locale,min:0,max:255,labelStepSize:255,value:style.stroke.alpha,onChange:function onChange(n){return _onChange2((0,tslib_1.__assign)((0,tslib_1.__assign)({},style),{stroke:{color:style.stroke.color,width:style.stroke.width,alpha:n}}))}})),React.createElement(core_1.FormGroup,{label:(0,i18n_1.tr)("VSED_PT_OUTLINE_WIDTH",locale)},React.createElement(common_1.NumberExprEditor,{locale:locale,value:style.stroke.width,min:1,onChange:function onChange(n){return _onChange2((0,tslib_1.__assign)((0,tslib_1.__assign)({},style),{stroke:{color:style.stroke.color,width:n,alpha:style.stroke.alpha}}))}})))},PointStyleEditor=function PointStyleEditor(_a){var style=_a.style,onChange=_a.onChange,locale=_a.locale,_b=React.useState(void 0),iconStyle=_b[0],setIconStyle=_b[1],_c=React.useState(void 0),circleStyle=_c[0],setCircleStyle=_c[1],_d=React.useState(style),currentStyle=_d[0],setCurrentStyle=_d[1],onStyleTypeChange=function onStyleTypeChange(type){switch(type){case"Circle":if(circleStyle)setCurrentStyle(circleStyle),onChange(circleStyle);else{var s=(0,tslib_1.__assign)({},ol_style_contracts_1.DEFAULT_POINT_CIRCLE_STYLE);setCircleStyle(s),setCurrentStyle(s),onChange(s)}break;case"Icon":if(iconStyle)setCurrentStyle(iconStyle),onChange(iconStyle);else{s=(0,tslib_1.__assign)({},ol_style_contracts_1.DEFAULT_POINT_ICON_STYLE);setIconStyle(s),setCurrentStyle(s),onChange(s)}}};return React.useEffect((function(){!function applyCurrentStyle(s){switch(setCurrentStyle(s),s.type){case"Circle":setCircleStyle(s);break;case"Icon":setIconStyle(s)}}(style)}),[style]),React.createElement("div",null,React.createElement(core_1.RadioGroup,{inline:!0,label:(0,i18n_1.tr)("VSED_PT_TYPE",locale),onChange:function onChange(e){return onStyleTypeChange(e.target.value)},selectedValue:currentStyle.type},React.createElement(core_1.Radio,{label:(0,i18n_1.tr)("VSED_PT_TYPE_CIRCLE",locale),value:"Circle"}),React.createElement(core_1.Radio,{label:(0,i18n_1.tr)("VSED_PT_TYPE_ICON",locale),value:"Icon"})),"Icon"==currentStyle.type&&React.createElement(PointIconStyleEditor,{style:currentStyle,onChange:onChange,locale:locale}),"Circle"==currentStyle.type&&React.createElement(PointCircleStyleEditor,{style:currentStyle,onChange:onChange,locale:locale}),React.createElement(LabelStyleEditor,{style:currentStyle,locale:locale,onChange:onChange}))},LineStyleEditor=function LineStyleEditor(_a){var style=_a.style,_onChange3=_a.onChange,locale=_a.locale;return React.createElement("div",null,React.createElement(core_1.FormGroup,{label:(0,i18n_1.tr)("VSED_LN_OUTLINE_COLOR",locale)},React.createElement(common_1.ColorExprEditor,{locale:locale,value:style.color,onChange:function onChange(c){return _onChange3((0,tslib_1.__assign)((0,tslib_1.__assign)({},style),{color:c,width:style.width,alpha:style.alpha}))}})),React.createElement(core_1.FormGroup,{label:(0,i18n_1.tr)("VSED_LN_OUTLINE_COLOR_ALPHA",locale)},React.createElement(common_1.SliderExprEditor,{locale:locale,min:0,max:255,labelStepSize:255,value:style.alpha,onChange:function onChange(n){return _onChange3((0,tslib_1.__assign)((0,tslib_1.__assign)({},style),{color:style.color,width:style.width,alpha:n}))}})),React.createElement(core_1.FormGroup,{label:(0,i18n_1.tr)("VSED_LN_OUTLINE_THICKNESS",locale)},React.createElement(common_1.NumberExprEditor,{locale:locale,min:1,value:style.width,onChange:function onChange(n){return _onChange3((0,tslib_1.__assign)((0,tslib_1.__assign)({},style),{color:style.color,width:n,alpha:style.alpha}))}})),React.createElement(LabelStyleEditor,{style:style,locale:locale,onChange:_onChange3,isLine:!0}))},PolygonStyleEditor=function PolygonStyleEditor(_a){var style=_a.style,_onChange4=_a.onChange,locale=_a.locale;return React.createElement("div",null,React.createElement(core_1.FormGroup,{label:(0,i18n_1.tr)("VSED_PL_FILL_COLOR",locale)},React.createElement(common_1.ColorExprEditor,{locale:locale,value:style.fill.color,onChange:function onChange(c){return _onChange4((0,tslib_1.__assign)((0,tslib_1.__assign)({},style),{fill:{color:c,alpha:style.fill.alpha}}))}})),React.createElement(core_1.FormGroup,{label:(0,i18n_1.tr)("VSED_PL_FILL_COLOR_ALPHA",locale)},React.createElement(common_1.SliderExprEditor,{locale:locale,min:0,max:255,labelStepSize:255,value:style.fill.alpha,onChange:function onChange(n){return _onChange4((0,tslib_1.__assign)((0,tslib_1.__assign)({},style),{fill:{color:style.fill.color,alpha:n}}))}})),React.createElement(core_1.FormGroup,{label:(0,i18n_1.tr)("VSED_PL_OUTLINE_COLOR",locale)},React.createElement(common_1.ColorExprEditor,{locale:locale,value:style.stroke.color,onChange:function onChange(c){return _onChange4((0,tslib_1.__assign)((0,tslib_1.__assign)({},style),{stroke:{color:c,width:style.stroke.width,alpha:style.stroke.alpha}}))}})),React.createElement(core_1.FormGroup,{label:(0,i18n_1.tr)("VSED_PL_OUTLINE_COLOR_ALPHA",locale)},React.createElement(common_1.SliderExprEditor,{locale:locale,min:0,max:255,labelStepSize:255,value:style.stroke.alpha,onChange:function onChange(n){return _onChange4((0,tslib_1.__assign)((0,tslib_1.__assign)({},style),{stroke:{color:style.stroke.color,width:style.stroke.width,alpha:n}}))}})),React.createElement(core_1.FormGroup,{label:(0,i18n_1.tr)("VSED_PL_OUTLINE_THICKNESS",locale)},React.createElement(common_1.NumberExprEditor,{locale:locale,value:style.stroke.width,min:1,onChange:function onChange(n){return _onChange4((0,tslib_1.__assign)((0,tslib_1.__assign)({},style),{stroke:{color:style.stroke.color,width:n,alpha:style.stroke.alpha}}))}})),React.createElement(LabelStyleEditor,{style:style,locale:locale,onChange:_onChange4}))},VectorStyleEditor=function VectorStyleEditor(props){var _a,_b,_c,locale=props.locale,style=props.style,onChange=props.onChange,enableLine=props.enableLine,enablePoint=props.enablePoint,enablePolygon=props.enablePolygon,_d=React.useState(void 0),selectedTab=_d[0],setSelectedTab=_d[1],_e=React.useState(null!==(_a=null==style?void 0:style.point)&&void 0!==_a?_a:ol_style_contracts_1.DEFAULT_POINT_CIRCLE_STYLE),pointStyle=_e[0],setPointStyle=_e[1],_f=React.useState(null!==(_b=null==style?void 0:style.line)&&void 0!==_b?_b:ol_style_contracts_1.DEFAULT_LINE_STYLE),lineStyle=_f[0],setLineStyle=_f[1],_g=React.useState(null!==(_c=null==style?void 0:style.polygon)&&void 0!==_c?_c:ol_style_contracts_1.DEFAULT_POLY_STYLE),polyStyle=_g[0],setPolyStyle=_g[1];React.useEffect((function(){var _a,_b,_c;setPointStyle(null!==(_a=null==style?void 0:style.point)&&void 0!==_a?_a:ol_style_contracts_1.DEFAULT_POINT_CIRCLE_STYLE),setLineStyle(null!==(_b=null==style?void 0:style.line)&&void 0!==_b?_b:ol_style_contracts_1.DEFAULT_LINE_STYLE),setPolyStyle(null!==(_c=null==style?void 0:style.polygon)&&void 0!==_c?_c:ol_style_contracts_1.DEFAULT_POLY_STYLE)}),[style]);var onStyleChanged=function onStyleChanged(point,line,poly){var newStyle={label:null==style?void 0:style.label};enablePoint&&(newStyle.point=point),enableLine&&(newStyle.line=line),enablePolygon&&(newStyle.polygon=poly),null==onChange||onChange(newStyle),newStyle.point&&setPointStyle(newStyle.point),newStyle.line&&setLineStyle(newStyle.line),newStyle.polygon&&setPolyStyle(newStyle.polygon)};if(enableLine||enablePoint||enablePolygon){return React.createElement(core_1.Tabs,{onChange:function onChange(t){return setSelectedTab(t)},selectedTabId:selectedTab},enablePoint&&React.createElement(core_1.Tab,{id:"pointStyle",title:(0,i18n_1.tr)("VSED_TAB_POINT",locale),panel:React.createElement(PointStyleEditor,{style:pointStyle,locale:locale,onChange:function onPointStyleChanged(st){onStyleChanged(st,lineStyle,polyStyle)}})}),enableLine&&React.createElement(core_1.Tab,{id:"lineStyle",title:(0,i18n_1.tr)("VSED_TAB_LINE",locale),panel:React.createElement(LineStyleEditor,{style:lineStyle,locale:locale,onChange:function onLineStyleChanged(st){onStyleChanged(pointStyle,st,polyStyle)}})}),enablePolygon&&React.createElement(core_1.Tab,{id:"polyStyle",title:(0,i18n_1.tr)("VSED_TAB_POLY",locale),panel:React.createElement(PolygonStyleEditor,{style:polyStyle,locale:locale,onChange:function onPolygonStyleChanged(st){onStyleChanged(pointStyle,lineStyle,st)}})}))}return React.createElement(core_1.NonIdealState,{icon:"warning-sign",title:(0,i18n_1.tr)("VSED_NO_STYLES_TITLE",locale),description:(0,i18n_1.tr)("VSED_NO_STYLES_DESC",locale)})};exports.VectorStyleEditor=VectorStyleEditor;var parser=new expr_eval_1.Parser,FilterItem=function FilterItem(props){var filter=props.filter,isDefault=props.isDefault,isStyleEditorOpen=props.isStyleEditorOpen,featureStyle=props.featureStyle,onChange=props.onChange,_a=React.useState(null!=filter?filter:""),localFilter=_a[0],setLocalFilter=_a[1],_b=React.useState(!0),isLocalFilterValid=_b[0],setIsLocalFilterValid=_b[1],_c=React.useState(void 0),pointStyleUrl=_c[0],setPointStyleUrl=_c[1],_d=React.useState(void 0),lineStyleUrl=_d[0],setLineStyleUrl=_d[1],_e=React.useState(void 0),polyStyleUrl=_e[0],setPolyStyleUrl=_e[1];React.useEffect((function(){setLocalFilter(localFilter)}),[filter]),React.useEffect((function(){try{for(var expr=parser.parse(localFilter),bHaveVar=!1,bHaveOperator=!1,_i=0,_a=expr.tokens;_i<_a.length;_i++){switch(_a[_i].type){case"IVAR":bHaveVar=!0;break;case"IOP2":bHaveOperator=!0}}setIsLocalFilterValid(bHaveVar&&bHaveOperator&&3==expr.tokens.length)}catch(e){setIsLocalFilterValid(!1)}}),[localFilter]),React.useEffect((function(){var _a,_b,fs=featureStyle;"Circle"==(null===(_a=null==featureStyle?void 0:featureStyle.point)||void 0===_a?void 0:_a.type)&&(0,ol_style_contracts_1.isEvaluatable)(featureStyle.point.radius)&&"Circle"==(null===(_b=(fs=JSON.parse(JSON.stringify(featureStyle))).point)||void 0===_b?void 0:_b.type)&&(fs.point.radius=5);var pos,ls,pls,olstyle=(0,ol_style_map_set_1.vectorStyleToStyleMap)(fs);"function"==typeof olstyle?(pos=function pos(feat){return olstyle(feat,void 0).Point},ls=function ls(feat){return olstyle(feat,void 0).LineString},pls=function pls(feat){return olstyle(feat,void 0).Polygon}):(pos=olstyle.Point,ls=olstyle.LineString,pls=olstyle.Polygon);var cPoint=(0,legend_1.getLegendImage)({typeGeom:"Point",style:pos}),cLineString=(0,legend_1.getLegendImage)({typeGeom:"LineString",style:ls}),cPolygon=(0,legend_1.getLegendImage)({typeGeom:"Polygon",style:pls});setPointStyleUrl(cPoint.toDataURL()),setLineStyleUrl(cLineString.toDataURL()),setPolyStyleUrl(cPolygon.toDataURL())}),[featureStyle]);isLocalFilterValid||core_1.Intent.DANGER;var colSpan=5;props.enableLine||colSpan--,props.enablePoint||colSpan--,props.enablePolygon||colSpan--;var filterExprEd=React.createElement("span",null,featureStyle.label);return React.createElement(React.Fragment,null,React.createElement("tr",null,props.enablePoint&&React.createElement("td",null,pointStyleUrl&&React.createElement("img",{src:pointStyleUrl})),props.enableLine&&React.createElement("td",null,lineStyleUrl&&React.createElement("img",{src:lineStyleUrl})),props.enablePolygon&&React.createElement("td",null,polyStyleUrl&&React.createElement("img",{src:polyStyleUrl})),React.createElement("td",null,isDefault?React.createElement("strong",null,"Default Style"):filterExprEd),React.createElement("td",null,React.createElement(core_1.Button,{intent:isStyleEditorOpen?core_1.Intent.DANGER:core_1.Intent.PRIMARY,onClick:function onToggle(){props.onToggleStyleEditor(!isStyleEditorOpen)},icon:isStyleEditorOpen?"cross":"edit"}))),isStyleEditorOpen&&React.createElement("tr",null,React.createElement("td",{colSpan:colSpan},React.createElement(exports.VectorStyleEditor,{style:featureStyle,onChange:function onInnerStyleChanged(style){null==onChange||onChange(isDefault?ol_style_helpers_1.DEFAULT_STYLE_KEY:localFilter,style)},enableLine:props.enableLine,enablePoint:props.enablePoint,enablePolygon:props.enablePolygon,locale:props.locale}))))},VectorLayerStyleEditor=function VectorLayerStyleEditor(props){var filters=Object.keys(props.style).filter((function(k){return k!=ol_style_helpers_1.DEFAULT_STYLE_KEY})),_a=React.useState({}),openStyleEditors=_a[0],setOpenStyleEditors=_a[1],onFeatureStyleChanged=function onFeatureStyleChanged(filter,style){var _a,updatedStyle=(0,tslib_1.__assign)({},props.style);updatedStyle[filter]=style,null===(_a=props.onChange)||void 0===_a||_a.call(props,updatedStyle)},_onToggleStyleEditor=function onToggleStyleEditor(index,visible){var opEds=(0,tslib_1.__assign)({},openStyleEditors);visible?opEds[index]=!0:delete opEds[index],setOpenStyleEditors(opEds)};return React.createElement("table",{style:{width:"100%"}},React.createElement("colgroup",null,props.enablePoint&&React.createElement("col",{span:1,style:{width:24}}),props.enableLine&&React.createElement("col",{span:1,style:{width:24}}),props.enablePolygon&&React.createElement("col",{span:1,style:{width:24}}),React.createElement("col",{span:1}),React.createElement("col",{span:1,style:{width:32}})),React.createElement("tbody",null,filters.map((function(f,i){return React.createElement(FilterItem,{key:"filter-"+i,filter:f,isDefault:!1,onChange:function onChange(f,s){return onFeatureStyleChanged(f,s)},featureStyle:props.style[filters[i]],isStyleEditorOpen:!0===openStyleEditors[f],onToggleStyleEditor:function onToggleStyleEditor(isVisible){return _onToggleStyleEditor(f,isVisible)},locale:props.locale,enableLine:props.enableLine,enablePoint:props.enablePoint,enablePolygon:props.enablePolygon})})),React.createElement(FilterItem,{isDefault:!0,onChange:function onChange(f,s){return onFeatureStyleChanged(ol_style_helpers_1.DEFAULT_STYLE_KEY,s)},featureStyle:props.style.default,isStyleEditorOpen:!0===openStyleEditors[ol_style_helpers_1.DEFAULT_STYLE_KEY],onToggleStyleEditor:function onToggleStyleEditor(isVisible){return _onToggleStyleEditor(ol_style_helpers_1.DEFAULT_STYLE_KEY,isVisible)},locale:props.locale,enableLine:props.enableLine,enablePoint:props.enablePoint,enablePolygon:props.enablePolygon})))};exports.VectorLayerStyleEditor=VectorLayerStyleEditor;try{VectorStyleEditor.displayName="VectorStyleEditor",VectorStyleEditor.__docgenInfo={description:"A vector style editor component",displayName:"VectorStyleEditor",props:{style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"IVectorFeatureStyle"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((style: IVectorFeatureStyle) => void)"}},enablePoint:{defaultValue:null,description:"",name:"enablePoint",required:!0,type:{name:"boolean"}},enableLine:{defaultValue:null,description:"",name:"enableLine",required:!0,type:{name:"boolean"}},enablePolygon:{defaultValue:null,description:"",name:"enablePolygon",required:!0,type:{name:"boolean"}},locale:{defaultValue:null,description:"",name:"locale",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/vector-style-editor.tsx#VectorStyleEditor"]={docgenInfo:VectorStyleEditor.__docgenInfo,name:"VectorStyleEditor",path:"src/components/vector-style-editor.tsx#VectorStyleEditor"})}catch(__react_docgen_typescript_loader_error){}try{VectorLayerStyleEditor.displayName="VectorLayerStyleEditor",VectorLayerStyleEditor.__docgenInfo={description:"",displayName:"VectorLayerStyleEditor",props:{style:{defaultValue:null,description:"",name:"style",required:!0,type:{name:"IVectorLayerStyle"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((style: IVectorLayerStyle) => void)"}},enablePoint:{defaultValue:null,description:"",name:"enablePoint",required:!0,type:{name:"boolean"}},enableLine:{defaultValue:null,description:"",name:"enableLine",required:!0,type:{name:"boolean"}},enablePolygon:{defaultValue:null,description:"",name:"enablePolygon",required:!0,type:{name:"boolean"}},locale:{defaultValue:null,description:"",name:"locale",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/vector-style-editor.tsx#VectorLayerStyleEditor"]={docgenInfo:VectorLayerStyleEditor.__docgenInfo,name:"VectorLayerStyleEditor",path:"src/components/vector-style-editor.tsx#VectorLayerStyleEditor"})}catch(__react_docgen_typescript_loader_error){}},56174:function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ViewSize=void 0;var React=(0,__webpack_require__(70655).__importStar)(__webpack_require__(67294)),units_1=__webpack_require__(8748),i18n_1=__webpack_require__(196),ViewSizeContent=function ViewSizeContent(_a){var gw=_a.gw,gh=_a.gh,unit=_a.unit,str=(0,i18n_1.fmt)("{gw} x {gh} ({unit})",{gw:gw,gh:gh,unit:unit});return React.createElement("span",{dangerouslySetInnerHTML:{__html:str}})},ViewSize=function ViewSize(props){var width=props.width,height=props.height,view=props.view,metersPerUnit=props.metersPerUnit,units=props.units,precision=props.precision,locale=props.locale,uom=(0,units_1.getUnitOfMeasure)(units),_a=(0,units_1.getMapSize)([width,height],metersPerUnit,units,view.resolution,precision),gw=_a[0],gh=_a[1];return React.createElement("div",{className:"status-bar-component component-view-size"},React.createElement(ViewSizeContent,{gw:gw,gh:gh,unit:uom.abbreviation(locale)}))};exports.ViewSize=ViewSize;try{ViewSize.displayName="ViewSize",ViewSize.__docgenInfo={description:"",displayName:"ViewSize",props:{width:{defaultValue:null,description:"Width in pixels\n@memberof IViewSizeProps",name:"width",required:!0,type:{name:"{number}"}},height:{defaultValue:null,description:"Height in pixels\n@memberof IViewSizeProps",name:"height",required:!0,type:{name:"{number}"}},metersPerUnit:{defaultValue:null,description:"Meters per unit\n@memberof IViewSizeProps",name:"metersPerUnit",required:!0,type:{name:"{number}"}},precision:{defaultValue:null,description:"Decimal precision to display\n@memberof IViewSizeProps",name:"precision",required:!1,type:{name:"{number}"}},view:{defaultValue:null,description:"The map view\n@memberof IViewSizeProps",name:"view",required:!0,type:{name:"{IMapView}"}},units:{defaultValue:null,description:"The desired unit of measure to display the size in\n@memberof IViewSizeProps",name:"units",required:!0,type:{name:"{UnitOfMeasure}"}},locale:{defaultValue:null,description:"@since 0.12.2",name:"locale",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/view-size.tsx#ViewSize"]={docgenInfo:ViewSize.__docgenInfo,name:"ViewSize",path:"src/components/view-size.tsx#ViewSize"})}catch(__react_docgen_typescript_loader_error){}},12872:function(__unused_webpack_module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BLANK_GIF_DATA_URI=exports.LAYER_ID_MG_SEL_OVERLAY=exports.LAYER_ID_MG_BASE=exports.LAYER_ID_BASE=exports.FUSION_REDLINE_NAME=exports.FUSION_MAP_NAME=exports.FUSION_TASKPANE_NAME=exports.WEBLAYOUT_CONTEXTMENU=exports.WEBLAYOUT_TASKMENU=exports.WEBLAYOUT_TOOLBAR=exports.MDF_INFINITY=exports.EMPTY_OBJECT=exports.DEG=exports.NBSP=void 0,exports.NBSP=String.fromCharCode(160),exports.DEG=String.fromCharCode(176),exports.EMPTY_OBJECT={},exports.MDF_INFINITY=1e12,exports.WEBLAYOUT_TOOLBAR="Toolbar",exports.WEBLAYOUT_TASKMENU="TaskMenu",exports.WEBLAYOUT_CONTEXTMENU="MapContextMenu",exports.FUSION_TASKPANE_NAME="TaskPane",exports.FUSION_MAP_NAME="Map",exports.FUSION_REDLINE_NAME="Redline",exports.LAYER_ID_BASE="LAYER_ID_BASE",exports.LAYER_ID_MG_BASE="LAYER_ID_MG_BASE",exports.LAYER_ID_MG_SEL_OVERLAY="LAYER_ID_MG_SEL_OVERLAY",exports.BLANK_GIF_DATA_URI="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="},4485:function(__unused_webpack_module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ActionType=void 0,function(ActionType){ActionType.SET_LOCALE="MapGuide/SET_LOCALE",ActionType.INIT_APP="MapGuide/INIT_APP",ActionType.INIT_ERROR="MapGuide/INIT_ERROR",ActionType.INIT_ACKNOWLEDGE_WARNINGS="MapGuide/INIT_ACKNOWLEDGE_WARNINGS",ActionType.LEGEND_SET_GROUP_VISIBILITY="Legend/SET_GROUP_VISIBILITY",ActionType.LEGEND_SET_LAYER_VISIBILITY="Legend/SET_LAYER_VISIBILITY",ActionType.LEGEND_SET_LAYER_SELECTABLE="Legend/SET_LAYER_SELECTABLE",ActionType.LEGEND_SET_GROUP_EXPANDABLE="Legend/SET_GROUP_EXPANDABLE",ActionType.MAP_SET_ACTIVE_MAP="Map/SET_ACTIVE_MAP",ActionType.MAP_REFRESH="Map/REFRESH",ActionType.MAP_SET_VIEW="Map/SET_VIEW",ActionType.MAP_SET_SCALE="Map/SET_SCALE",ActionType.MAP_SET_ACTIVE_TOOL="Map/SET_ACTIVE_TOOL",ActionType.MAP_SET_MAPTIP="Map/SET_MAPTIP",ActionType.MAP_SET_MANUAL_MAPTIP="Map/MAP_SET_MANUAL_MAPTIP",ActionType.MAP_SET_SELECTION="Map/SET_SELECTION",ActionType.MAP_ADD_CLIENT_SELECTED_FEATURE="Map/ADD_CLIENT_SELECTED_FEATURE",ActionType.MAP_CLEAR_CLIENT_SELECTION="Map/CLEAR_CLIENT_SELECTION",ActionType.MAP_SET_BUSY_COUNT="Map/SET_BUSY_COUNT",ActionType.MAP_SET_BASE_LAYER="Map/SET_BASE_LAYER",ActionType.MAP_ZOOM_IN="Map/ZOOM_IN",ActionType.MAP_ZOOM_OUT="Map/ZOOM_OUT",ActionType.MAP_PREVIOUS_VIEW="Map/PREVIOUS_VIEW",ActionType.MAP_NEXT_VIEW="Map/NEXT_VIEW",ActionType.MAP_SET_LAYER_TRANSPARENCY="Map/SET_LAYER_TRANSPARENCY",ActionType.MAP_SET_VIEW_SIZE_UNITS="Map/SET_VIEW_SIZE_UNITS",ActionType.MAP_SET_VIEW_ROTATION="Map/SET_VIEW_ROTATION",ActionType.MAP_SET_VIEW_ROTATION_ENABLED="Map/SET_VIEW_ROTATION_ENABLED",ActionType.MAP_RESIZED="Map/RESIZED",ActionType.MAP_SHOW_SELECTED_FEATURE="Map/SHOW_SELECTED_FEATURE",ActionType.TASK_INVOKE_URL="TaskPane/INVOKE_URL",ActionType.TASK_PANE_HOME="TaskPane/HOME",ActionType.TASK_PANE_FORWARD="TaskPane/FORWARD",ActionType.TASK_PANE_BACK="TaskPane/BACK",ActionType.TASK_PANE_PUSH_URL="TaskPane/PUSH_URL",ActionType.FUSION_SET_ELEMENT_STATE="Fusion/SET_ELEMENT_STATE",ActionType.FUSION_SET_TASK_PANE_VISIBILITY="Fusion/SET_TASK_PANE_VISIBILITY",ActionType.FUSION_SET_LEGEND_VISIBILITY="Fusion/SET_LEGEND_VISIBILITY",ActionType.FUSION_SET_SELECTION_PANEL_VISIBILITY="Fusion/SET_SELECTION_PANEL_VISIBILITY",ActionType.FLYOUT_OPEN="Flyout/OPEN",ActionType.FLYOUT_CLOSE="Flyout/CLOSE",ActionType.CONTEXT_MENU_OPEN="ContextMenu/OPEN",ActionType.CONTEXT_MENU_CLOSE="ContextMenu/CLOSE",ActionType.COMPONENT_OPEN="Flyout/COMPONENT_OPEN",ActionType.COMPONENT_CLOSE="Flyout/COMPONENT_CLOSE",ActionType.UPDATE_MOUSE_COORDINATES="Status/UPDATE_MOUSE_COORDINATES",ActionType.MODAL_SHOW_COMPONENT="Modal/SHOW_COMPONENT",ActionType.MODAL_SHOW_URL="Modal/SHOW_URL",ActionType.MODAL_CLOSE="Modal/CLOSE",ActionType.LAYER_ADDED="Map/LAYER_ADDED",ActionType.EXTERNAL_LAYERS_READY="Map/EXTERNAL_LAYERS_READY",ActionType.REMOVE_LAYER="Map/REMOVE_LAYER",ActionType.SET_LAYER_INDEX="Map/SET_LAYER_INDEX",ActionType.SET_LAYER_OPACITY="Map/SET_LAYER_OPACITY",ActionType.SET_LAYER_VISIBILITY="Map/SET_LAYER_VISIBILITY",ActionType.SET_LAYER_VECTOR_STYLE="Map/SET_LAYER_VECTOR_STYLE",ActionType.ADD_LAYER_BUSY_WORKER="Map/ADD_LAYER_BUSY_WORKER",ActionType.REMOVE_LAYER_BUSY_WORKER="Map/REMOVE_LAYER_BUSY_WORKER",ActionType.SET_HEATMAP_LAYER_BLUR="Map/SET_HEATMAP_LAYER_BLUR",ActionType.SET_HEATMAP_LAYER_RADIUS="Map/SET_HEATMAP_LAYER_RADIUS"}(exports.ActionType||(exports.ActionType={}))},10358:function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.ICON_INVOKE_URL=exports.ICON_INVOKE_SCRIPT=exports.ICON_INITIAL_CENTER=exports.ICON_INFO=exports.ICON_NAVIGATOR=exports.ICON_ZOOMSELECT=exports.ICON_SELECT=exports.ICON_REFRESHMAP=exports.ICON_MENUARROWUP=exports.ICON_MENUARROWUP_DISABLED=exports.ICON_MENUARROW=exports.ICON_MENUARROW_DISABLED=exports.ICON_HOME=exports.ICON_HELP=exports.ICON_GEOLOCATION=exports.ICON_FORWARD=exports.ICON_FOLDER_HORIZONTAL=exports.ICON_FOLDER_HORIZONTAL_OPEN=exports.ICON_FILE_SAVE=exports.ICON_FILE_PRINT=exports.ICON_FEATURE_INFO=exports.ICON_ERROR=exports.ICON_EDIT_XML=exports.ICON_EDIT_PASTE=exports.ICON_EDIT_DUPLICATE=exports.ICON_EDIT_CUT=exports.ICON_EDIT_COPY=exports.ICON_COORDINATE_TRACKER=exports.ICON_CONTROL=exports.ICON_CONTROL_STOP=exports.ICON_CONTROL_STOP_180=exports.ICON_CONTROL_180=exports.ICON_BUFFER=exports.ICON_BACK=exports.ICON_APPLICATION_BROWSER=exports.ICON_ABOUT=exports.IMG_PBMG=exports.IMG_SLIDER=exports.GIF_SPINNER=exports.IMG_SLIDER_SCALE=exports.CURSOR_ZOOM_IN=exports.CURSOR_GRAB=exports.CURSOR_GRABBING=exports.CURSOR_DIGITIZE_CIRCLE=exports.CURSOR_DIGITIZE_POLYGON=exports.CURSOR_DIGITIZE_RECT=exports.CURSOR_DIGITIZE_LINESTRING=exports.CURSOR_DIGITIZE_LINE=exports.CURSOR_DIGITIZE_POINT=exports.STD_CSS_SPRITE_RELPATH=void 0,exports.SPRITE_ICON_ZOOMSELECT=exports.SPRITE_CONTROL=exports.SPRITE_CONTROL_180=exports.SPRITE_COORDINATE_TRACKER=exports.SPRITE_LAYER_ADD=exports.SPRITE_GLOBE_ADD=exports.ICON_GLOBE_SHARE=exports.ICON_GLOBE_ADD=exports.ICON_LAYER_ADD=exports.ICON_ZOOM_OUT_FIXED=exports.ICON_ZOOM_IN=exports.ICON_ZOOM_IN_FIXED=exports.ICON_ZOOM_FULL=exports.ICON_ZOOM_DYNAMIC=exports.ICON_WARNING=exports.ICON_VIEW_REFRESH=exports.ICON_VIEW_FORWARD=exports.ICON_VIEW_BACK=exports.ICON_UI_MENU=exports.ICON_TOGGLE=exports.ICON_TOGGLE_EXPAND=exports.ICON_THEME=exports.ICON_SELECT_ZOOM=exports.ICON_SELECT_RADIUS=exports.ICON_SELECT_POLYGON=exports.ICON_SELECT_FEATURES=exports.ICON_SELECT_CLEAR=exports.ICON_SELECT_CENTRE=exports.ICON_SEARCH=exports.ICON_REDLINE=exports.ICON_QUERY=exports.ICON_PROPERTY=exports.ICON_PRINT=exports.ICON_PREVIEW=exports.ICON_PAN=exports.ICON_PAN_WEST=exports.ICON_PAN_SOUTH=exports.ICON_PAN_NORTH=exports.ICON_PAN_EAST=exports.ICON_OVERVIEW_MAP=exports.ICON_OUT_OF_RANGE=exports.ICON_OPTIONS=exports.ICON_MEASURE=exports.ICON_MAPTIP=exports.ICON_LEGEND_THEME=exports.ICON_LEGEND_RASTER=exports.ICON_LEGEND_MAP=exports.ICON_LEGEND_LAYER=exports.ICON_LEGEND_DWF=exports.ICON_UNSELECT=void 0,exports.MAP_MARKER_ICON=exports.SPRITE_GLOBE_SHARE=exports.SPRITE_SELECT_CENTRE=exports.SPRITE_INVOKE_URL=exports.SPRITE_INVOKE_SCRIPT=exports.SPRITE_THEME=exports.SPRITE_QUERY=exports.SPRITE_FEATURE_INFO=exports.SPRITE_REDLINE=exports.SPRITE_SELECT_FEATURES=exports.SPRITE_BUFFER=exports.SPRITE_GEOLOCATION=exports.SPRITE_VIEW_FORWARD=exports.SPRITE_VIEW_BACK=exports.SPRITE_ICON_REFRESHMAP=exports.SPRITE_SELECT_CLEAR=exports.SPRITE_INITIAL_CENTER=exports.SPRITE_SELECT_POLYGON=exports.SPRITE_SELECT_RADIUS=exports.SPRITE_OPTIONS=exports.SPRITE_PRINT=exports.SPRITE_MEASURE=exports.SPRITE_HELP=exports.SPRITE_ABOUT=exports.SPRITE_PAN_SOUTH=exports.SPRITE_PAN_NORTH=exports.SPRITE_PAN_EAST=exports.SPRITE_PAN_WEST=exports.SPRITE_MAPTIP=exports.SPRITE_ZOOM_FULL=exports.SPRITE_ZOOM_OUT_FIXED=exports.SPRITE_ZOOM_IN_FIXED=exports.SPRITE_ZOOM_IN=exports.SPRITE_PAN=exports.SPRITE_SELECT=exports.SPRITE_ICON_MENUARROW=exports.SPRITE_ICON_MENUARROWUP=exports.SPRITE_FORWARD=exports.SPRITE_BACK=exports.SPRITE_ICON_HOME=exports.SPRITE_ICON_ERROR=exports.SPRITE_FOLDER_HORIZONTAL=exports.SPRITE_LEGEND_TOGGLE_EXPAND=exports.SPRITE_LEGEND_TOGGLE=exports.SPRITE_LEGEND_RASTER=exports.SPRITE_LEGEND_THEME=exports.SPRITE_LC_UNSELECT=exports.SPRITE_ICON_SELECT=exports.SPRITE_LEGEND_LAYER=void 0,exports.STD_CSS_SPRITE_RELPATH="images/icons.png";var digitizePoint_cur_1=__webpack_require__(28664);Object.defineProperty(exports,"CURSOR_DIGITIZE_POINT",{enumerable:!0,get:function get(){return __importDefault(digitizePoint_cur_1).default}});var digitizeLine_cur_1=__webpack_require__(82496);Object.defineProperty(exports,"CURSOR_DIGITIZE_LINE",{enumerable:!0,get:function get(){return __importDefault(digitizeLine_cur_1).default}});var digitizeLineString_cur_1=__webpack_require__(54474);Object.defineProperty(exports,"CURSOR_DIGITIZE_LINESTRING",{enumerable:!0,get:function get(){return __importDefault(digitizeLineString_cur_1).default}});var digitizeRectangle_cur_1=__webpack_require__(93081);Object.defineProperty(exports,"CURSOR_DIGITIZE_RECT",{enumerable:!0,get:function get(){return __importDefault(digitizeRectangle_cur_1).default}});var digitizePolygon_cur_1=__webpack_require__(27497);Object.defineProperty(exports,"CURSOR_DIGITIZE_POLYGON",{enumerable:!0,get:function get(){return __importDefault(digitizePolygon_cur_1).default}});var digitizeCircle_cur_1=__webpack_require__(16863);Object.defineProperty(exports,"CURSOR_DIGITIZE_CIRCLE",{enumerable:!0,get:function get(){return __importDefault(digitizeCircle_cur_1).default}});var grabbing_cur_1=__webpack_require__(97902);Object.defineProperty(exports,"CURSOR_GRABBING",{enumerable:!0,get:function get(){return __importDefault(grabbing_cur_1).default}});var grab_cur_1=__webpack_require__(66173);Object.defineProperty(exports,"CURSOR_GRAB",{enumerable:!0,get:function get(){return __importDefault(grab_cur_1).default}});var zoomin_cur_1=__webpack_require__(72449);Object.defineProperty(exports,"CURSOR_ZOOM_IN",{enumerable:!0,get:function get(){return __importDefault(zoomin_cur_1).default}});var sliderscale_png_1=__webpack_require__(45540);Object.defineProperty(exports,"IMG_SLIDER_SCALE",{enumerable:!0,get:function get(){return __importDefault(sliderscale_png_1).default}});var spinner_gif_1=__webpack_require__(68545);Object.defineProperty(exports,"GIF_SPINNER",{enumerable:!0,get:function get(){return __importDefault(spinner_gif_1).default}});var slider_png_1=__webpack_require__(98962);Object.defineProperty(exports,"IMG_SLIDER",{enumerable:!0,get:function get(){return __importDefault(slider_png_1).default}});var PoweredBy_en_png_1=__webpack_require__(70497);Object.defineProperty(exports,"IMG_PBMG",{enumerable:!0,get:function get(){return __importDefault(PoweredBy_en_png_1).default}});var about_png_1=__webpack_require__(82504);Object.defineProperty(exports,"ICON_ABOUT",{enumerable:!0,get:function get(){return __importDefault(about_png_1).default}});var application_browser_png_1=__webpack_require__(71382);Object.defineProperty(exports,"ICON_APPLICATION_BROWSER",{enumerable:!0,get:function get(){return __importDefault(application_browser_png_1).default}});var back_png_1=__webpack_require__(22354);Object.defineProperty(exports,"ICON_BACK",{enumerable:!0,get:function get(){return __importDefault(back_png_1).default}});var buffer_png_1=__webpack_require__(22049);Object.defineProperty(exports,"ICON_BUFFER",{enumerable:!0,get:function get(){return __importDefault(buffer_png_1).default}});var control_180_png_1=__webpack_require__(18877);Object.defineProperty(exports,"ICON_CONTROL_180",{enumerable:!0,get:function get(){return __importDefault(control_180_png_1).default}});var control_stop_180_png_1=__webpack_require__(3586);Object.defineProperty(exports,"ICON_CONTROL_STOP_180",{enumerable:!0,get:function get(){return __importDefault(control_stop_180_png_1).default}});var control_stop_png_1=__webpack_require__(61423);Object.defineProperty(exports,"ICON_CONTROL_STOP",{enumerable:!0,get:function get(){return __importDefault(control_stop_png_1).default}});var control_png_1=__webpack_require__(9069);Object.defineProperty(exports,"ICON_CONTROL",{enumerable:!0,get:function get(){return __importDefault(control_png_1).default}});var coordinate_tracker_png_1=__webpack_require__(83297);Object.defineProperty(exports,"ICON_COORDINATE_TRACKER",{enumerable:!0,get:function get(){return __importDefault(coordinate_tracker_png_1).default}});var edit_copy_png_1=__webpack_require__(1231);Object.defineProperty(exports,"ICON_EDIT_COPY",{enumerable:!0,get:function get(){return __importDefault(edit_copy_png_1).default}});var edit_cut_png_1=__webpack_require__(19219);Object.defineProperty(exports,"ICON_EDIT_CUT",{enumerable:!0,get:function get(){return __importDefault(edit_cut_png_1).default}});var edit_duplicate_png_1=__webpack_require__(48305);Object.defineProperty(exports,"ICON_EDIT_DUPLICATE",{enumerable:!0,get:function get(){return __importDefault(edit_duplicate_png_1).default}});var edit_paste_png_1=__webpack_require__(91276);Object.defineProperty(exports,"ICON_EDIT_PASTE",{enumerable:!0,get:function get(){return __importDefault(edit_paste_png_1).default}});var edit_xml_png_1=__webpack_require__(17022);Object.defineProperty(exports,"ICON_EDIT_XML",{enumerable:!0,get:function get(){return __importDefault(edit_xml_png_1).default}}),exports.ICON_ERROR="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAA31JREFUeNpc01tMUwcAxvH/ubWnFEohtBSYKJciCHJTsojOZS4mi9HswcwlZmaMBUMW2QOZMwvJnvewLSNLMDHGLXtmLpvRZS44QDYWqgWDrSBjsIGWcm1LaU8v55w9uRi/5y//t5/wXkcHAKZpYhgGCAL5LnddWUnp0dpqb6PVoggT/vuBX3+7Mzo2NDTNCxOeBTLpNPnu4r3NNbWfVSYTJ3OWl2R9fR3dMLC4XJh7KoyAINzu//abTx5O+qeeBaSW5may2SylFZVvvF5Rfav6z99bJL9PzITDZLa3ycRiJJ4ssT01Kbg2N6pPd77/zroszc0Gg0EAqbGhAUeRy3usouq2+5dbBVooRMaWg6ZpZESBtGGQSmfQrVaiKyts3btneau7+03/0tLPT5eXQ6IpCDRWeb8sGL6Tv7O2hvvMGZouDyCXl5OIRknEYrBrF7aeHoS2NqKRCNNf9Vs/On/+a0lRJNFR5Kot29w4oS39Q9I0yWlsRNq9m/KLF8HlxvR4sJ49S8LhYLuoiKSmsRwMoM7PH2o6cPBlqfXAwdP7NzZOpcIh0obB07Ex8HgwPB4yL5Wh19SwrSisDg0RGxiASAR9ZwdZ10nt2/evWFtZWa+thtGyOmkgvr6Gr7OThRs3iMoKMUVh6+5dEv39qKkUsixjlSSyK2EK7bleURRFMaPrpHQdbWeH+MwsptVKQlWJx+MkNQ2cTuweD7JuYJVlVEXBKokYuiFKRZ6SyqZc+4nIX3MkFhaQvV6cfX0knU5iIyMY4TC2lhYKjhxBWVxE2tzEAhTU7MWnqjdFn//+sFhZZcbn/yadyZBz7hzJwkK2RkdJXrkCV69in5uj+vhx9vT2ogIOw8BW34A/GByW5x4FAwuqddjm8by2FgoRunYNsb0dbXCQXFFENk0yA5eJWixErl/HKYrkl5Yy6XY/mp1+MCoANLS2Nn/xbsf4xKWP1aSmYQFURcFmsWCTJOyCgJpOkyfLOO12Uhc+pOv7wZMzk/6bEsBqKLQSzc2df/tCz6nNqSk5HouhmCZWSUIVRXJME4dpUlRWRrr7Az4dH+/1jQ5/ByA8L6vt8OH2S11dn+c8fnxo449xzPAKdlGisNiNpb6BQHHJw/4ff+gL+CZ++l/jizyRJKH9laOv7q+rO+bKy6s2dF16srm1ODUTHHng890hm9Wev/83AKQ+gKOX5raoAAAAAElFTkSuQmCC";var feature_info_png_1=__webpack_require__(78301);Object.defineProperty(exports,"ICON_FEATURE_INFO",{enumerable:!0,get:function get(){return __importDefault(feature_info_png_1).default}});var file_print_png_1=__webpack_require__(47501);Object.defineProperty(exports,"ICON_FILE_PRINT",{enumerable:!0,get:function get(){return __importDefault(file_print_png_1).default}});var file_save_png_1=__webpack_require__(35090);Object.defineProperty(exports,"ICON_FILE_SAVE",{enumerable:!0,get:function get(){return __importDefault(file_save_png_1).default}});var folder_horizontal_open_png_1=__webpack_require__(26445);Object.defineProperty(exports,"ICON_FOLDER_HORIZONTAL_OPEN",{enumerable:!0,get:function get(){return __importDefault(folder_horizontal_open_png_1).default}});var folder_horizontal_png_1=__webpack_require__(41903);Object.defineProperty(exports,"ICON_FOLDER_HORIZONTAL",{enumerable:!0,get:function get(){return __importDefault(folder_horizontal_png_1).default}});var forward_png_1=__webpack_require__(78918);Object.defineProperty(exports,"ICON_FORWARD",{enumerable:!0,get:function get(){return __importDefault(forward_png_1).default}});var geolocation_png_1=__webpack_require__(4697);Object.defineProperty(exports,"ICON_GEOLOCATION",{enumerable:!0,get:function get(){return __importDefault(geolocation_png_1).default}});var help_png_1=__webpack_require__(8019);Object.defineProperty(exports,"ICON_HELP",{enumerable:!0,get:function get(){return __importDefault(help_png_1).default}});var icon_home_png_1=__webpack_require__(44809);Object.defineProperty(exports,"ICON_HOME",{enumerable:!0,get:function get(){return __importDefault(icon_home_png_1).default}});var icon_menuarrow_disabled_png_1=__webpack_require__(34586);Object.defineProperty(exports,"ICON_MENUARROW_DISABLED",{enumerable:!0,get:function get(){return __importDefault(icon_menuarrow_disabled_png_1).default}});var icon_menuarrow_png_1=__webpack_require__(17501);Object.defineProperty(exports,"ICON_MENUARROW",{enumerable:!0,get:function get(){return __importDefault(icon_menuarrow_png_1).default}});var icon_menuarrowup_disabled_png_1=__webpack_require__(83341);Object.defineProperty(exports,"ICON_MENUARROWUP_DISABLED",{enumerable:!0,get:function get(){return __importDefault(icon_menuarrowup_disabled_png_1).default}});var icon_menuarrowup_png_1=__webpack_require__(89157);Object.defineProperty(exports,"ICON_MENUARROWUP",{enumerable:!0,get:function get(){return __importDefault(icon_menuarrowup_png_1).default}});var icon_refreshmap_png_1=__webpack_require__(20086);Object.defineProperty(exports,"ICON_REFRESHMAP",{enumerable:!0,get:function get(){return __importDefault(icon_refreshmap_png_1).default}});var select_png_1=__webpack_require__(98419);Object.defineProperty(exports,"ICON_SELECT",{enumerable:!0,get:function get(){return __importDefault(select_png_1).default}});var icon_zoomselect_png_1=__webpack_require__(95212);Object.defineProperty(exports,"ICON_ZOOMSELECT",{enumerable:!0,get:function get(){return __importDefault(icon_zoomselect_png_1).default}});var iconNavigator_png_1=__webpack_require__(85381);Object.defineProperty(exports,"ICON_NAVIGATOR",{enumerable:!0,get:function get(){return __importDefault(iconNavigator_png_1).default}});var info_png_1=__webpack_require__(87794);Object.defineProperty(exports,"ICON_INFO",{enumerable:!0,get:function get(){return __importDefault(info_png_1).default}});var initial_center_png_1=__webpack_require__(13584);Object.defineProperty(exports,"ICON_INITIAL_CENTER",{enumerable:!0,get:function get(){return __importDefault(initial_center_png_1).default}});var invoke_script_png_1=__webpack_require__(55091);Object.defineProperty(exports,"ICON_INVOKE_SCRIPT",{enumerable:!0,get:function get(){return __importDefault(invoke_script_png_1).default}});var invoke_url_png_1=__webpack_require__(92761);Object.defineProperty(exports,"ICON_INVOKE_URL",{enumerable:!0,get:function get(){return __importDefault(invoke_url_png_1).default}});var lc_unselect_png_1=__webpack_require__(39472);Object.defineProperty(exports,"ICON_UNSELECT",{enumerable:!0,get:function get(){return __importDefault(lc_unselect_png_1).default}});var legend_DWF_png_1=__webpack_require__(99392);Object.defineProperty(exports,"ICON_LEGEND_DWF",{enumerable:!0,get:function get(){return __importDefault(legend_DWF_png_1).default}});var legend_layer_png_1=__webpack_require__(53328);Object.defineProperty(exports,"ICON_LEGEND_LAYER",{enumerable:!0,get:function get(){return __importDefault(legend_layer_png_1).default}});var legend_map_png_1=__webpack_require__(67436);Object.defineProperty(exports,"ICON_LEGEND_MAP",{enumerable:!0,get:function get(){return __importDefault(legend_map_png_1).default}});var legend_raster_png_1=__webpack_require__(8826);Object.defineProperty(exports,"ICON_LEGEND_RASTER",{enumerable:!0,get:function get(){return __importDefault(legend_raster_png_1).default}});var legend_theme_png_1=__webpack_require__(72417);Object.defineProperty(exports,"ICON_LEGEND_THEME",{enumerable:!0,get:function get(){return __importDefault(legend_theme_png_1).default}});var maptip_png_1=__webpack_require__(72407);Object.defineProperty(exports,"ICON_MAPTIP",{enumerable:!0,get:function get(){return __importDefault(maptip_png_1).default}});var measure_png_1=__webpack_require__(38529);Object.defineProperty(exports,"ICON_MEASURE",{enumerable:!0,get:function get(){return __importDefault(measure_png_1).default}});var options_png_1=__webpack_require__(85859);Object.defineProperty(exports,"ICON_OPTIONS",{enumerable:!0,get:function get(){return __importDefault(options_png_1).default}});var out_of_range_png_1=__webpack_require__(10423);Object.defineProperty(exports,"ICON_OUT_OF_RANGE",{enumerable:!0,get:function get(){return __importDefault(out_of_range_png_1).default}});var overview_map_png_1=__webpack_require__(53556);Object.defineProperty(exports,"ICON_OVERVIEW_MAP",{enumerable:!0,get:function get(){return __importDefault(overview_map_png_1).default}});var pan_east_png_1=__webpack_require__(10196);Object.defineProperty(exports,"ICON_PAN_EAST",{enumerable:!0,get:function get(){return __importDefault(pan_east_png_1).default}});var pan_north_png_1=__webpack_require__(80511);Object.defineProperty(exports,"ICON_PAN_NORTH",{enumerable:!0,get:function get(){return __importDefault(pan_north_png_1).default}});var pan_south_png_1=__webpack_require__(78808);Object.defineProperty(exports,"ICON_PAN_SOUTH",{enumerable:!0,get:function get(){return __importDefault(pan_south_png_1).default}});var pan_west_png_1=__webpack_require__(94276);Object.defineProperty(exports,"ICON_PAN_WEST",{enumerable:!0,get:function get(){return __importDefault(pan_west_png_1).default}});var pan_png_1=__webpack_require__(13046);Object.defineProperty(exports,"ICON_PAN",{enumerable:!0,get:function get(){return __importDefault(pan_png_1).default}});var preview_png_1=__webpack_require__(31192);Object.defineProperty(exports,"ICON_PREVIEW",{enumerable:!0,get:function get(){return __importDefault(preview_png_1).default}});var print_png_1=__webpack_require__(45465);Object.defineProperty(exports,"ICON_PRINT",{enumerable:!0,get:function get(){return __importDefault(print_png_1).default}});var property_png_1=__webpack_require__(94745);Object.defineProperty(exports,"ICON_PROPERTY",{enumerable:!0,get:function get(){return __importDefault(property_png_1).default}});var query_png_1=__webpack_require__(31484);Object.defineProperty(exports,"ICON_QUERY",{enumerable:!0,get:function get(){return __importDefault(query_png_1).default}});var redline_png_1=__webpack_require__(83854);Object.defineProperty(exports,"ICON_REDLINE",{enumerable:!0,get:function get(){return __importDefault(redline_png_1).default}});var search_png_1=__webpack_require__(44578);Object.defineProperty(exports,"ICON_SEARCH",{enumerable:!0,get:function get(){return __importDefault(search_png_1).default}});var select_centre_png_1=__webpack_require__(69054);Object.defineProperty(exports,"ICON_SELECT_CENTRE",{enumerable:!0,get:function get(){return __importDefault(select_centre_png_1).default}});var select_clear_png_1=__webpack_require__(47105);Object.defineProperty(exports,"ICON_SELECT_CLEAR",{enumerable:!0,get:function get(){return __importDefault(select_clear_png_1).default}});var select_features_png_1=__webpack_require__(46471);Object.defineProperty(exports,"ICON_SELECT_FEATURES",{enumerable:!0,get:function get(){return __importDefault(select_features_png_1).default}});var select_polygon_png_1=__webpack_require__(34386);Object.defineProperty(exports,"ICON_SELECT_POLYGON",{enumerable:!0,get:function get(){return __importDefault(select_polygon_png_1).default}});var select_radius_png_1=__webpack_require__(48546);Object.defineProperty(exports,"ICON_SELECT_RADIUS",{enumerable:!0,get:function get(){return __importDefault(select_radius_png_1).default}});var select_zoom_png_1=__webpack_require__(23494);Object.defineProperty(exports,"ICON_SELECT_ZOOM",{enumerable:!0,get:function get(){return __importDefault(select_zoom_png_1).default}});var theme_png_1=__webpack_require__(47961);Object.defineProperty(exports,"ICON_THEME",{enumerable:!0,get:function get(){return __importDefault(theme_png_1).default}});var toggle_expand_png_1=__webpack_require__(38283);Object.defineProperty(exports,"ICON_TOGGLE_EXPAND",{enumerable:!0,get:function get(){return __importDefault(toggle_expand_png_1).default}});var toggle_png_1=__webpack_require__(4021);Object.defineProperty(exports,"ICON_TOGGLE",{enumerable:!0,get:function get(){return __importDefault(toggle_png_1).default}});var ui_menu_png_1=__webpack_require__(83301);Object.defineProperty(exports,"ICON_UI_MENU",{enumerable:!0,get:function get(){return __importDefault(ui_menu_png_1).default}});var view_back_png_1=__webpack_require__(57123);Object.defineProperty(exports,"ICON_VIEW_BACK",{enumerable:!0,get:function get(){return __importDefault(view_back_png_1).default}});var view_forward_png_1=__webpack_require__(68556);Object.defineProperty(exports,"ICON_VIEW_FORWARD",{enumerable:!0,get:function get(){return __importDefault(view_forward_png_1).default}});var view_refresh_png_1=__webpack_require__(32363);Object.defineProperty(exports,"ICON_VIEW_REFRESH",{enumerable:!0,get:function get(){return __importDefault(view_refresh_png_1).default}});var icon_warning_png_1=__webpack_require__(46435);Object.defineProperty(exports,"ICON_WARNING",{enumerable:!0,get:function get(){return __importDefault(icon_warning_png_1).default}});var zoom_dynamic_png_1=__webpack_require__(56357);Object.defineProperty(exports,"ICON_ZOOM_DYNAMIC",{enumerable:!0,get:function get(){return __importDefault(zoom_dynamic_png_1).default}});var zoom_full_png_1=__webpack_require__(85407);Object.defineProperty(exports,"ICON_ZOOM_FULL",{enumerable:!0,get:function get(){return __importDefault(zoom_full_png_1).default}});var zoom_in_fixed_png_1=__webpack_require__(89706);Object.defineProperty(exports,"ICON_ZOOM_IN_FIXED",{enumerable:!0,get:function get(){return __importDefault(zoom_in_fixed_png_1).default}});var zoom_in_png_1=__webpack_require__(99776);Object.defineProperty(exports,"ICON_ZOOM_IN",{enumerable:!0,get:function get(){return __importDefault(zoom_in_png_1).default}});var zoom_out_fixed_png_1=__webpack_require__(83946);Object.defineProperty(exports,"ICON_ZOOM_OUT_FIXED",{enumerable:!0,get:function get(){return __importDefault(zoom_out_fixed_png_1).default}});var layer_add_png_1=__webpack_require__(93485);Object.defineProperty(exports,"ICON_LAYER_ADD",{enumerable:!0,get:function get(){return __importDefault(layer_add_png_1).default}});var globe_add_png_1=__webpack_require__(36279);Object.defineProperty(exports,"ICON_GLOBE_ADD",{enumerable:!0,get:function get(){return __importDefault(globe_add_png_1).default}});var globe_share_png_1=__webpack_require__(55096);Object.defineProperty(exports,"ICON_GLOBE_SHARE",{enumerable:!0,get:function get(){return __importDefault(globe_share_png_1).default}}),exports.SPRITE_GLOBE_ADD="globe_add",exports.SPRITE_LAYER_ADD="layer_add",exports.SPRITE_COORDINATE_TRACKER="coordinate-tracker",exports.SPRITE_CONTROL_180="control-180",exports.SPRITE_CONTROL="control",exports.SPRITE_ICON_ZOOMSELECT="icon_zoomselect",exports.SPRITE_LEGEND_LAYER="legend-layer",exports.SPRITE_ICON_SELECT="icon_select",exports.SPRITE_LC_UNSELECT="lc_unselect",exports.SPRITE_LEGEND_THEME="legend-theme",exports.SPRITE_LEGEND_RASTER="legend-raster",exports.SPRITE_LEGEND_TOGGLE="toggle",exports.SPRITE_LEGEND_TOGGLE_EXPAND="toggle-expand",exports.SPRITE_FOLDER_HORIZONTAL="folder-horizontal",exports.SPRITE_ICON_ERROR="icon_error",exports.SPRITE_ICON_HOME="icon_home",exports.SPRITE_BACK="back",exports.SPRITE_FORWARD="forward",exports.SPRITE_ICON_MENUARROWUP="icon_menuarrowup",exports.SPRITE_ICON_MENUARROW="icon_menuarrow",exports.SPRITE_SELECT="select",exports.SPRITE_PAN="pan",exports.SPRITE_ZOOM_IN="zoom-in",exports.SPRITE_ZOOM_IN_FIXED="zoom-in-fixed",exports.SPRITE_ZOOM_OUT_FIXED="zoom-out-fixed",exports.SPRITE_ZOOM_FULL="zoom-full",exports.SPRITE_MAPTIP="maptip",exports.SPRITE_PAN_WEST="pan-west",exports.SPRITE_PAN_EAST="pan-east",exports.SPRITE_PAN_NORTH="pan-north",exports.SPRITE_PAN_SOUTH="pan-south",exports.SPRITE_ABOUT="about",exports.SPRITE_HELP="help",exports.SPRITE_MEASURE="measure",exports.SPRITE_PRINT="print",exports.SPRITE_OPTIONS="options",exports.SPRITE_SELECT_RADIUS="select-radius",exports.SPRITE_SELECT_POLYGON="select-polygon",exports.SPRITE_INITIAL_CENTER="initial-center",exports.SPRITE_SELECT_CLEAR="select-clear",exports.SPRITE_ICON_REFRESHMAP="icon_refreshmap",exports.SPRITE_VIEW_BACK="view-back",exports.SPRITE_VIEW_FORWARD="view-forward",exports.SPRITE_GEOLOCATION="geolocation",exports.SPRITE_BUFFER="buffer",exports.SPRITE_SELECT_FEATURES="select-features",exports.SPRITE_REDLINE="redline",exports.SPRITE_FEATURE_INFO="feature-info",exports.SPRITE_QUERY="query",exports.SPRITE_THEME="theme",exports.SPRITE_INVOKE_SCRIPT="invoke-script",exports.SPRITE_INVOKE_URL="invoke-url",exports.SPRITE_SELECT_CENTRE="select-centre",exports.SPRITE_GLOBE_SHARE="globe-share",exports.MAP_MARKER_ICON="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAEZUlEQVRYR8WWXUxbZRjHn/ecnlLaHqBkyIeAwIaTUuIH4GiB9Yxo5sZIZiLGJSYu8YY74wW7cIksLplxIXq5mF1o9Ga6GNTAFqKGImsLMrwYBYeOBWSUUeWjPf047fl4zWEhnrK2p6ebsbfP+///f+d53/fpi+B//iGt+XO9Vr0lUtyFELYDQpUgAUII/EDAJCvQP9Rfvx7X4pk1AG5upu5XGN4BjM8AECVpQjYxwCfxsG6w1uXisgHJCuCvo53lAgnfAYFbszGVAGaRJPVUXPMsq61XBfD3MPsQTrgBiKfVzJR1jOEeReJDJd+7/Zl0qgBrJ9pHANBxLeH/rsUTZcNuJwLA6fQZAda6O7sB4eFUYlHCEBOFHWuDjgQdQaTMQBidKhuZuJITwOorHW5CB46k1gKG9UgMQlwcMEjrEhASCVBeYMiDUlM+IEj+JhGwr3LY3aQZINDLmPkoHyQQSvo0PxsBlk98ThLE+c4bs3dl47G2Z2oQQQ6YKer0k7T5oSxESaVlQ55AKoi0W3C/h2nDWPAqRVFegJUQO8B45z5IZTbmsJ2rok0DJopKKou8dKJy1DOiCeD3l1/so/P0l5Siv8PRVZvr16p0hwoDELNHnr9XYjKVK3URXnz/wKj3vCaA+Zda+i0Gw0WlaDPCfdU4dvONTDdirqvl62KjoVe5ZpuLDzb8ON2vCWCGeeHNCrPxS6UozMe/qR+dfi0TwOLRQ0NGijqpXBMIx/qfdc0MagIYb7M11BQXzOsV14sX8UZVgCtHMzN8KrM/jh3Ly8fba6SOtOzWRYzhztaGg/HcTjpPu/W0h1DeTx/THNpnzjcpwxDA5dKWG33oHEjJ1xPQWnfHZYTg7aRt46JCQNikj7iWUv43ZBxEP9utl2otRX0PDRlJGscEXKAI5OUxJ5LI0C4J+CwQhFMZLmEMy1uhbx2e2Vc1zwFZMNFuraYp/Z1Sszn5XmU6BIpaIMbhjXC8tWtqdiYnAFnksjd9XFtEv6snU4/adMaCJMHidvAK45k7lYlX9c/IY28spkjdn5VFdNJZUGuCn40kwlH+gHPat/JIADtdaGs8U11Ef5Sv06nl7tTjgghLweCHjHf+PTWBagdkgzGmxmCUCperC+gn1Azl+grLbiUE7qkO9wKrtj4rgB2INuvpykL6M/OeOb83IMLzsBpi+5ze+U/VwuV61gDyXPA4bLfrLEX16VTyq2M5GFpcKTt48PWrV8XHCiCbjbc3HC8z0iMFefqU3kEuAesxttvp/u1aNuGaOrBr6Om0emoKLfa9Dw956CxtsxPt7luHsw3PCcDlaGwtMeb/UmwwJOUEojEcjMSfOzzlu/WfAuxMSIdtqM5SeJJAD46QIGG4uxX8wun1vaUlPKcOyKKfHLb9hTpioZymSYwB/OFwPCFydR3uhYxP8FRwWd+CvWKX3XoRAD14ZGB0lpn0XdD69Tl3YDfI5WiyS5IodU3OT+US/sgAuYYqdTlvweMIlz3+AXmLlDDLPM0mAAAAAElFTkSuQmCC"},26487:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(35192),__webpack_require__(9653),__webpack_require__(68309),Object.defineProperty(exports,"__esModule",{value:!0}),exports.AddManageLayersContainer=exports.zoomToLayerExtents=void 0;var tslib_1=__webpack_require__(70655),React=(0,tslib_1.__importStar)(__webpack_require__(67294)),i18n_1=__webpack_require__(196),common_1=__webpack_require__(18036),manage_layers_1=__webpack_require__(43681),add_layer_1=__webpack_require__(59603),core_1=__webpack_require__(61992),hooks_1=__webpack_require__(17269),Vector_1=(0,tslib_1.__importDefault)(__webpack_require__(86333)),Cluster_1=(0,tslib_1.__importDefault)(__webpack_require__(39261)),proj_1=__webpack_require__(26414),map_1=__webpack_require__(83552),runtime_1=__webpack_require__(49538),context_1=__webpack_require__(47954);function zoomToLayerExtents(layerName,viewer){var layer=viewer.getLayerManager().getLayer(layerName),ll_bbox=null==layer?void 0:layer.get(common_1.LayerProperty.WGS84_BBOX);if(ll_bbox){var zoomBounds=(0,proj_1.transformExtent)(ll_bbox,"EPSG:4326",viewer.getProjection());viewer.zoomToExtent(zoomBounds)}else if(layer instanceof Vector_1.default){var source=layer.getSource(),bounds=void 0;bounds=source instanceof Cluster_1.default?source.getSource().getExtent():source.getExtent();var sp=source.getProjection(),dp=viewer.getProjection();sp&&dp&&(bounds=(0,proj_1.transformExtent)(bounds,sp,dp)),Number.isFinite(bounds[0])&&Number.isFinite(bounds[1])&&Number.isFinite(bounds[2])&&Number.isFinite(bounds[3])?viewer.zoomToExtent(bounds):console.warn("Attempted to zoom to invalid bounds for layer: "+layerName)}}exports.zoomToLayerExtents=zoomToLayerExtents;exports.AddManageLayersContainer=function AddManageLayersContainer(){var dispatch=(0,context_1.useReduxDispatch)(),locale=(0,hooks_1.useViewerLocale)(),activeMapName=(0,hooks_1.useActiveMapName)(),layers=(0,hooks_1.useActiveMapLayers)(),view=(0,hooks_1.useActiveMapView)(),getLayerIndex=function getLayerIndex(layerName){if(layers)for(var i=0;i<layers.length;i++)if(layers[i].name==layerName)return i;return-1};return layers?React.createElement("div",{style:{padding:8}},React.createElement(core_1.Tabs,{id:"tabs",renderActiveTabPanelOnly:!0},React.createElement(core_1.Tab,{id:"add_layer",title:React.createElement("span",null,React.createElement(core_1.Icon,{icon:"new-layer",iconSize:core_1.Icon.SIZE_STANDARD})," ",(0,i18n_1.tr)("ADD_LAYER",locale)),panel:React.createElement(add_layer_1.AddLayer,{onLayerAdded:function onLayerAdded(layer){activeMapName&&dispatch((0,map_1.mapLayerAdded)(activeMapName,layer))},onAddLayerBusyWorker:function onAddLayerBusyWorker(name){activeMapName&&dispatch((0,map_1.addMapLayerBusyWorker)(activeMapName,name))},onRemoveLayerBusyWorker:function onRemoveLayerBusyWorker(name){activeMapName&&dispatch((0,map_1.removeMapLayerBusyWorker)(activeMapName,name))},locale:locale})}),React.createElement(core_1.Tab,{id:"manage_layers",title:React.createElement("span",null,React.createElement(core_1.Icon,{icon:"layers",iconSize:core_1.Icon.SIZE_STANDARD})," ",(0,i18n_1.tr)("MANAGE_LAYERS",locale)),panel:React.createElement(manage_layers_1.ManageLayers,{layers:layers,locale:locale,currentResolution:null==view?void 0:view.resolution,onSetOpacity:function setOpacity(layerName,value){activeMapName&&dispatch((0,map_1.setMapLayerOpacity)(activeMapName,layerName,value))},onSetHeatmapBlur:function setHeatmapBlur(layerName,value){activeMapName&&dispatch((0,map_1.setHeatmapLayerBlur)(activeMapName,layerName,value))},onSetHeatmapRadius:function setHeatmapRadius(layerName,value){activeMapName&&dispatch((0,map_1.setHeatmapLayerRadius)(activeMapName,layerName,value))},onSetVisibility:function setVisibility(layerName,visible){activeMapName&&dispatch((0,map_1.setMapLayerVisibility)(activeMapName,layerName,visible))},onZoomToBounds:function zoomToBounds(layerName){var viewer=(0,runtime_1.getViewer)();viewer&&zoomToLayerExtents(layerName,viewer)},onMoveLayerDown:function downHandler(layerName){var newIndex=getLayerIndex(layerName);layers&&activeMapName&&newIndex<layers.length-1&&dispatch((0,map_1.setMapLayerIndex)(activeMapName,layerName,newIndex+1))},onMoveLayerUp:function upHandler(layerName){var newIndex=getLayerIndex(layerName);activeMapName&&newIndex>=0&&dispatch((0,map_1.setMapLayerIndex)(activeMapName,layerName,newIndex-1))},onRemoveLayer:function removeHandler(layerName){activeMapName&&dispatch((0,map_1.removeMapLayer)(activeMapName,layerName))},onVectorStyleChanged:function updateVectorStyle(layerName,value,which){activeMapName&&dispatch((0,map_1.setMapLayerVectorStyle)(activeMapName,layerName,value,which))}})}))):React.createElement(React.Fragment,null)}},11427:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(21249),Object.defineProperty(exports,"__esModule",{value:!0}),exports.App=void 0;var tslib_1=__webpack_require__(70655),React=(0,tslib_1.__importStar)(__webpack_require__(67294)),layout_1=__webpack_require__(97881),init_1=__webpack_require__(63611),error_1=__webpack_require__(63267),i18n_1=__webpack_require__(196),asset_1=__webpack_require__(8608),runtime_1=__webpack_require__(49538),context_1=__webpack_require__(6928),core_1=__webpack_require__(61992),hooks_1=__webpack_require__(17269),url_state_1=__webpack_require__(63110),logger_1=__webpack_require__(97838),template_1=__webpack_require__(61289),context_2=__webpack_require__(47954),AppInner=function(_super){function AppInner(props){var _this=_super.call(this,props)||this;return _this.initErrorRenderer=function(err){var _a=_this.props,configuredLocale=_a.configuredLocale,initOptions=_a.initOptions,locale=configuredLocale;return initOptions&&initOptions.locale&&(locale=initOptions.locale),React.createElement(core_1.Callout,{intent:core_1.Intent.DANGER,title:(0,i18n_1.tr)("INIT_ERROR_TITLE",locale),icon:"error"},_this.renderErrorMessage(err,locale,initOptions||{}))},_this.state={isLoading:!0},_this}return(0,tslib_1.__extends)(AppInner,_super),AppInner.prototype.allowHtmlValuesInSelection=function(){var _a,_b,_c;return null!==(_c=null===(_b=null===(_a=this.props.mapguide)||void 0===_a?void 0:_a.selectionSettings)||void 0===_b?void 0:_b.allowHtmlValues)&&void 0!==_c&&_c},AppInner.prototype.getHtmlCleaner=function(){var _a,_b,_c;return null!==(_c=null===(_b=null===(_a=this.props.mapguide)||void 0===_a?void 0:_a.selectionSettings)||void 0===_b?void 0:_b.cleanHtml)&&void 0!==_c?_c:function(v){return v}},AppInner.prototype.componentDidMount=function(){var _a,_b=this.props,onInit=_b.onInit,setElementVisibility=_b.setElementVisibility,mapguide=_b.mapguide,initLayout=_b.initLayout,locale=_b.locale,resourceId=_b.resourceId,externalBaseLayers=_b.externalBaseLayers,initCommand=_b.initCommand,_c=(0,url_state_1.getStateFromUrl)(this.props.urlPropsIgnore),urlLocale=_c.locale,urlResource=_c.resource,urlSession=_c.session,urlX=_c.x,urlY=_c.y,urlFeatureTooltip=_c.ft,urlScale=_c.scale,urlMap=_c.map,urlShowLayers=_c.sl,urlHideLayers=_c.hl,urlShowGroups=_c.sg,urlHideGroups=_c.hg;if(setElementVisibility&&(null==mapguide?void 0:mapguide.initialElementVisibility)){var _d=mapguide.initialElementVisibility,taskpane=_d.taskpane,legend=_d.legend,selection=_d.selection;setElementVisibility({taskPaneVisible:void 0===taskpane||taskpane,legendVisible:void 0===legend||legend,selectionPanelVisible:void 0===selection||selection})}if((0,logger_1.debug)("Asset root is: "+(0,asset_1.getAssetRoot)()),(null==mapguide?void 0:mapguide.fusionRoot)&&(0,runtime_1.setFusionRoot)(mapguide.fusionRoot),initLayout){var ftArgs=void 0;void 0!==urlFeatureTooltip&&(ftArgs={featureTooltipsEnabled:urlFeatureTooltip});var amArgs=void 0;urlMap&&(amArgs={initialActiveMap:urlMap});var ivArgs=void 0;urlX&&urlY&&urlScale&&(ivArgs={initialView:{x:urlX,y:urlY,scale:urlScale}});var slArgs=void 0;urlShowLayers&&(slArgs={initialShowLayers:(0,tslib_1.__spreadArray)([],urlShowLayers,!0)});var hlArgs=void 0;urlHideLayers&&(hlArgs={initialHideLayers:(0,tslib_1.__spreadArray)([],urlHideLayers,!0)});var sgArgs=void 0;urlShowGroups&&(sgArgs={initialShowGroups:(0,tslib_1.__spreadArray)([],urlShowGroups,!0)});var hgArgs=void 0;urlHideGroups&&(hgArgs={initialHideGroups:(0,tslib_1.__spreadArray)([],urlHideGroups,!0)}),initLayout(initCommand,(0,tslib_1.__assign)((0,tslib_1.__assign)((0,tslib_1.__assign)((0,tslib_1.__assign)((0,tslib_1.__assign)((0,tslib_1.__assign)((0,tslib_1.__assign)({resourceId:null!=urlResource?urlResource:resourceId,locale:null!==(_a=null!=urlLocale?urlLocale:locale)&&void 0!==_a?_a:i18n_1.DEFAULT_LOCALE,externalBaseLayers:externalBaseLayers,session:null!=urlSession?urlSession:null==mapguide?void 0:mapguide.session,onInit:onInit,layout:"string"==typeof this.props.layout?this.props.layout:void 0},null!=ftArgs?ftArgs:{}),null!=amArgs?amArgs:{}),null!=ivArgs?ivArgs:{}),null!=slArgs?slArgs:{}),null!=hlArgs?hlArgs:{}),null!=sgArgs?sgArgs:{}),null!=hgArgs?hgArgs:{}))}},AppInner.prototype.componentDidUpdate=function(prevProps){var _a,_b,_c,_d,nextProps=this.props,curUrlState=(0,url_state_1.getStateFromUrl)(),nextUrlState={locale:null!==(_a=curUrlState.locale)&&void 0!==_a?_a:this.props.locale,session:null!==(_b=curUrlState.session)&&void 0!==_b?_b:null===(_c=this.props.mapguide)||void 0===_c?void 0:_c.session};if("string"==typeof this.props.resourceId&&(nextUrlState.resource=null!==(_d=curUrlState.resource)&&void 0!==_d?_d:this.props.resourceId),nextProps.featureTooltipsEnabled!=prevProps.featureTooltipsEnabled&&(nextUrlState.ft=nextProps.featureTooltipsEnabled),null!=nextProps.map&&prevProps.map!=nextProps.map&&this.setState({isLoading:!1}),nextProps.activeMapName){var am=nextProps.activeMapName;nextUrlState.map=am}if(nextProps.map){if(nextProps.map.currentView){var _e=nextProps.map.currentView,x=_e.x,y=_e.y,scale=_e.scale;nextUrlState.x=x,nextUrlState.y=y,nextUrlState.scale=scale}var mgs=nextProps.map.mapguide;if(mgs){var rtm=mgs.runtimeMap,showGroups=mgs.showGroups,showLayers=mgs.showLayers,hideGroups=mgs.hideGroups,hideLayers=mgs.hideLayers,sg=[],hg=[],sl=[],hl=[];if(null==rtm?void 0:rtm.Group)for(var _i=0,_f=rtm.Group;_i<_f.length;_i++){var g=_f[_i];showGroups.indexOf(g.ObjectId)>=0?sg.push(g.Name):hideGroups.indexOf(g.ObjectId)>=0&&hg.push(g.Name)}if(null==rtm?void 0:rtm.Layer)for(var _g=0,_h=rtm.Layer;_g<_h.length;_g++){var l=_h[_g];showLayers.indexOf(l.ObjectId)>=0?sl.push(l.Name):hideLayers.indexOf(l.ObjectId)>=0&&hl.push(l.Name)}if(sg.length>0&&(nextUrlState.sg=sg),hg.length>0&&(nextUrlState.hg=hg),sl.length>0&&(nextUrlState.sl=sl),hl.length>0&&(nextUrlState.hl=hl),rtm){var SessionId=rtm.SessionId;nextUrlState.session=SessionId}}}(0,url_state_1.updateUrl)(nextUrlState)},AppInner.prototype.renderErrorMessage=function(err,locale,args){var _this=this,msg=err.message;switch(msg){case"MgConnectionFailedException":var arg={__html:(0,i18n_1.tr)("INIT_ERROR_NO_CONNECTION",locale)};return React.createElement("div",{dangerouslySetInnerHTML:arg});case"MgResourceNotFoundException":arg={__html:(0,i18n_1.tr)("INIT_ERROR_RESOURCE_NOT_FOUND",locale,{resourceId:args.resourceId})};return React.createElement("div",{dangerouslySetInnerHTML:arg});case"MgSessionExpiredException":arg={__html:(0,i18n_1.tr)("INIT_ERROR_EXPIRED_SESSION",locale,{sessionId:args.session})};return React.createElement("div",{dangerouslySetInnerHTML:arg});default:arg={__html:msg};var stack_1=(0,error_1.normalizeStack)(err);return React.createElement("div",null,React.createElement("div",{dangerouslySetInnerHTML:arg}),function(){if(!0===_this.props.includeStack&&stack_1.length>0)return React.createElement("div",null,React.createElement("p",null,"Stack Trace"),React.createElement("ul",null,stack_1.map((function(ln,i){return React.createElement("li",{key:"stack-line-"+i},ln)}))))}())}},AppInner.prototype.render=function(){var _this=this,_a=this.props,layout=_a.layout,configuredLocale=_a.configuredLocale,error=_a.error,isLoading=this.state.isLoading;if(error)return React.createElement(error_1.Error,{error:error,errorRenderer:this.initErrorRenderer});var locale=configuredLocale;if(isLoading)return React.createElement(core_1.NonIdealState,{icon:React.createElement(core_1.Spinner,{intent:core_1.Intent.NONE,size:core_1.Spinner.SIZE_LARGE}),title:(0,i18n_1.tr)("INIT",locale),description:(0,i18n_1.tr)("INIT_DESC",locale)});var layoutEl="string"==typeof layout?(0,layout_1.getLayout)(layout):layout.factory;if(layoutEl){var providerImpl={allowHtmlValuesInSelection:function allowHtmlValuesInSelection(){return _this.allowHtmlValuesInSelection()},getHTMLCleaner:function getHTMLCleaner(){return _this.getHtmlCleaner()}};return React.createElement(context_1.AppContext.Provider,{value:providerImpl},layoutEl())}return React.createElement(error_1.Error,{error:(0,i18n_1.tr)("ERR_UNREGISTERED_LAYOUT",locale,{layout:layout})})},AppInner}(React.Component),App=function App(props){var error=(0,hooks_1.useInitError)(),includeStack=(0,hooks_1.useInitErrorStack)(),initOptions=(0,hooks_1.useInitErrorOptions)(),configuredLocale=(0,hooks_1.useViewerLocale)(),map=(0,hooks_1.useActiveMapBranch)(),activeMapName=(0,hooks_1.useActiveMapName)(),ftEnabled=(0,hooks_1.useViewerFeatureTooltipsEnabled)(),dispatch=(0,context_2.useReduxDispatch)();return React.createElement(AppInner,(0,tslib_1.__assign)({error:error,includeStack:includeStack,initOptions:initOptions,featureTooltipsEnabled:ftEnabled,configuredLocale:configuredLocale,map:map,activeMapName:activeMapName,initLayout:function initLayoutAction(cmd,args){return dispatch((0,init_1.initLayout)(cmd,args))},setElementVisibility:function setElementVisibility(state){return dispatch((0,template_1.setElementStates)(state))}},props))};exports.App=App;try{App.displayName="App",App.__docgenInfo={description:"",displayName:"App",props:{initCommand:{defaultValue:null,description:"The command that will carry out viewer initialization\n@memberof IAppProps\n@since 0.14",name:"initCommand",required:!0,type:{name:"{IViewerInitCommand}"}},layout:{defaultValue:null,description:"The layout to use\n@since 0.14 type changed to include AdHocLayoutTemplate",name:"layout",required:!0,type:{name:"string | AdHocLayoutTemplate"}},resourceId:{defaultValue:null,description:"A resource id to a Web Layout or Application Definition or a function that will fetch the required Application Definition.\n@memberof IAppProps",name:"resourceId",required:!0,type:{name:"string | (() => Promise<ApplicationDefinition>)"}},externalBaseLayers:{defaultValue:null,description:"The list of external base layers\n@memberof IAppProps\n@remarks This option is for when you are passing in a Web Layout to the viewer, but you still want to provide external \nbase layers. If passing in an Application Definition, this option is redundant as the Application Definition itself can\ndefine the set of external base layers",name:"externalBaseLayers",required:!1,type:{name:"{IExternalBaseLayer[]}"}},urlPropsIgnore:{defaultValue:null,description:"If specified, tells the application to not sync the following URL params to the URL, and to skip\nreading these params when initializing/refreshing.\n@memberof IAppProps\n@since 0.14",name:"urlPropsIgnore",required:!1,type:{name:"{string[]}"}},onInit:{defaultValue:null,description:"A callback function that will be called when the viewer has finished initializing",name:"onInit",required:!1,type:{name:"((viewer: IMapViewer) => void)"}},locale:{defaultValue:null,description:"The locale to use",name:"locale",required:!1,type:{name:"string"}},mapguide:{defaultValue:null,description:"MapGuide-specific options\n@memberof IAppProps\n@since 0.14",name:"mapguide",required:!1,type:{name:"{IMapGuideAppProps}"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/containers/app.tsx#App"]={docgenInfo:App.__docgenInfo,name:"App",path:"src/containers/app.tsx#App"})}catch(__react_docgen_typescript_loader_error){}},61790:function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BaseLayerSwitcherContainer=void 0;var React=(0,__webpack_require__(70655).__importStar)(__webpack_require__(67294)),base_layer_switcher_1=__webpack_require__(195),hooks_1=__webpack_require__(17269),map_1=__webpack_require__(83552),context_1=__webpack_require__(47954);exports.BaseLayerSwitcherContainer=function BaseLayerSwitcherContainer(){var mapName=(0,hooks_1.useActiveMapName)(),locale=(0,hooks_1.useViewerLocale)(),externalBaseLayers=(0,hooks_1.useActiveMapExternalBaseLayers)(!1),dispatch=(0,context_1.useReduxDispatch)(),setBaseLayerAction=function setBaseLayerAction(mapName,layerName){return dispatch((0,map_1.setBaseLayer)(mapName,layerName))};return locale&&externalBaseLayers?React.createElement(base_layer_switcher_1.BaseLayerSwitcher,{onBaseLayerChanged:function onBaseLayerChanged(layerName){mapName&&(null==setBaseLayerAction||setBaseLayerAction(mapName,layerName))},externalBaseLayers:externalBaseLayers,locale:locale}):React.createElement("noscript",null)}},12821:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(21249),Object.defineProperty(exports,"__esModule",{value:!0}),exports.CoordinateTrackerContainer=void 0;var tslib_1=__webpack_require__(70655),React=(0,tslib_1.__importStar)(__webpack_require__(67294)),i18n_1=__webpack_require__(196),olProj=(0,tslib_1.__importStar)(__webpack_require__(26414)),core_1=__webpack_require__(61992),hooks_1=__webpack_require__(17269),hooks_mapguide_1=__webpack_require__(76457),CoordinateTrackerContainer=function CoordinateTrackerContainer(props){var projections=props.projections,locale=(0,hooks_1.useViewerLocale)(),mouse=(0,hooks_1.useCurrentMouseCoordinates)(),proj=(0,hooks_mapguide_1.useActiveMapProjection)();return projections&&projections.length?React.createElement("div",{style:{margin:8}},React.createElement("h4",{className:"bp3-heading"},(0,i18n_1.tr)("COORDTRACKER",locale)),projections.map((function(p){var _a,x=NaN,y=NaN;if(mouse&&proj)try{x=(_a=olProj.transform(mouse,proj,p))[0],y=_a[1]}catch(e){}return React.createElement(core_1.Card,{key:p,style:{marginBottom:10}},React.createElement("h5",{className:"bp3-heading"},React.createElement("a",{href:"#"},p)),React.createElement("p",null,React.createElement("strong",null,"X:")," ",x),React.createElement("p",null,React.createElement("strong",null,"Y:")," ",y))}))):React.createElement(core_1.Callout,{intent:core_1.Intent.DANGER,title:(0,i18n_1.tr)("ERROR",locale),icon:"error"},(0,i18n_1.tr)("COORDTRACKER_NO_PROJECTIONS",locale))};exports.CoordinateTrackerContainer=CoordinateTrackerContainer;try{CoordinateTrackerContainer.displayName="CoordinateTrackerContainer",CoordinateTrackerContainer.__docgenInfo={description:"",displayName:"CoordinateTrackerContainer",props:{projections:{defaultValue:null,description:"",name:"projections",required:!0,type:{name:"string[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/containers/coordinate-tracker.tsx#CoordinateTrackerContainer"]={docgenInfo:CoordinateTrackerContainer.__docgenInfo,name:"CoordinateTrackerContainer",path:"src/containers/coordinate-tracker.tsx#CoordinateTrackerContainer"})}catch(__react_docgen_typescript_loader_error){}},59099:function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.useActiveMapSubjectLayer=void 0;var context_1=__webpack_require__(47954);exports.useActiveMapSubjectLayer=function useActiveMapSubjectLayer(){return(0,context_1.useAppState)((function(state){var _a;if(state.config.activeMapName)return null===(_a=state.mapState[state.config.activeMapName].generic)||void 0===_a?void 0:_a.subject}))}},76457:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(21249),__webpack_require__(57327),Object.defineProperty(exports,"__esModule",{value:!0}),exports.useActiveMapState=exports.useActiveMapFiniteScales=exports.useActiveMapSessionId=exports.useActiveMapSelectableLayerNames=exports.useActiveMapActiveSelectedFeature=exports.useActiveMapLayerTransparency=exports.useActiveMapHideLayers=exports.useActiveMapHideGroups=exports.useActiveMapShowLayers=exports.useActiveMapShowGroups=exports.useActiveMapSelectableLayers=exports.useActiveMapExpandedGroups=exports.useActiveMapProjection=exports.useActiveMapMetersPerUnit=void 0;var common_1=__webpack_require__(18036),hooks_1=__webpack_require__(17269),context_1=__webpack_require__(47954);function useActiveMapSelectableLayers(){return(0,context_1.useAppState)((function(state){var _a,_b;return null===(_b=null===(_a=(0,hooks_1.getActiveMapBranch)(state))||void 0===_a?void 0:_a.mapguide)||void 0===_b?void 0:_b.selectableLayers}))}function useActiveMapState(){return(0,context_1.useAppState)((function(state){return(0,common_1.getRuntimeMap)(state)}))}exports.useActiveMapMetersPerUnit=function useActiveMapMetersPerUnit(){return(0,context_1.useAppState)((function(state){var _a,mpu=1;if(state.config.activeMapName){var ms=state.mapState[state.config.activeMapName];(null===(_a=ms.mapguide)||void 0===_a?void 0:_a.runtimeMap)&&(mpu=ms.mapguide.runtimeMap.CoordinateSystem.MetersPerUnit)}return mpu}))},exports.useActiveMapProjection=function useActiveMapProjection(){return(0,context_1.useAppState)((function(state){var _a,_b,_c,proj;if(state.config.activeMapName){var map=null===(_a=state.mapState[state.config.activeMapName].mapguide)||void 0===_a?void 0:_a.runtimeMap,subject=null===(_b=state.mapState[state.config.activeMapName].generic)||void 0===_b?void 0:_b.subject;map?proj="EPSG:"+map.CoordinateSystem.EpsgCode:subject&&(proj=null===(_c=subject.meta)||void 0===_c?void 0:_c.projection)}return proj}))},exports.useActiveMapExpandedGroups=function useActiveMapExpandedGroups(){return(0,context_1.useAppState)((function(state){var _a,_b;return null===(_b=null===(_a=(0,hooks_1.getActiveMapBranch)(state))||void 0===_a?void 0:_a.mapguide)||void 0===_b?void 0:_b.expandedGroups}))},exports.useActiveMapSelectableLayers=useActiveMapSelectableLayers,exports.useActiveMapShowGroups=function useActiveMapShowGroups(){return(0,context_1.useAppState)((function(state){var _a,_b;return null===(_b=null===(_a=(0,hooks_1.getActiveMapBranch)(state))||void 0===_a?void 0:_a.mapguide)||void 0===_b?void 0:_b.showGroups}))},exports.useActiveMapShowLayers=function useActiveMapShowLayers(){return(0,context_1.useAppState)((function(state){var _a,_b;return null===(_b=null===(_a=(0,hooks_1.getActiveMapBranch)(state))||void 0===_a?void 0:_a.mapguide)||void 0===_b?void 0:_b.showLayers}))},exports.useActiveMapHideGroups=function useActiveMapHideGroups(){return(0,context_1.useAppState)((function(state){var _a,_b;return null===(_b=null===(_a=(0,hooks_1.getActiveMapBranch)(state))||void 0===_a?void 0:_a.mapguide)||void 0===_b?void 0:_b.hideGroups}))},exports.useActiveMapHideLayers=function useActiveMapHideLayers(){return(0,context_1.useAppState)((function(state){var _a,_b;return null===(_b=null===(_a=(0,hooks_1.getActiveMapBranch)(state))||void 0===_a?void 0:_a.mapguide)||void 0===_b?void 0:_b.hideLayers}))},exports.useActiveMapLayerTransparency=function useActiveMapLayerTransparency(){return(0,context_1.useAppState)((function(state){var _a,_b;return null===(_b=null===(_a=(0,hooks_1.getActiveMapBranch)(state))||void 0===_a?void 0:_a.mapguide)||void 0===_b?void 0:_b.layerTransparency}))},exports.useActiveMapActiveSelectedFeature=function useActiveMapActiveSelectedFeature(){return(0,context_1.useAppState)((function(state){var _a,_b;return null===(_b=null===(_a=(0,hooks_1.getActiveMapBranch)(state))||void 0===_a?void 0:_a.mapguide)||void 0===_b?void 0:_b.activeSelectedFeature}))},exports.useActiveMapSelectableLayerNames=function useActiveMapSelectableLayerNames(){var _a,map=useActiveMapState(),selectableLayers=useActiveMapSelectableLayers();return map?(null!==(_a=map.Layer)&&void 0!==_a?_a:[]).filter((function(layer){return layer.Selectable&&!1!==selectableLayers[layer.ObjectId]})).map((function(layer){return layer.Name})):[]},exports.useActiveMapSessionId=function useActiveMapSessionId(){return(0,context_1.useAppState)((function(state){var _a;return null===(_a=(0,common_1.getRuntimeMap)(state))||void 0===_a?void 0:_a.SessionId}))},exports.useActiveMapFiniteScales=function useActiveMapFiniteScales(){return(0,context_1.useAppState)((function(state){var map=(0,common_1.getRuntimeMap)(state);return null!=map?map.FiniteDisplayScale:void 0}))},exports.useActiveMapState=useActiveMapState},17269:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(68309),Object.defineProperty(exports,"__esModule",{value:!0}),exports.useTemplateInitialInfoPaneWidth=exports.useTemplateSelectionVisible=exports.useTemplateTaskPaneVisible=exports.useTemplateLegendVisible=exports.useConfiguredCapabilities=exports.useConfiguredUndoLastPointKey=exports.useConfiguredCancelDigitizationKey=exports.useConfiguredLoadIndicatorColor=exports.useConfiguredLoadIndicatorPositioning=exports.useConfiguredManualFeatureTooltips=exports.useViewerFeatureTooltipsEnabled=exports.useViewerPointSelectionBuffer=exports.useViewerActiveFeatureSelectionColor=exports.useViewerSelectionColor=exports.useViewerSelectionImageFormat=exports.useViewerImageFormat=exports.useViewerIsStateless=exports.useIsContextMenuOpen=exports.useConfiguredAgentKind=exports.useConfiguredAgentUri=exports.useConfiguredCoordinateFormat=exports.useConfiguredCoordinateDecimals=exports.useConfiguredCoordinateProjection=exports.useViewerViewRotationEnabled=exports.useViewerActiveTool=exports.useViewerViewRotation=exports.useViewerBusyCount=exports.useAvailableMaps=exports.useActiveMapInitialView=exports.useActiveMapClientSelectionSet=exports.useCustomAppSettings=exports.useActiveMapSelectionSet=exports.useActiveMapBranch=exports.getActiveMapBranch=exports.useInitErrorOptions=exports.useInitErrorStack=exports.useInitError=exports.useInitWarnings=exports.useViewerFlyouts=exports.useCurrentMouseCoordinates=exports.useActiveMapExternalBaseLayers=exports.useViewerSizeUnits=exports.useActiveMapHeight=exports.useActiveMapWidth=exports.useActiveMapView=exports.useViewerLocale=exports.useActiveMapLayers=exports.useActiveMapInitialExternalLayers=exports.useActiveMapName=exports.usePrevious=void 0,exports.useReducedToolbarAppState=exports.useLastDispatchedAction=exports.useTaskPaneNavigationStack=exports.useTaskPaneLastUrlPushed=exports.useTaskPaneNavigationIndex=exports.useTaskPaneInitialUrl=exports.useTemplateInitialTaskPaneWidth=void 0;var tslib_1=__webpack_require__(70655),common_1=__webpack_require__(18036),constants_1=__webpack_require__(12872),react_1=__webpack_require__(67294),array_1=__webpack_require__(24698),command_1=__webpack_require__(74130),context_1=__webpack_require__(47954);function getActiveMapBranch(state){if(state.config.activeMapName)return state.mapState[state.config.activeMapName]}function useActiveMapSelectionSet(){return(0,context_1.useAppState)((function(state){var _a;return null!==(_a=(0,common_1.getSelectionSet)(state))&&void 0!==_a?_a:null}))}function useActiveMapClientSelectionSet(){return(0,context_1.useAppState)((function(state){var _a;return null===(_a=getActiveMapBranch(state))||void 0===_a?void 0:_a.clientSelection}))}exports.usePrevious=function usePrevious(value){var ref=(0,react_1.useRef)();return(0,react_1.useEffect)((function(){ref.current=value}),[value]),ref.current},exports.useActiveMapName=function useActiveMapName(){return(0,context_1.useAppState)((function(state){return state.config.activeMapName}))},exports.useActiveMapInitialExternalLayers=function useActiveMapInitialExternalLayers(){return(0,context_1.useAppState)((function(state){return state.config.activeMapName?state.mapState[state.config.activeMapName].initialExternalLayers:[]}))},exports.useActiveMapLayers=function useActiveMapLayers(){return(0,context_1.useAppState)((function(state){if(state.config.activeMapName)return state.mapState[state.config.activeMapName].layers}),(function(left,right){return!(0,array_1.areArraysDifferent)(left,right,(function(l,r){return l.name==r.name&&l.opacity==r.opacity&&l.visible==r.visible&&l.vectorStyle==r.vectorStyle&&l.cluster==r.cluster&&function sameHeatmapSettings(left,right){return!(!left||!right)&&left.blur==right.blur&&left.radius==right.radius}(l.heatmap,r.heatmap)}))}))},exports.useViewerLocale=function useViewerLocale(){return(0,context_1.useAppState)((function(state){return state.config.locale}))},exports.useActiveMapView=function useActiveMapView(){return(0,context_1.useAppState)((function(state){return(0,common_1.getCurrentView)(state)}))},exports.useActiveMapWidth=function useActiveMapWidth(){return(0,context_1.useAppState)((function(state){var _a,_b;return null===(_b=null===(_a=state.viewer)||void 0===_a?void 0:_a.size)||void 0===_b?void 0:_b[0]}))},exports.useActiveMapHeight=function useActiveMapHeight(){return(0,context_1.useAppState)((function(state){var _a,_b;return null===(_b=null===(_a=state.viewer)||void 0===_a?void 0:_a.size)||void 0===_b?void 0:_b[1]}))},exports.useViewerSizeUnits=function useViewerSizeUnits(){return(0,context_1.useAppState)((function(state){return state.config.viewSizeUnits}))},exports.useActiveMapExternalBaseLayers=function useActiveMapExternalBaseLayers(includeNonVisual){return(0,context_1.useAppState)((function(state){return(0,common_1.getExternalBaseLayers)(state,includeNonVisual)}))},exports.useCurrentMouseCoordinates=function useCurrentMouseCoordinates(){return(0,context_1.useAppState)((function(state){return state.mouse.coords}))},exports.useViewerFlyouts=function useViewerFlyouts(){return(0,context_1.useAppState)((function(state){return state.toolbar.flyouts}))},exports.useInitWarnings=function useInitWarnings(){return(0,context_1.useAppState)((function(state){return state.initError.warnings}))},exports.useInitError=function useInitError(){return(0,context_1.useAppState)((function(state){return state.initError.error}))},exports.useInitErrorStack=function useInitErrorStack(){return(0,context_1.useAppState)((function(state){return state.initError.includeStack}))},exports.useInitErrorOptions=function useInitErrorOptions(){return(0,context_1.useAppState)((function(state){return state.initError.options}))},exports.getActiveMapBranch=getActiveMapBranch,exports.useActiveMapBranch=function useActiveMapBranch(){return(0,context_1.useAppState)((function(state){return getActiveMapBranch(state)}))},exports.useActiveMapSelectionSet=useActiveMapSelectionSet,exports.useCustomAppSettings=function useCustomAppSettings(){return(0,context_1.useAppState)((function(state){return state.config.appSettings}))},exports.useActiveMapClientSelectionSet=useActiveMapClientSelectionSet,exports.useActiveMapInitialView=function useActiveMapInitialView(){return(0,context_1.useAppState)((function(state){var _a;return null===(_a=getActiveMapBranch(state))||void 0===_a?void 0:_a.initialView}))},exports.useAvailableMaps=function useAvailableMaps(){return(0,context_1.useAppState)((function(state){return state.config.availableMaps}))},exports.useViewerBusyCount=function useViewerBusyCount(){return(0,context_1.useAppState)((function(state){return state.viewer.busyCount}))},exports.useViewerViewRotation=function useViewerViewRotation(){return(0,context_1.useAppState)((function(state){return state.config.viewRotation}))},exports.useViewerActiveTool=function useViewerActiveTool(){return(0,context_1.useAppState)((function(state){return state.viewer.tool}))},exports.useViewerViewRotationEnabled=function useViewerViewRotationEnabled(){return(0,context_1.useAppState)((function(state){return state.config.viewRotationEnabled}))},exports.useConfiguredCoordinateProjection=function useConfiguredCoordinateProjection(){return(0,context_1.useAppState)((function(state){return state.config.coordinates.projection}))},exports.useConfiguredCoordinateDecimals=function useConfiguredCoordinateDecimals(){return(0,context_1.useAppState)((function(state){return state.config.coordinates.decimals}))},exports.useConfiguredCoordinateFormat=function useConfiguredCoordinateFormat(){return(0,context_1.useAppState)((function(state){return state.config.coordinates.format}))},exports.useConfiguredAgentUri=function useConfiguredAgentUri(){return(0,context_1.useAppState)((function(state){return state.config.agentUri}))},exports.useConfiguredAgentKind=function useConfiguredAgentKind(){return(0,context_1.useAppState)((function(state){return state.config.agentKind}))},exports.useIsContextMenuOpen=function useIsContextMenuOpen(){return(0,context_1.useAppState)((function(state){var _a,_b,_c,isContextMenuOpen=!1;return!0===(null===(_c=null===(_b=null===(_a=null==state?void 0:state.toolbar)||void 0===_a?void 0:_a.flyouts)||void 0===_b?void 0:_b[constants_1.WEBLAYOUT_CONTEXTMENU])||void 0===_c?void 0:_c.open)&&(isContextMenuOpen=!0),isContextMenuOpen}))},exports.useViewerIsStateless=function useViewerIsStateless(){return(0,context_1.useAppState)((function(state){return state.config.viewer.isStateless}))},exports.useViewerImageFormat=function useViewerImageFormat(){return(0,context_1.useAppState)((function(state){return state.config.viewer.imageFormat}))},exports.useViewerSelectionImageFormat=function useViewerSelectionImageFormat(){return(0,context_1.useAppState)((function(state){return state.config.viewer.selectionImageFormat}))},exports.useViewerSelectionColor=function useViewerSelectionColor(){return(0,context_1.useAppState)((function(state){return state.config.viewer.selectionColor}))},exports.useViewerActiveFeatureSelectionColor=function useViewerActiveFeatureSelectionColor(){return(0,context_1.useAppState)((function(state){return state.config.viewer.activeSelectedFeatureColor}))},exports.useViewerPointSelectionBuffer=function useViewerPointSelectionBuffer(){return(0,context_1.useAppState)((function(state){return state.config.viewer.pointSelectionBuffer}))},exports.useViewerFeatureTooltipsEnabled=function useViewerFeatureTooltipsEnabled(){return(0,context_1.useAppState)((function(state){return state.viewer.featureTooltipsEnabled}))},exports.useConfiguredManualFeatureTooltips=function useConfiguredManualFeatureTooltips(){return(0,context_1.useAppState)((function(state){return state.config.manualFeatureTooltips}))},exports.useConfiguredLoadIndicatorPositioning=function useConfiguredLoadIndicatorPositioning(){return(0,context_1.useAppState)((function(state){return state.config.viewer.loadIndicatorPositioning}))},exports.useConfiguredLoadIndicatorColor=function useConfiguredLoadIndicatorColor(){return(0,context_1.useAppState)((function(state){return state.config.viewer.loadIndicatorColor}))},exports.useConfiguredCancelDigitizationKey=function useConfiguredCancelDigitizationKey(){return(0,context_1.useAppState)((function(state){return state.config.cancelDigitizationKey}))},exports.useConfiguredUndoLastPointKey=function useConfiguredUndoLastPointKey(){return(0,context_1.useAppState)((function(state){return state.config.undoLastPointKey}))},exports.useConfiguredCapabilities=function useConfiguredCapabilities(){return(0,context_1.useAppState)((function(state){return state.config.capabilities}))},exports.useTemplateLegendVisible=function useTemplateLegendVisible(){return(0,context_1.useAppState)((function(state){return state.template.legendVisible}))},exports.useTemplateTaskPaneVisible=function useTemplateTaskPaneVisible(){return(0,context_1.useAppState)((function(state){return state.template.taskPaneVisible}))},exports.useTemplateSelectionVisible=function useTemplateSelectionVisible(){return(0,context_1.useAppState)((function(state){return state.template.selectionPanelVisible}))},exports.useTemplateInitialInfoPaneWidth=function useTemplateInitialInfoPaneWidth(){return(0,context_1.useAppState)((function(state){return state.template.initialInfoPaneWidth}))},exports.useTemplateInitialTaskPaneWidth=function useTemplateInitialTaskPaneWidth(){return(0,context_1.useAppState)((function(state){return state.template.initialTaskPaneWidth}))},exports.useTaskPaneInitialUrl=function useTaskPaneInitialUrl(){return(0,context_1.useAppState)((function(state){return state.taskpane.initialUrl}))},exports.useTaskPaneNavigationIndex=function useTaskPaneNavigationIndex(){return(0,context_1.useAppState)((function(state){return state.taskpane.navIndex}))},exports.useTaskPaneLastUrlPushed=function useTaskPaneLastUrlPushed(){return(0,context_1.useAppState)((function(state){return state.taskpane.lastUrlPushed}))},exports.useTaskPaneNavigationStack=function useTaskPaneNavigationStack(){return(0,context_1.useAppState)((function(state){return state.taskpane.navigation}))},exports.useLastDispatchedAction=function useLastDispatchedAction(){return(0,context_1.useAppState)((function(state){return state.lastaction}))},exports.useReducedToolbarAppState=function useReducedToolbarAppState(){var selection=useActiveMapSelectionSet(),clientSelection=useActiveMapClientSelectionSet(),tbState=(0,context_1.useAppState)((function(state){return(0,command_1.reduceAppToToolbarState)(state)}),(function(left,right){return(null==left?void 0:left.busyWorkerCount)==(null==right?void 0:right.busyWorkerCount)&&(null==left?void 0:left.hasNextView)==(null==right?void 0:right.hasNextView)&&(null==left?void 0:left.hasPreviousView)==(null==right?void 0:right.hasPreviousView)&&(null==left?void 0:left.featureTooltipsEnabled)==(null==right?void 0:right.featureTooltipsEnabled)&&(null==left?void 0:left.activeTool)==(null==right?void 0:right.activeTool)})),hasClientSelection=!1,hasSelection=!1;return selection&&(selection.FeatureSet&&selection.FeatureSet.Layer.length>0&&(hasSelection=!0),selection.SelectedFeatures&&selection.SelectedFeatures.SelectedLayer.length>0&&(hasSelection=!0)),clientSelection&&clientSelection.layers.length>0&&(hasClientSelection=!0),(0,tslib_1.__assign)((0,tslib_1.__assign)({},tbState),{hasClientSelection:hasClientSelection,hasSelection:hasSelection})}},46294:function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LegendContainer=void 0;var React=(0,__webpack_require__(70655).__importStar)(__webpack_require__(67294)),legend_1=__webpack_require__(42314),i18n_1=__webpack_require__(196),hooks_1=__webpack_require__(17269),map_1=__webpack_require__(83552),legend_2=__webpack_require__(24774),hooks_mapguide_1=__webpack_require__(76457),context_1=__webpack_require__(47954),LegendContainer=function LegendContainer(props){var maxHeight=props.maxHeight,inlineBaseLayerSwitcher=props.inlineBaseLayerSwitcher,dispatch=(0,context_1.useReduxDispatch)(),activeMapName=(0,hooks_1.useActiveMapName)(),locale=(0,hooks_1.useViewerLocale)(),map=(0,hooks_mapguide_1.useActiveMapState)(),view=(0,hooks_1.useActiveMapView)(),showGroups=(0,hooks_mapguide_1.useActiveMapShowGroups)(),showLayers=(0,hooks_mapguide_1.useActiveMapShowLayers)(),hideGroups=(0,hooks_mapguide_1.useActiveMapHideGroups)(),hideLayers=(0,hooks_mapguide_1.useActiveMapHideLayers)(),expandedGroups=(0,hooks_mapguide_1.useActiveMapExpandedGroups)(),selectableLayers=(0,hooks_mapguide_1.useActiveMapSelectableLayers)(),externalBaseLayers=(0,hooks_1.useActiveMapExternalBaseLayers)(!1),stateless=(0,hooks_1.useViewerIsStateless)(),setBaseLayerAction=function setBaseLayerAction(mapName,layerName){return dispatch((0,map_1.setBaseLayer)(mapName,layerName))},setGroupVisibilityAction=function setGroupVisibilityAction(mapName,options){return dispatch((0,legend_2.setGroupVisibility)(mapName,options))},setLayerVisibilityAction=function setLayerVisibilityAction(mapName,options){return dispatch((0,legend_2.setLayerVisibility)(mapName,options))},setLayerSelectableAction=function setLayerSelectableAction(mapName,options){return dispatch((0,legend_2.setLayerSelectable)(mapName,options))},setGroupExpandedAction=function setGroupExpandedAction(mapName,options){return dispatch((0,legend_2.setGroupExpanded)(mapName,options))},layers=(0,hooks_1.useActiveMapLayers)();if((map||layers)&&view){var scale=view.scale;return scale||layers?React.createElement(legend_1.Legend,{map:map,activeMapName:activeMapName,stateless:stateless,maxHeight:maxHeight,currentScale:scale,externalLayers:layers,showLayers:showLayers,showGroups:showGroups,hideLayers:hideLayers,hideGroups:hideGroups,locale:locale,inlineBaseLayerSwitcher:!!inlineBaseLayerSwitcher,externalBaseLayers:externalBaseLayers,onBaseLayerChanged:function onBaseLayerChanged(layerName){setBaseLayerAction&&activeMapName&&setBaseLayerAction(activeMapName,layerName)},overrideSelectableLayers:selectableLayers,overrideExpandedItems:expandedGroups,onLayerSelectabilityChanged:function onLayerSelectabilityChanged(id,selectable){activeMapName&&(null==setLayerSelectableAction||setLayerSelectableAction(activeMapName,{id:id,value:selectable}))},onGroupExpansionChanged:function onGroupExpansionChanged(id,expanded){setGroupExpandedAction&&activeMapName&&setGroupExpandedAction(activeMapName,{id:id,value:expanded})},onGroupVisibilityChanged:function onGroupVisibilityChanged(groupId,visible){setGroupVisibilityAction&&activeMapName&&setGroupVisibilityAction(activeMapName,{id:groupId,value:visible})},onLayerVisibilityChanged:function onLayerVisibilityChanged(layerId,visible){setLayerVisibilityAction&&activeMapName&&setLayerVisibilityAction(activeMapName,{id:layerId,value:visible})}}):React.createElement("div",null,(0,i18n_1.tr)("LOADING_MSG",locale))}return React.createElement("div",null,(0,i18n_1.tr)("LOADING_MSG",locale))};exports.LegendContainer=LegendContainer;try{LegendContainer.displayName="LegendContainer",LegendContainer.__docgenInfo={description:"",displayName:"LegendContainer",props:{maxHeight:{defaultValue:null,description:"",name:"maxHeight",required:!1,type:{name:"number"}},inlineBaseLayerSwitcher:{defaultValue:null,description:"",name:"inlineBaseLayerSwitcher",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/containers/legend.tsx#LegendContainer"]={docgenInfo:LegendContainer.__docgenInfo,name:"LegendContainer",path:"src/containers/legend.tsx#LegendContainer"})}catch(__react_docgen_typescript_loader_error){}},37510:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(21249),__webpack_require__(68309),Object.defineProperty(exports,"__esModule",{value:!0}),exports.MapMenuContainer=void 0;var React=(0,__webpack_require__(70655).__importStar)(__webpack_require__(67294)),map_menu_1=__webpack_require__(7287),hooks_1=__webpack_require__(17269),map_1=__webpack_require__(83552),context_1=__webpack_require__(47954);exports.MapMenuContainer=function MapMenuContainer(){var dispatch=(0,context_1.useReduxDispatch)(),locale=(0,hooks_1.useViewerLocale)(),activeMapName=(0,hooks_1.useActiveMapName)(),availableMaps=(0,hooks_1.useAvailableMaps)();if(locale&&activeMapName&&availableMaps){var entries=availableMaps.map((function(m){return{label:m.name,mapName:m.value}}));return React.createElement(map_menu_1.MapMenu,{onActiveMapChanged:function onActiveMapChanged(mapName){return function setActiveMapAction(mapName){return dispatch((0,map_1.setActiveMap)(mapName))}(mapName)},selectedMap:activeMapName,maps:entries,locale:locale})}return React.createElement("noscript",null)}},38865:function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MouseCoordinatesContainer=void 0;var tslib_1=__webpack_require__(70655),React=(0,tslib_1.__importStar)(__webpack_require__(67294)),common_1=__webpack_require__(18036),mouse_coordinates_1=__webpack_require__(88258),olProj=(0,tslib_1.__importStar)(__webpack_require__(26414)),units_1=__webpack_require__(8748),hooks_1=__webpack_require__(17269),hooks_mapguide_1=__webpack_require__(76457),MouseCoordinatesContainer=function MouseCoordinatesContainer(props){var style=props.style,mapProjection=(0,hooks_mapguide_1.useActiveMapProjection)(),projection=(0,hooks_1.useConfiguredCoordinateProjection)(),decimals=(0,hooks_1.useConfiguredCoordinateDecimals)(),format=(0,hooks_1.useConfiguredCoordinateFormat)(),mouse=(0,hooks_1.useCurrentMouseCoordinates)(),locale=(0,hooks_1.useViewerLocale)();if(mouse){var prj=olProj.get(null!=projection?projection:mapProjection),units=void 0;if(prj)switch(units=prj.getUnits()){case"degrees":units=(0,units_1.getUnitOfMeasure)(common_1.UnitOfMeasure.Degrees).abbreviation(locale);break;case"pixels":case"tile-pixels":units=(0,units_1.getUnitOfMeasure)(common_1.UnitOfMeasure.Pixels).abbreviation(locale);break;case"m":units=(0,units_1.getUnitOfMeasure)(common_1.UnitOfMeasure.Meters).abbreviation(locale);break;case"ft":case"us-ft":units=(0,units_1.getUnitOfMeasure)(common_1.UnitOfMeasure.Feet).abbreviation(locale)}var coords=[mouse[0],mouse[1]];if(projection&&mapProjection)try{coords=olProj.transform(coords,mapProjection,projection)}catch(e){}return React.createElement(mouse_coordinates_1.MouseCoordinates,{units:units,coords:coords,style:style,decimals:decimals,format:format})}return React.createElement("div",null)};exports.MouseCoordinatesContainer=MouseCoordinatesContainer;try{MouseCoordinatesContainer.displayName="MouseCoordinatesContainer",MouseCoordinatesContainer.__docgenInfo={description:"",displayName:"MouseCoordinatesContainer",props:{style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/containers/mouse-coordinates.tsx#MouseCoordinatesContainer"]={docgenInfo:MouseCoordinatesContainer.__docgenInfo,name:"MouseCoordinatesContainer",path:"src/containers/mouse-coordinates.tsx#MouseCoordinatesContainer"})}catch(__react_docgen_typescript_loader_error){}},23204:function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.NavigatorContainer=void 0;var React=(0,__webpack_require__(70655).__importStar)(__webpack_require__(67294)),navigator_1=__webpack_require__(18354),command_1=__webpack_require__(74130),hooks_1=__webpack_require__(17269),map_1=__webpack_require__(83552),hooks_mapguide_1=__webpack_require__(76457),context_1=__webpack_require__(47954),NavigatorContainer=function NavigatorContainer(props){var style=props.style,dispatch=(0,context_1.useReduxDispatch)(),locale=(0,hooks_1.useViewerLocale)(),finiteScales=(0,hooks_mapguide_1.useActiveMapFiniteScales)(),view=(0,hooks_1.useActiveMapView)(),busyCount=(0,hooks_1.useViewerBusyCount)(),activeMapName=(0,hooks_1.useActiveMapName)(),invokeCommandAction=function invokeCommandAction(cmd,parameters){return dispatch((0,map_1.invokeCommand)(cmd,parameters))};return view?React.createElement(navigator_1.Navigator,{style:style,scale:view.scale,finiteScaleList:finiteScales,locale:locale,busy:busyCount>0,onRequestZoomToScale:function onRequestZoomToScale(scale){activeMapName&&function setScaleAction(mapName,scale){dispatch((0,map_1.setScale)(mapName,scale))}(activeMapName,scale)},onPan:function onPan(direction){var cmd;switch(direction){case navigator_1.PanDirection.East:cmd=(0,command_1.getCommand)(command_1.DefaultCommands.PanRight);break;case navigator_1.PanDirection.West:cmd=(0,command_1.getCommand)(command_1.DefaultCommands.PanLeft);break;case navigator_1.PanDirection.North:cmd=(0,command_1.getCommand)(command_1.DefaultCommands.PanUp);break;case navigator_1.PanDirection.South:cmd=(0,command_1.getCommand)(command_1.DefaultCommands.PanDown)}cmd&&invokeCommandAction(cmd)},onZoom:function onZoom(direction){var cmd;switch(direction){case navigator_1.ZoomDirection.In:cmd=(0,command_1.getCommand)(command_1.DefaultCommands.ZoomIn);break;case navigator_1.ZoomDirection.Out:cmd=(0,command_1.getCommand)(command_1.DefaultCommands.ZoomOut)}cmd&&invokeCommandAction(cmd)}}):React.createElement("div",null)};exports.NavigatorContainer=NavigatorContainer;try{NavigatorContainer.displayName="NavigatorContainer",NavigatorContainer.__docgenInfo={description:"",displayName:"NavigatorContainer",props:{style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/containers/navigator.tsx#NavigatorContainer"]={docgenInfo:NavigatorContainer.__docgenInfo,name:"NavigatorContainer",path:"src/containers/navigator.tsx#NavigatorContainer"})}catch(__react_docgen_typescript_loader_error){}},19529:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(21249),__webpack_require__(68309),__webpack_require__(57327),Object.defineProperty(exports,"__esModule",{value:!0}),exports.MapViewer=void 0;var tslib_1=__webpack_require__(70655),React=(0,tslib_1.__importStar)(__webpack_require__(67294)),ReactDOM=(0,tslib_1.__importStar)(__webpack_require__(73935)),base_1=__webpack_require__(90051),assets_1=__webpack_require__(10358),map_load_indicator_1=__webpack_require__(94752),common_1=__webpack_require__(18036),context_1=__webpack_require__(47954),core_1=__webpack_require__(61992),mapguide_1=__webpack_require__(39695),i18n_1=__webpack_require__(196);__webpack_require__(13535);var subscriber_1=__webpack_require__(90384),hooks_1=__webpack_require__(17269),flyout_1=__webpack_require__(92070),constants_1=__webpack_require__(12872),CoreMapViewer=function(_super){function CoreMapViewer(props){var _this=_super.call(this,props)||this;return _this.isContextMenuOpen=function(){return _this.props.isContextMenuOpen},_this.setDigitizingType=function(digitizingType){return _this.setState({digitizingType:digitizingType})},_this.onBeginDigitization=function(callback){},_this.onHideContextMenu=function(){var _a,_b;return null===(_b=(_a=_this.props).onHideContextMenu)||void 0===_b?void 0:_b.call(_a)},_this.onOpenTooltipLink=function(url){},_this.onDispatch=function(action){return _this.props.onDispatch(action)},_this.addSubscribers=function(props){var subscribers=(0,tslib_1.__spreadArray)((0,tslib_1.__spreadArray)([],_this.state.subscribers,!0),props,!0);return _this.setState({subscribers:subscribers}),props.map((function(p){return p.name}))},_this.removeSubscribers=function(names){var subscribers=_this.state.subscribers,ol=subscribers.length,ns=subscribers.filter((function(s){return names.indexOf(s.name)<0}));return _this.setState({subscribers:subscribers}),ns.length<ol},_this.onContextMenu=function(e){var _a,_b;_this.mounted&&(_this.props.context.isMouseOverTooltip()||(e.preventDefault(),null===(_b=(_a=_this.props).onContextMenu)||void 0===_b||_b.call(_a,[e.clientX,e.clientY])))},_this.onKeyDown=function(e){_this.mounted&&(_this.props.context.onKeyDown(e),_this.setState({shiftKey:e.shiftKey}))},_this.onKeyUp=function(e){_this.mounted&&_this.setState({shiftKey:e.shiftKey})},_this.onMouseDown=function(e){_this.mounted&&(_this.state.isMouseDown||_this.setState({isMouseDown:!0}))},_this.onMouseUp=function(e){_this.mounted&&_this.state.isMouseDown&&_this.setState({isMouseDown:!1})},_this.mounted=!1,_this.state={shiftKey:!1,isMouseDown:!1,digitizingType:void 0,loaded:0,loading:0,subscribers:[]},_this}return(0,tslib_1.__extends)(CoreMapViewer,_super),CoreMapViewer.prototype.addImageLoading=function(){var newLoading=(this.state.loading||0)+1;this.setState({loading:newLoading}),this.props.context.incrementBusyWorker()},CoreMapViewer.prototype.getSubscribers=function(){return this.state.subscribers.map((function(s){return s.name}))},CoreMapViewer.prototype.addImageLoaded=function(){var _a=this.state,newLoadedCount=(_a.loaded||0)+1;_a.loading===newLoadedCount?this.setState({loaded:0,loading:0}):this.setState({loaded:newLoadedCount}),this.props.context.decrementBusyWorker()},CoreMapViewer.prototype.componentDidMount=function(){document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.onKeyUp);var mapNode=ReactDOM.findDOMNode(this);this.props.context.attachToComponent(mapNode,this),this.mounted=!0},CoreMapViewer.prototype.componentWillUnmount=function(){this.props.context.detachFromComponent(),this.mounted=!1},CoreMapViewer.prototype.render=function(){var _a=this.props,context=_a.context,backgroundColor=_a.backgroundColor,isMouseDown=this.state.isMouseDown,tool=context.getActiveTool(),style={width:"100%",height:"100%"};if(context.isDigitizing())switch(this.state.digitizingType){case"Point":style.cursor="url("+assets_1.CURSOR_DIGITIZE_POINT+"), auto";break;case"Line":style.cursor="url("+assets_1.CURSOR_DIGITIZE_LINE+"), auto";break;case"LineString":style.cursor="url("+assets_1.CURSOR_DIGITIZE_LINESTRING+"), auto";break;case"Rectangle":style.cursor="url("+assets_1.CURSOR_DIGITIZE_RECT+"), auto";break;case"Polygon":style.cursor="url("+assets_1.CURSOR_DIGITIZE_POLYGON+"), auto";break;case"Circle":style.cursor="url("+assets_1.CURSOR_DIGITIZE_CIRCLE+"), auto"}else switch(tool){case common_1.ActiveMapTool.Pan:style.cursor=isMouseDown?"url("+assets_1.CURSOR_GRABBING+"), auto":"url("+assets_1.CURSOR_GRAB+"), auto";break;case common_1.ActiveMapTool.Zoom:style.cursor="url("+assets_1.CURSOR_ZOOM_IN+"), auto"}backgroundColor&&(style.backgroundColor=backgroundColor);var _b=this.state,loading=_b.loading,loaded=_b.loaded,subscribers=_b.subscribers;return React.createElement("div",{className:"map-viewer-component",style:style,onContextMenu:this.onContextMenu,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp},React.createElement(map_load_indicator_1.MapLoadIndicator,{loaded:loaded||0,loading:loading||0,position:this.props.loadIndicatorPosition,color:this.props.loadIndicatorColor}),subscribers.map((function(s,i){return React.createElement(subscriber_1.Subscriber,(0,tslib_1.__assign)({key:"subscriber-"+i+"-"+s.name},s))})),this.props.children)},CoreMapViewer}(React.Component),MapViewer=function MapViewer(_a){var _b,children=_a.children,context=(0,context_1.useMapProviderContext)(),toasterRef=React.useRef(null),loadIndicatorPositioning=(0,hooks_1.useConfiguredLoadIndicatorPositioning)(),loadIndicatorColor=(0,hooks_1.useConfiguredLoadIndicatorColor)(),dispatch=(0,context_1.useReduxDispatch)(),hookFunc=context.getHookFunction(),clientSelection=(0,hooks_1.useActiveMapClientSelectionSet)(),appSettings=(0,hooks_1.useCustomAppSettings)(),nextState=hookFunc(),mapName=nextState.mapName,layers=nextState.layers,initialExternalLayers=nextState.initialExternalLayers,bgColor=nextState.bgColor,locale=nextState.locale,flyouts=(0,hooks_1.useViewerFlyouts)();React.useEffect((function(){var _a;clientSelection||null===(_a=context.getSelectedFeatures())||void 0===_a||_a.clear()}),[clientSelection]);var agentUri,agentKind,bContextMenuOpen=1==(null===(_b=flyouts[constants_1.WEBLAYOUT_CONTEXTMENU])||void 0===_b?void 0:_b.open),showContextMenuAction=function showContextMenuAction(pos){return dispatch((0,flyout_1.openContextMenu)({x:pos[0],y:pos[1]}))},selection=null;return(0,mapguide_1.isMapGuideProviderState)(nextState)&&(agentUri=nextState.agentUri,agentKind=nextState.agentKind,selection=nextState.selection),context.setToasterRef(toasterRef),context.setProviderState(nextState),(0,base_1.useViewerSideEffects)(context,null!=appSettings?appSettings:{},nextState.isReady,mapName,layers,initialExternalLayers,agentUri,agentKind,selection),nextState.isReady?React.createElement(React.Fragment,null,React.createElement(core_1.Toaster,{usePortal:!1,position:core_1.Position.TOP,ref:toasterRef}),React.createElement(CoreMapViewer,{context:context,onDispatch:dispatch,backgroundColor:bgColor,onContextMenu:function onContextMenu(pos){return null==showContextMenuAction?void 0:showContextMenuAction(pos)},onHideContextMenu:function hideContextMenuAction(){return dispatch((0,flyout_1.closeContextMenu)())},isContextMenuOpen:bContextMenuOpen,loadIndicatorPosition:loadIndicatorPositioning,loadIndicatorColor:loadIndicatorColor},children)):React.createElement("div",null,(0,i18n_1.tr)("LOADING_MSG",locale))};exports.MapViewer=MapViewer;try{MapViewer.displayName="MapViewer",MapViewer.__docgenInfo={description:"",displayName:"MapViewer",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/containers/neo-map-viewer.tsx#MapViewer"]={docgenInfo:MapViewer.__docgenInfo,name:"MapViewer",path:"src/containers/neo-map-viewer.tsx#MapViewer"})}catch(__react_docgen_typescript_loader_error){}},51259:function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ScaleDisplayContainer=void 0;var React=(0,__webpack_require__(70655).__importStar)(__webpack_require__(67294)),scale_display_1=__webpack_require__(57611),hooks_1=__webpack_require__(17269),map_1=__webpack_require__(83552),hooks_mapguide_1=__webpack_require__(76457),context_1=__webpack_require__(47954),ScaleDisplayContainer=function ScaleDisplayContainer(props){var style=props.style,dispatch=(0,context_1.useReduxDispatch)(),locale=(0,hooks_1.useViewerLocale)(),activeMapName=(0,hooks_1.useActiveMapName)(),view=(0,hooks_1.useActiveMapView)(),finiteScales=(0,hooks_mapguide_1.useActiveMapFiniteScales)();return view?React.createElement(scale_display_1.ScaleDisplay,{onScaleChanged:function onScaleChanged(scale){activeMapName&&function setScaleAction(mapName,scale){dispatch((0,map_1.setScale)(mapName,scale))}(activeMapName,scale)},view:view,style:style,finiteScales:finiteScales,locale:locale}):React.createElement("noscript",null)};exports.ScaleDisplayContainer=ScaleDisplayContainer;try{ScaleDisplayContainer.displayName="ScaleDisplayContainer",ScaleDisplayContainer.__docgenInfo={description:"",displayName:"ScaleDisplayContainer",props:{style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/containers/scale-display.tsx#ScaleDisplayContainer"]={docgenInfo:ScaleDisplayContainer.__docgenInfo,name:"ScaleDisplayContainer",path:"src/containers/scale-display.tsx#ScaleDisplayContainer"})}catch(__react_docgen_typescript_loader_error){}},48729:function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SelectedFeatureCountContainer=void 0;var React=(0,__webpack_require__(70655).__importStar)(__webpack_require__(67294)),selection_count_1=__webpack_require__(63313),selected_feature_count_1=__webpack_require__(87251),hooks_1=__webpack_require__(17269),SelectedFeatureCountContainer=function SelectedFeatureCountContainer(props){var style=props.style,selection=(0,hooks_1.useActiveMapSelectionSet)(),clientSelection=(0,hooks_1.useActiveMapClientSelectionSet)(),locale=(0,hooks_1.useViewerLocale)(),summary=(0,selection_count_1.countSelection)(null==selection?void 0:selection.FeatureSet,clientSelection);return summary?React.createElement(selected_feature_count_1.SelectedFeatureCount,{locale:locale,style:style,summary:summary}):React.createElement("div",null)};exports.SelectedFeatureCountContainer=SelectedFeatureCountContainer;try{SelectedFeatureCountContainer.displayName="SelectedFeatureCountContainer",SelectedFeatureCountContainer.__docgenInfo={description:"",displayName:"SelectedFeatureCountContainer",props:{style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/containers/selected-feature-count.tsx#SelectedFeatureCountContainer"]={docgenInfo:SelectedFeatureCountContainer.__docgenInfo,name:"SelectedFeatureCountContainer",path:"src/containers/selected-feature-count.tsx#SelectedFeatureCountContainer"})}catch(__react_docgen_typescript_loader_error){}},61189:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(21249),__webpack_require__(23123),__webpack_require__(74916),__webpack_require__(57327),Object.defineProperty(exports,"__esModule",{value:!0}),exports.SelectionPanelContainer=void 0;var React=(0,__webpack_require__(70655).__importStar)(__webpack_require__(67294)),selection_panel_1=__webpack_require__(15683),runtime_1=__webpack_require__(49538),i18n_1=__webpack_require__(196),core_1=__webpack_require__(61992),context_1=__webpack_require__(6928),hooks_1=__webpack_require__(17269),map_1=__webpack_require__(83552),hooks_mapguide_1=__webpack_require__(76457),context_2=__webpack_require__(47954),composite_selection_1=__webpack_require__(98737),SelectionPanelContainer=function SelectionPanelContainer(props){var maxHeight=props.maxHeight,selectedFeatureRenderer=props.selectedFeatureRenderer,locale=(0,hooks_1.useViewerLocale)(),map=(0,hooks_mapguide_1.useActiveMapState)(),selection=(0,hooks_1.useActiveMapSelectionSet)(),clientSelection=(0,hooks_1.useActiveMapClientSelectionSet)(),dispatch=(0,context_2.useReduxDispatch)(),activeMapName=(0,hooks_1.useActiveMapName)(),appContext=React.useContext(context_1.AppContext),compSel=new composite_selection_1.CompositeSelection(null==selection?void 0:selection.SelectedFeatures,clientSelection);return null!=(null==selection?void 0:selection.SelectedFeatures)||clientSelection?React.createElement(selection_panel_1.SelectionPanel,{locale:locale,onResolveLayerLabel:function resolveLayerLabel(layerId,_){var _a,_b,_c,layer=null===(_c=null===(_b=null===(_a=null==map?void 0:map.Layer)||void 0===_a?void 0:_a.filter)||void 0===_b?void 0:_b.call(_a,(function(l){return l.ObjectId==layerId})))||void 0===_c?void 0:_c[0];if(layer)return layer.LegendLabel},allowHtmlValues:appContext.allowHtmlValuesInSelection(),cleanHTML:appContext.getHTMLCleaner(),selection:compSel,onRequestZoomToFeature:function onZoomToSelectedFeature(feature){if(feature.Bounds){var bbox=feature.Bounds.split(" ").map((function(s){return parseFloat(s)})),viewer=(0,runtime_1.getViewer)();viewer&&function setCurrentViewAction(view){dispatch((0,map_1.setCurrentView)(view))}(viewer.getViewForExtent(bbox))}},onShowSelectedFeature:function onShowSelectedFeature(layerId,selectionKey){activeMapName&&function showSelectedFeatureAction(mapName,layerId,selectionKey){dispatch((0,map_1.showSelectedFeature)(mapName,layerId,selectionKey))}(activeMapName,layerId,selectionKey)},selectedFeatureRenderer:selectedFeatureRenderer,maxHeight:maxHeight}):React.createElement(core_1.Callout,{intent:core_1.Intent.PRIMARY,icon:"info-sign"},React.createElement("p",{className:"selection-panel-no-selection"},(0,i18n_1.tr)("NO_SELECTED_FEATURES",locale)))};exports.SelectionPanelContainer=SelectionPanelContainer;try{SelectionPanelContainer.displayName="SelectionPanelContainer",SelectionPanelContainer.__docgenInfo={description:"",displayName:"SelectionPanelContainer",props:{maxHeight:{defaultValue:null,description:"",name:"maxHeight",required:!1,type:{name:"number"}},selectedFeatureRenderer:{defaultValue:null,description:"",name:"selectedFeatureRenderer",required:!1,type:{name:"((props: ISelectedFeatureProps) => Element)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/containers/selection-panel.tsx#SelectionPanelContainer"]={docgenInfo:SelectionPanelContainer.__docgenInfo,name:"SelectionPanelContainer",path:"src/containers/selection-panel.tsx#SelectionPanelContainer"})}catch(__react_docgen_typescript_loader_error){}},90384:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(68309),Object.defineProperty(exports,"__esModule",{value:!0}),exports.Subscriber=void 0;var React=(0,__webpack_require__(70655).__importStar)(__webpack_require__(67294)),context_1=__webpack_require__(47954),Subscriber=function Subscriber(props){var state=(0,context_1.useAppState)(props.appStateSelector,props.appStateEqualityFn);return React.useEffect((function(){props.onNewState(state)}),[state]),React.createElement("noscript",{"data-subscriber-name":props.name})};exports.Subscriber=Subscriber;try{Subscriber.displayName="Subscriber",Subscriber.__docgenInfo={description:"",displayName:"Subscriber",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},appStateSelector:{defaultValue:null,description:"",name:"appStateSelector",required:!0,type:{name:"(state: IApplicationState) => any"}},appStateEqualityFn:{defaultValue:null,description:"",name:"appStateEqualityFn",required:!1,type:{name:"((left: any, right: any) => boolean)"}},onNewState:{defaultValue:null,description:"",name:"onNewState",required:!0,type:{name:"(state: any) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/containers/subscriber.tsx#Subscriber"]={docgenInfo:Subscriber.__docgenInfo,name:"Subscriber",path:"src/containers/subscriber.tsx#Subscriber"})}catch(__react_docgen_typescript_loader_error){}},31442:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(21249),__webpack_require__(47941),Object.defineProperty(exports,"__esModule",{value:!0}),exports.TaskPaneContainer=void 0;var tslib_1=__webpack_require__(70655),React=(0,tslib_1.__importStar)(__webpack_require__(67294)),task_pane_1=__webpack_require__(42122),url_1=__webpack_require__(7976),i18n_1=__webpack_require__(196),core_1=__webpack_require__(61992),hooks_1=__webpack_require__(17269),map_1=__webpack_require__(83552),taskpane_1=__webpack_require__(9899),flyout_1=__webpack_require__(92070),context_1=__webpack_require__(47954),TaskPaneContainerInner=function(_super){function TaskPaneContainerInner(props){var _this=_super.call(this,props)||this;_this.onCloseFlyout=function(id){var _a,_b;return null===(_b=(_a=_this.props).closeFlyout)||void 0===_b?void 0:_b.call(_a,id)},_this.onOpenFlyout=function(id,metrics){var _a,_b;return null===(_b=(_a=_this.props).openFlyout)||void 0===_b?void 0:_b.call(_a,id,metrics)},_this.onUrlLoaded=function(url){var _a=_this.props,navigationStack=_a.navigationStack,navIndex=_a.navIndex,pushUrl=_a.pushUrl,currentUrl=navigationStack[navIndex];(0,url_1.areUrlsSame)(currentUrl,url)||null==pushUrl||pushUrl(url)},_this.canGoHome=function(){var _a,_b,_c,_d,_e,_f=_this.props,initialUrl=_f.initialUrl,navigationStack=_f.navigationStack,navIndex=_f.navIndex,map=_f.map;if(initialUrl){var initUrl=(null===(_a=null==map?void 0:map.mapguide)||void 0===_a?void 0:_a.runtimeMap)&&initialUrl?(0,url_1.ensureParameters)(initialUrl,null===(_c=null===(_b=null==map?void 0:map.mapguide)||void 0===_b?void 0:_b.runtimeMap)||void 0===_c?void 0:_c.Name,null===(_e=null===(_d=null==map?void 0:map.mapguide)||void 0===_d?void 0:_d.runtimeMap)||void 0===_e?void 0:_e.SessionId,_this.getLocale()):initialUrl;return navigationStack.length>0&&!(0,url_1.areUrlsSame)(navigationStack[navIndex],initUrl)}return!1},_this.canGoBack=function(){return _this.props.navIndex>0},_this.canGoForward=function(){var _a=_this.props,navigationStack=_a.navigationStack;return _a.navIndex<navigationStack.length-1};var locale=_this.getLocale();return _this.homeAction={bpIconName:"home",tooltip:(0,i18n_1.tr)("TT_GO_HOME",locale),enabled:_this.canGoHome,invoke:function invoke(){var _a,_b;return null===(_b=(_a=_this.props).goHome)||void 0===_b?void 0:_b.call(_a)}},_this.backAction={bpIconName:"arrow-left",tooltip:(0,i18n_1.tr)("TT_GO_BACK",locale),enabled:_this.canGoBack,invoke:function invoke(){var _a,_b;return null===(_b=(_a=_this.props).goBack)||void 0===_b?void 0:_b.call(_a)}},_this.forwardAction={bpIconName:"arrow-right",tooltip:(0,i18n_1.tr)("TT_GO_FORWARD",locale),enabled:_this.canGoForward,invoke:function invoke(){var _a,_b;return null===(_b=(_a=_this.props).goForward)||void 0===_b?void 0:_b.call(_a)}},_this}return(0,tslib_1.__extends)(TaskPaneContainerInner,_super),TaskPaneContainerInner.prototype.getLocale=function(){return this.props.locale},TaskPaneContainerInner.prototype.render=function(){var _a,_b,_c,_d,_this=this,_e=this.props,navigationStack=_e.navigationStack,navIndex=_e.navIndex,hasTaskBar=_e.hasTaskBar,lastUrlPushed=_e.lastUrlPushed,map=_e.map,maxHeight=_e.maxHeight,flyouts=_e.flyouts,isResizing=_e.isResizing;if(navigationStack[navIndex]){var flyoutStates={};if(flyouts)for(var _i=0,ids_1=Object.keys(flyouts);_i<ids_1.length;_i++){var fid=ids_1[_i];flyoutStates[fid]=!!flyouts[fid].open}return React.createElement("div",null,React.createElement(task_pane_1.TaskPane,{currentUrl:navigationStack[navIndex],showTaskBar:hasTaskBar,lastUrlPushed:lastUrlPushed,homeAction:this.homeAction,backAction:this.backAction,onOpenFlyout:this.onOpenFlyout,onCloseFlyout:this.onCloseFlyout,forwardAction:this.forwardAction,session:null===(_b=null===(_a=null==map?void 0:map.mapguide)||void 0===_a?void 0:_a.runtimeMap)||void 0===_b?void 0:_b.SessionId,mapName:null===(_d=null===(_c=null==map?void 0:map.mapguide)||void 0===_c?void 0:_c.runtimeMap)||void 0===_d?void 0:_d.Name,onUrlLoaded:this.onUrlLoaded,maxHeight:maxHeight,flyoutStates:flyoutStates,locale:this.getLocale()}),function(){if(1==isResizing)return React.createElement("div",{style:{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundColor:task_pane_1.TASK_PANE_OVERLAY_BGCOLOR}},React.createElement(core_1.NonIdealState,{icon:"arrows-horizontal",description:(0,i18n_1.tr)("TASK_PANE_RESIZING",_this.getLocale())}))}())}return React.createElement("noscript",null)},TaskPaneContainerInner}(React.Component),TaskPaneContainer=function TaskPaneContainer(props){var locale=(0,hooks_1.useViewerLocale)(),map=(0,hooks_1.useActiveMapBranch)(),flyouts=(0,hooks_1.useViewerFlyouts)(),initialUrl=(0,hooks_1.useTaskPaneInitialUrl)(),lastUrlPushed=(0,hooks_1.useTaskPaneLastUrlPushed)(),navIndex=(0,hooks_1.useTaskPaneNavigationIndex)(),navigationStack=(0,hooks_1.useTaskPaneNavigationStack)(),hasTaskBar=(0,hooks_1.useConfiguredCapabilities)().hasTaskBar,dispatch=(0,context_1.useReduxDispatch)();return React.createElement(TaskPaneContainerInner,(0,tslib_1.__assign)({map:map,locale:locale,flyouts:flyouts,initialUrl:initialUrl,lastUrlPushed:lastUrlPushed,navIndex:navIndex,navigationStack:navigationStack,invokeCommand:function invokeCommandAction(cmd,parameters){return dispatch((0,map_1.invokeCommand)(cmd,parameters))},hasTaskBar:hasTaskBar,goHome:function goHomeAction(){return dispatch((0,taskpane_1.goHome)())},goForward:function goForwardAction(){return dispatch((0,taskpane_1.goForward)())},goBack:function goBackAction(){return dispatch((0,taskpane_1.goBack)())},pushUrl:function pushUrlAction(url,silent){return dispatch((0,taskpane_1.pushUrl)(url,silent))},openFlyout:function openFlyoutAction(id,metrics){return dispatch((0,flyout_1.openFlyout)(id,metrics))},closeFlyout:function closeFlyoutAction(id){return dispatch((0,flyout_1.closeFlyout)(id))}},props))};exports.TaskPaneContainer=TaskPaneContainer;try{TaskPaneContainer.displayName="TaskPaneContainer",TaskPaneContainer.__docgenInfo={description:"",displayName:"TaskPaneContainer",props:{maxHeight:{defaultValue:null,description:"",name:"maxHeight",required:!1,type:{name:"number"}},isResizing:{defaultValue:null,description:"",name:"isResizing",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/containers/task-pane.tsx#TaskPaneContainer"]={docgenInfo:TaskPaneContainer.__docgenInfo,name:"TaskPaneContainer",path:"src/containers/task-pane.tsx#TaskPaneContainer"})}catch(__react_docgen_typescript_loader_error){}},63110:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(69600),__webpack_require__(23123),__webpack_require__(74916),Object.defineProperty(exports,"__esModule",{value:!0}),exports.getStateFromUrl=exports.updateUrl=void 0;var tslib_1=__webpack_require__(70655),url_1=__webpack_require__(7976);exports.updateUrl=function updateUrl(state,extraState){var st=(0,tslib_1.__assign)({},extraState);for(var k in state){var val=state[k];switch(k){case"ft":st.ft=1==val?1:0;break;case"sl":st.sl=null==val?void 0:val.join("_");break;case"hl":st.hl=null==val?void 0:val.join("_");break;case"sg":st.sg=null==val?void 0:val.join("_");break;case"hg":st.hg=null==val?void 0:val.join("_");break;default:st[k]=val}}var url=(0,url_1.appendParameters)(window.location.href,st,!0,!1);window.history.replaceState(st,"",url)},exports.getStateFromUrl=function getStateFromUrl(ignoreKeys){var st=(0,url_1.parseUrlParameters)(window.location.href),state={},ignore=null!=ignoreKeys?ignoreKeys:[];for(var k in st)if(!(ignore.indexOf(k)>=0)){var val=st[k];switch(k){case"ft":var n=parseInt(val,10);isNaN(n)||(state.ft=0!=n);break;case"x":n=parseFloat(val);isNaN(n)||(state.x=n);break;case"y":n=parseFloat(val);isNaN(n)||(state.y=n);break;case"scale":n=parseFloat(val);isNaN(n)||(state.scale=n);break;case"sl":state.sl=null==val?void 0:val.split("_");break;case"hl":state.hl=null==val?void 0:val.split("_");break;case"sg":state.sg=null==val?void 0:val.split("_");break;case"hg":state.hg=null==val?void 0:val.split("_");break;default:state[k]=val}}return state}},53117:function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ViewSizeContainer=void 0;var React=(0,__webpack_require__(70655).__importStar)(__webpack_require__(67294)),common_1=__webpack_require__(18036),view_size_1=__webpack_require__(56174),hooks_1=__webpack_require__(17269),hooks_mapguide_1=__webpack_require__(76457);exports.ViewSizeContainer=function ViewSizeContainer(){var width=(0,hooks_1.useActiveMapWidth)(),height=(0,hooks_1.useActiveMapHeight)(),sizeUnits=(0,hooks_1.useViewerSizeUnits)(),metersPerUnit=(0,hooks_mapguide_1.useActiveMapMetersPerUnit)(),view=(0,hooks_1.useActiveMapView)(),locale=(0,hooks_1.useViewerLocale)();return width&&height&&metersPerUnit&&view?React.createElement(view_size_1.ViewSize,{locale:locale,width:width,height:height,view:view,metersPerUnit:metersPerUnit,units:sizeUnits||common_1.UnitOfMeasure.Unknown}):React.createElement("noscript",null)}},83856:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(21249),Object.defineProperty(exports,"__esModule",{value:!0}),exports.ViewerOptions=void 0;var React=(0,__webpack_require__(70655).__importStar)(__webpack_require__(67294)),i18n_1=__webpack_require__(196),units_1=__webpack_require__(8748),core_1=__webpack_require__(61992),hooks_1=__webpack_require__(17269),map_1=__webpack_require__(83552),hooks_mapguide_1=__webpack_require__(76457),constants_1=__webpack_require__(12872),context_1=__webpack_require__(47954);exports.ViewerOptions=function ViewerOptions(){var externalBaseLayers=(0,hooks_1.useActiveMapExternalBaseLayers)(!1),mapName=(0,hooks_1.useActiveMapName)(),layerTransparency=(0,hooks_mapguide_1.useActiveMapLayerTransparency)(),featureTooltipsEnabled=(0,hooks_1.useViewerFeatureTooltipsEnabled)(),manualFeatureTooltips=(0,hooks_1.useConfiguredManualFeatureTooltips)(),viewSizeUnits=(0,hooks_1.useViewerSizeUnits)(),stateless=(0,hooks_1.useViewerIsStateless)(),map=(0,hooks_mapguide_1.useActiveMapState)(),locale=(0,hooks_1.useViewerLocale)(),dispatch=(0,context_1.useReduxDispatch)(),setLayerTransparencyAction=function setLayerTransparencyAction(mapName,id,opacity){return dispatch((0,map_1.setLayerTransparency)(mapName,id,opacity))},onMgLayerOpacityChanged=function onMgLayerOpacityChanged(mapName,layerId,value){mapName&&(null==setLayerTransparencyAction||setLayerTransparencyAction(mapName,layerId,value))},onBaseOpacityChanged=function onBaseOpacityChanged(value){onMgLayerOpacityChanged(mapName,constants_1.LAYER_ID_BASE,value)},onManualFeatureTooltipsChanged=function onManualFeatureTooltipsChanged(e){!function toggleManualMapTipsAction(enabled){dispatch((0,map_1.setManualFeatureTooltipsEnabled)(enabled))}(e.target.checked)},units=(0,units_1.getUnits)(),opBase=1,opMgBase=1,opMgSelOverlay=1;layerTransparency&&(constants_1.LAYER_ID_BASE in layerTransparency&&(opBase=layerTransparency[constants_1.LAYER_ID_BASE]),constants_1.LAYER_ID_MG_BASE in layerTransparency&&(opMgBase=layerTransparency[constants_1.LAYER_ID_MG_BASE]),constants_1.LAYER_ID_MG_SEL_OVERLAY in layerTransparency&&(opMgSelOverlay=layerTransparency[constants_1.LAYER_ID_MG_SEL_OVERLAY]));var isStateless=stateless;return map||(isStateless=!0),React.createElement("div",{className:"component-viewer-options"},React.createElement("h5",null,(0,i18n_1.tr)("VIEWER_OPTIONS",locale)),React.createElement("hr",null),!isStateless&&React.createElement("label",{className:"bp3-control bp3-switch"},React.createElement("input",{type:"checkbox",checked:featureTooltipsEnabled,onChange:function onFeatureTooltipsChanged(e){!function toggleMapTipsAction(enabled){dispatch((0,map_1.setFeatureTooltipsEnabled)(enabled))}(e.target.checked)}}),React.createElement("span",{className:"bp3-control-indicator"}),(0,i18n_1.tr)("FEATURE_TOOLTIPS",locale)),function(){if(!isStateless&&featureTooltipsEnabled)return React.createElement("label",{className:"bp3-control bp3-switch"},React.createElement("input",{type:"checkbox",checked:manualFeatureTooltips,onChange:onManualFeatureTooltipsChanged}),React.createElement("span",{className:"bp3-control-indicator"}),(0,i18n_1.tr)("MANUAL_FEATURE_TOOLTIPS",locale))}(),React.createElement("fieldset",null,React.createElement("legend",null,(0,i18n_1.tr)("LAYER_TRANSPARENCY",locale)),function(){if(externalBaseLayers)return React.createElement("label",{className:"bp3-label noselect"},(0,i18n_1.tr)("LAYER_ID_BASE",locale),React.createElement("div",{style:{paddingLeft:8,paddingRight:8}},React.createElement(core_1.Slider,{min:0,max:1,stepSize:.01,value:opBase,onChange:onBaseOpacityChanged})))}(),React.createElement("label",{className:"bp3-label noselect"},map?(0,i18n_1.tr)("LAYER_ID_MG_BASE",locale):(0,i18n_1.tr)("LAYER_ID_SUBJECT",locale),React.createElement("div",{style:{paddingLeft:8,paddingRight:8}},React.createElement(core_1.Slider,{min:0,max:1,stepSize:.01,value:opMgBase,onChange:function onMgOpacityChanged(value){onMgLayerOpacityChanged(mapName,constants_1.LAYER_ID_MG_BASE,value)}}))),!isStateless&&React.createElement("label",{className:"bp3-label noselect"},(0,i18n_1.tr)("LAYER_ID_MG_SEL_OVERLAY",locale),React.createElement("div",{style:{paddingLeft:8,paddingRight:8}},React.createElement(core_1.Slider,{min:0,max:1,stepSize:.01,value:opMgSelOverlay,onChange:function onMgSelOpacityChanged(value){onMgLayerOpacityChanged(mapName,constants_1.LAYER_ID_MG_SEL_OVERLAY,value)}})))),React.createElement("label",{className:"bp3-label"},(0,i18n_1.tr)("MAP_SIZE_DISPLAY_UNITS",locale),React.createElement("div",{className:"bp3-select"},React.createElement(core_1.HTMLSelect,{value:viewSizeUnits,onChange:function onViewSizeUnitsChanged(e){!function setViewSizeDisplayUnitsAction(units){dispatch((0,map_1.setViewSizeUnits)(units))}(e.target.value)}},units.map((function(u){var uom=u[0],ui=(0,units_1.getUnitOfMeasure)(uom);return React.createElement("option",{key:uom,value:uom},ui.localizedName(locale))}))))))}},1961:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(47941),Object.defineProperty(exports,"__esModule",{value:!0}),exports.configReducer=exports.CONFIG_INITIAL_STATE=void 0;var tslib_1=__webpack_require__(70655),common_1=__webpack_require__(18036),i18n_1=__webpack_require__(196),actions_1=__webpack_require__(4485),logger_1=__webpack_require__(97838);exports.CONFIG_INITIAL_STATE={agentUri:void 0,agentKind:"mapagent",locale:i18n_1.DEFAULT_LOCALE,activeMapName:void 0,availableMaps:void 0,viewRotation:0,viewRotationEnabled:!0,viewSizeUnits:common_1.UnitOfMeasure.Meters,manualFeatureTooltips:!1,cancelDigitizationKey:common_1.KC_ESCAPE,undoLastPointKey:common_1.KC_U,coordinates:{decimals:6},viewer:{isStateless:!1,imageFormat:"PNG",selectionImageFormat:"PNG8",selectionColor:"0x0000FFAA",activeSelectedFeatureColor:"0xFF0000AA",pointSelectionBuffer:2,loadIndicatorPositioning:"top",loadIndicatorColor:"rgba(34, 153, 221, 0.9)"},capabilities:{hasTaskPane:!1,hasTaskBar:!1,hasStatusBar:!1,hasNavigator:!1,hasSelectionPanel:!1,hasLegend:!1,hasToolbar:!1,hasViewSize:!1}},exports.configReducer=function configReducer(state,action){var _a;switch(void 0===state&&(state=exports.CONFIG_INITIAL_STATE),action.type){case actions_1.ActionType.SET_LOCALE:return(0,tslib_1.__assign)((0,tslib_1.__assign)({},state),{locale:action.payload});case actions_1.ActionType.INIT_APP:for(var payload=null!==(_a=action.payload)&&void 0!==_a?_a:{},maps=payload.maps,availableMaps=[],am=payload.activeMapName,mapNames=Object.keys(maps),_i=0,mapNames_1=mapNames;_i<mapNames_1.length;_i++){var mapName=mapNames_1[_i];availableMaps.push({name:maps[mapName].mapGroupId,value:mapName})}mapNames.indexOf(am)<0&&((0,logger_1.warn)("Invalid initial active map name: "+am+". Probably because we haven't properly implemented recovery of runtime maps on reload yet"),am=mapNames[0]);var state1={locale:payload.locale||i18n_1.DEFAULT_LOCALE,capabilities:payload.capabilities,activeMapName:am,availableMaps:availableMaps},newState=(0,tslib_1.__assign)((0,tslib_1.__assign)({},state),state1);if(null!=payload.config&&Object.keys(payload.config).length>0){var coordConfig=(0,tslib_1.__assign)({},state.coordinates),viewerConfig=(0,tslib_1.__assign)({},state.viewer);null!=payload.config.isStateless&&(viewerConfig.isStateless=payload.config.isStateless),null!=payload.config.imageFormat&&(viewerConfig.imageFormat=payload.config.imageFormat),null!=payload.config.selectionImageFormat&&(viewerConfig.selectionImageFormat=payload.config.selectionImageFormat),null!=payload.config.selectionColor&&(viewerConfig.selectionColor=payload.config.selectionColor),null!=payload.config.pointSelectionBuffer&&(viewerConfig.pointSelectionBuffer=payload.config.pointSelectionBuffer),null!=payload.config.coordinateProjection&&(coordConfig.projection=payload.config.coordinateProjection),null!=payload.config.coordinateDecimals&&(coordConfig.decimals=payload.config.coordinateDecimals),null!=payload.config.coordinateDisplayFormat&&(coordConfig.format=payload.config.coordinateDisplayFormat);var state2={viewer:viewerConfig,coordinates:coordConfig};return null!=payload.config.viewSizeUnits&&(state2.viewSizeUnits=payload.config.viewSizeUnits),(0,tslib_1.__assign)((0,tslib_1.__assign)({},newState),state2)}return newState;case actions_1.ActionType.MAP_SET_VIEW_ROTATION:return(0,tslib_1.__assign)((0,tslib_1.__assign)({},state),{viewRotation:action.payload});case actions_1.ActionType.MAP_SET_VIEW_ROTATION_ENABLED:return(0,tslib_1.__assign)((0,tslib_1.__assign)({},state),{viewRotationEnabled:action.payload});case actions_1.ActionType.MAP_SET_ACTIVE_MAP:var data=action.payload;if(data){state1={activeMapName:data};return(0,tslib_1.__assign)((0,tslib_1.__assign)({},state),state1)}case actions_1.ActionType.MAP_SET_VIEW_SIZE_UNITS:state1={viewSizeUnits:action.payload};return(0,tslib_1.__assign)((0,tslib_1.__assign)({},state),state1);case actions_1.ActionType.MAP_SET_MANUAL_MAPTIP:return(0,tslib_1.__assign)((0,tslib_1.__assign)({},state),{manualFeatureTooltips:action.payload})}return state}},55953:function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.initErrorReducer=exports.INIT_ERROR_INITIAL_STATE=void 0;var tslib_1=__webpack_require__(70655),array_1=__webpack_require__(24698),actions_1=__webpack_require__(4485);exports.INIT_ERROR_INITIAL_STATE={options:{},error:void 0,includeStack:!0,warnings:[]},exports.initErrorReducer=function initErrorReducer(state,action){switch(void 0===state&&(state=exports.INIT_ERROR_INITIAL_STATE),action.type){case actions_1.ActionType.INIT_ACKNOWLEDGE_WARNINGS:return(0,tslib_1.__assign)((0,tslib_1.__assign)({},state),{warnings:[]});case actions_1.ActionType.INIT_APP:return(0,tslib_1.__assign)((0,tslib_1.__assign)({},state),{warnings:(0,array_1.makeUnique)(action.payload.warnings)});case actions_1.ActionType.INIT_ERROR:var payload=action.payload,error=payload.error,options=payload.options,includeStack=payload.includeStack;return void 0===includeStack&&(includeStack=!0),{error:error,options:options,includeStack:includeStack,warnings:[]}}return state}},65870:function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.lastAction=exports.NULL_ACTION=void 0;var type_guards_1=__webpack_require__(64726),actions_1=__webpack_require__(4485);exports.NULL_ACTION={},exports.lastAction=function lastAction(state,action){if(void 0===state&&(state=null),(0,type_guards_1.isAction)(action))switch(action.type){case actions_1.ActionType.MAP_SET_BUSY_COUNT:case actions_1.ActionType.TASK_INVOKE_URL:case actions_1.ActionType.MAP_SET_SELECTION:case actions_1.ActionType.MAP_ADD_CLIENT_SELECTED_FEATURE:case actions_1.ActionType.MAP_SET_MAPTIP:case actions_1.ActionType.MAP_SET_ACTIVE_TOOL:return action}return exports.NULL_ACTION}},10714:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(21249),__webpack_require__(68309),__webpack_require__(47941),__webpack_require__(69600),__webpack_require__(40561),__webpack_require__(57327),__webpack_require__(69826),Object.defineProperty(exports,"__esModule",{value:!0}),exports.mapStateReducer=exports.MAP_STATE_INITIAL_SUB_STATE=exports.MG_INITIAL_SUB_STATE=exports.MAP_STATE_INITIAL_STATE=void 0;var tslib_1=__webpack_require__(70655),type_guards_1=__webpack_require__(64726),array_1=__webpack_require__(24698),actions_1=__webpack_require__(4485),defs_1=__webpack_require__(93720),logger_1=__webpack_require__(97838),ol_style_contracts_1=__webpack_require__(42720);function applyMapGuideSubState(state,mapName,applyFn){var subState=state[mapName];if(subState){var mgSubState=subState.mapguide;if(mgSubState){var toApply=applyFn(mgSubState),mgSubState1=(0,tslib_1.__assign)((0,tslib_1.__assign)({},mgSubState),toApply);return mergeSubState(state,mapName,(0,tslib_1.__assign)((0,tslib_1.__assign)({},subState),{mapguide:mgSubState1}))}}return state}function setLayerAction(state,mapName,layerName,selector){var subState=state[mapName];if(subState&&subState.layers){var state1={layers:subState.layers.map((function(l){return l.name==layerName?(0,tslib_1.__assign)((0,tslib_1.__assign)({},l),selector(l)):l}))};return mergeSubState(state,mapName,(0,tslib_1.__assign)((0,tslib_1.__assign)({},subState),state1))}return state}function mergeSubState(state,mapName,subState){var state1={};return state1[mapName]=(0,tslib_1.__assign)((0,tslib_1.__assign)({},state[mapName]),subState),(0,tslib_1.__assign)((0,tslib_1.__assign)({},state),state1)}exports.MAP_STATE_INITIAL_STATE={},exports.MG_INITIAL_SUB_STATE={selectionSet:void 0,layerTransparency:{},selectableLayers:{},expandedGroups:{},runtimeMap:void 0,showLayers:[],showGroups:[],hideLayers:[],hideGroups:[],activeSelectedFeature:void 0},exports.MAP_STATE_INITIAL_SUB_STATE={currentView:void 0,initialView:void 0,history:[],historyIndex:-1,externalBaseLayers:[],initialExternalLayers:[],layers:void 0,mapguide:void 0,generic:void 0,clientSelection:void 0},exports.mapStateReducer=function mapStateReducer(state,action){var _a,_b,_c,_d,_e,_f,_g,_h;switch(void 0===state&&(state=exports.MAP_STATE_INITIAL_STATE),action.type){case actions_1.ActionType.MAP_REFRESH:var payload_1=action.payload;return applyMapGuideSubState(state,payload_1.mapName,(function(_){return{runtimeMap:payload_1.map}}));case actions_1.ActionType.INIT_APP:var maps=(payload=action.payload).maps,mapKeys=Object.keys(maps),newState={},mapNameToApplyInitialState=payload.activeMapName;mapNameToApplyInitialState||1!=mapKeys.length||(mapNameToApplyInitialState=mapKeys[0]);for(var _i=0,mapKeys_1=mapKeys;_i<mapKeys_1.length;_i++){var mapName=mapKeys_1[_i],cv=void 0;payload.initialView&&mapName==mapNameToApplyInitialState&&(cv={currentView:(0,tslib_1.__assign)({},payload.initialView)});var isel=void 0;payload.initialSelections&&payload.initialSelections[mapName]&&(isel={selectionSet:payload.initialSelections[mapName]},(0,logger_1.debug)("Restoring client-side selection set for: "+mapName));var sl=[],sg=[],hl=[],hg=[],mrtm=void 0,mgeneric=void 0,rtm=maps[mapName].map;if(rtm&&((0,defs_1.isGenericSubjectMapLayer)(rtm)?mgeneric={subject:(0,tslib_1.__assign)({},rtm)}:mrtm={runtimeMap:rtm}),mapName==mapNameToApplyInitialState&&rtm&&!(0,defs_1.isGenericSubjectMapLayer)(rtm)){var isl=null!==(_a=payload.initialShowLayers)&&void 0!==_a?_a:[],isg=null!==(_b=payload.initialShowGroups)&&void 0!==_b?_b:[],ihl=null!==(_c=payload.initialHideLayers)&&void 0!==_c?_c:[],ihg=null!==(_d=payload.initialHideGroups)&&void 0!==_d?_d:[];if(rtm.Layer)for(var _j=0,_k=rtm.Layer;_j<_k.length;_j++){var l=_k[_j];isl.indexOf(l.Name)>=0&&!l.Visible?sl.push(l.ObjectId):ihl.indexOf(l.Name)>=0&&l.Visible&&hl.push(l.ObjectId)}if(rtm.Group)for(var _l=0,_m=rtm.Group;_l<_m.length;_l++){var g=_m[_l];isg.indexOf(g.Name)>=0&&!g.Visible?sg.push(g.ObjectId):ihg.indexOf(g.Name)>=0&&g.Visible&&hg.push(g.ObjectId)}(0,logger_1.debug)("Initially showing layers: "+isl.join("|")),(0,logger_1.debug)("Initially showing groups: "+isg.join("|")),(0,logger_1.debug)("Initially hiding layers: "+ihl.join("|")),(0,logger_1.debug)("Initially hiding groups: "+ihg.join("|")),(0,logger_1.debug)("Initially showing layer ids: "+sl.join("|")),(0,logger_1.debug)("Initially showing group ids: "+sg.join("|")),(0,logger_1.debug)("Initially hiding layer ids: "+hl.join("|")),(0,logger_1.debug)("Initially hiding group ids: "+hg.join("|"))}var newMgSubState=(0,tslib_1.__assign)((0,tslib_1.__assign)((0,tslib_1.__assign)((0,tslib_1.__assign)((0,tslib_1.__assign)((0,tslib_1.__assign)((0,tslib_1.__assign)({},exports.MG_INITIAL_SUB_STATE),mrtm),isel||{}),sl.length>0?{showLayers:(0,tslib_1.__spreadArray)([],sl,!0)}:{}),sg.length>0?{showGroups:(0,tslib_1.__spreadArray)([],sg,!0)}:{}),hl.length>0?{hideLayers:(0,tslib_1.__spreadArray)([],hl,!0)}:{}),hg.length>0?{hideGroups:(0,tslib_1.__spreadArray)([],hg,!0)}:{}),newMapState=(0,tslib_1.__assign)((0,tslib_1.__assign)((0,tslib_1.__assign)((0,tslib_1.__assign)((0,tslib_1.__assign)((0,tslib_1.__assign)((0,tslib_1.__assign)({},exports.MAP_STATE_INITIAL_SUB_STATE),{generic:mgeneric}),{externalBaseLayers:maps[mapName].externalBaseLayers}),{initialExternalLayers:maps[mapName].initialExternalLayers}),{initialView:maps[mapName].initialView}),cv||{}),{mapguide:newMgSubState});(null===(_e=null==state?void 0:state[mapName])||void 0===_e?void 0:_e.currentView)&&(newMapState.currentView=state[mapName].currentView),newState[mapName]=newMapState}return(0,tslib_1.__assign)((0,tslib_1.__assign)({},state),newState);case actions_1.ActionType.MAP_PREVIOUS_VIEW:if(subState=state[(payload=action.payload).mapName])if((index=subState.historyIndex-1)>=0){var state1={historyIndex:index,currentView:subState.history[index]};return mergeSubState(state,payload.mapName,(0,tslib_1.__assign)((0,tslib_1.__assign)({},subState),state1))}return state;case actions_1.ActionType.MAP_NEXT_VIEW:if(subState=state[(payload=action.payload).mapName])if((index=subState.historyIndex+1)<subState.history.length){state1={historyIndex:index,currentView:subState.history[index]};return mergeSubState(state,payload.mapName,(0,tslib_1.__assign)((0,tslib_1.__assign)({},subState),state1))}return state;case actions_1.ActionType.MAP_SET_SCALE:if(subState=state[(payload=action.payload).mapName]){var view=subState.currentView,scale=payload.scale;if("object"==typeof view&&"number"==typeof scale){var view1={scale:scale,resolution:payload.resolution};view=(0,tslib_1.__assign)((0,tslib_1.__assign)({},view),view1)}state1={currentView:view};return(newSubState=(0,tslib_1.__assign)((0,tslib_1.__assign)({},state1),{historyIndex:subState.historyIndex})).history=(0,tslib_1.__spreadArray)([],subState.history,!0),view&&newSubState.history&&null!=newSubState.historyIndex&&(newSubState.historyIndex++,newSubState.history[newSubState.historyIndex]=view,newSubState.history.length>newSubState.historyIndex+1&&newSubState.history.splice(newSubState.historyIndex+1)),mergeSubState(state,payload.mapName,newSubState)}return state;case actions_1.ActionType.MAP_SET_VIEW:if(subState=state[(payload=action.payload).mapName]){var data=payload.view;if((0,type_guards_1.isMapView)(data)){var newSubState;state1={currentView:data};return(newSubState=(0,tslib_1.__assign)((0,tslib_1.__assign)({},state1),{historyIndex:subState.historyIndex})).history=(0,tslib_1.__spreadArray)([],subState.history,!0),newSubState.history&&null!=newSubState.historyIndex&&(newSubState.historyIndex++,newSubState.history[newSubState.historyIndex]=data,newSubState.history.length>newSubState.historyIndex+1&&newSubState.history.splice(newSubState.historyIndex+1)),mergeSubState(state,payload.mapName,newSubState)}}return state;case actions_1.ActionType.MAP_SET_LAYER_TRANSPARENCY:var payload_2=action.payload;return applyMapGuideSubState(state,payload_2.mapName,(function(mgSubState){var trans=(0,tslib_1.__assign)({},mgSubState.layerTransparency);return trans[payload_2.layerName]=payload_2.opacity,{layerTransparency:trans}}));case actions_1.ActionType.LEGEND_SET_LAYER_SELECTABLE:var payload_3=action.payload;return applyMapGuideSubState(state,payload_3.mapName,(function(mgSubState){var layers=(0,tslib_1.__assign)({},mgSubState.selectableLayers);return layers[payload_3.id]=payload_3.value,{selectableLayers:layers}}));case actions_1.ActionType.LEGEND_SET_GROUP_EXPANDABLE:var payload_4=action.payload;return applyMapGuideSubState(state,payload_4.mapName,(function(mgSubState){var groups=(0,tslib_1.__assign)({},mgSubState.expandedGroups);return groups[payload_4.id]=payload_4.value,{expandedGroups:groups}}));case actions_1.ActionType.LEGEND_SET_GROUP_VISIBILITY:var payload_5=action.payload;return applyMapGuideSubState(state,payload_5.mapName,(function(mgSubState){var showGroups=(0,tslib_1.__spreadArray)([],mgSubState.showGroups,!0),hideGroups=(0,tslib_1.__spreadArray)([],mgSubState.hideGroups,!0);return!0===payload_5.value?(showGroups.push(payload_5.id),showGroups=(0,array_1.makeUnique)(showGroups),hideGroups=hideGroups.filter((function(g){return g!=payload_5.id}))):(hideGroups.push(payload_5.id),hideGroups=(0,array_1.makeUnique)(hideGroups),showGroups=showGroups.filter((function(g){return g!=payload_5.id}))),{showLayers:mgSubState.showLayers,showGroups:showGroups,hideLayers:mgSubState.hideLayers,hideGroups:hideGroups}}));case actions_1.ActionType.LEGEND_SET_LAYER_VISIBILITY:var payload_6=action.payload;return applyMapGuideSubState(state,payload_6.mapName,(function(mgSubState){var showLayers=(0,tslib_1.__spreadArray)([],mgSubState.showLayers,!0),hideLayers=(0,tslib_1.__spreadArray)([],mgSubState.hideLayers,!0);return!0===payload_6.value?(showLayers.push(payload_6.id),showLayers=(0,array_1.makeUnique)(showLayers),hideLayers=hideLayers.filter((function(g){return g!=payload_6.id}))):(hideLayers.push(payload_6.id),hideLayers=(0,array_1.makeUnique)(hideLayers),showLayers=showLayers.filter((function(g){return g!=payload_6.id}))),{showLayers:showLayers,showGroups:mgSubState.showGroups,hideLayers:hideLayers,hideGroups:mgSubState.hideGroups}}));case actions_1.ActionType.MAP_SET_SELECTION:var payload_7=action.payload;return applyMapGuideSubState(state,payload_7.mapName,(function(_){return{selectionSet:payload_7.selection,layerIndex:-1,featureIndex:-1,activeSelectedFeature:void 0}}));case actions_1.ActionType.MAP_ADD_CLIENT_SELECTED_FEATURE:var payload_8=action.payload;if(subState=state[payload_8.mapName]){var cs=null!==(_f=subState.clientSelection)&&void 0!==_f?_f:{layers:[]},lyr=cs.layers.find((function(l){return l.name==payload_8.layerName}));return lyr||(lyr={name:payload_8.layerName,features:[]},cs.layers.push(lyr)),lyr.features.push(payload_8.feature),mergeSubState(state,payload_8.mapName,(0,tslib_1.__assign)((0,tslib_1.__assign)({},subState),{clientSelection:cs}))}return state;case actions_1.ActionType.MAP_CLEAR_CLIENT_SELECTION:return(subState=state[(payload=action.payload).mapName])?mergeSubState(state,payload.mapName,(0,tslib_1.__assign)((0,tslib_1.__assign)({},subState),{clientSelection:void 0})):state;case actions_1.ActionType.MAP_SHOW_SELECTED_FEATURE:var payload_9=action.payload;return applyMapGuideSubState(state,payload_9.mapName,(function(_){return{activeSelectedFeature:{layerId:payload_9.layerId,selectionKey:payload_9.selectionKey}}}));case actions_1.ActionType.MAP_SET_BASE_LAYER:var payload_10=action.payload;if(subState=state[payload_10.mapName]){state1={externalBaseLayers:(layers=subState.externalBaseLayers||[]).map((function(layer){return"UTFGrid"!=layer.kind&&(layer.visible=!1),layer.name==payload_10.layerName&&(layer.visible=!0),layer}))};return mergeSubState(state,payload_10.mapName,(0,tslib_1.__assign)((0,tslib_1.__assign)({},subState),state1))}return state;case actions_1.ActionType.EXTERNAL_LAYERS_READY:if(subState=state[(payload=action.payload).mapName]){state1={layers:layers=null!==(_g=subState.layers)&&void 0!==_g?_g:[]};return mergeSubState(state,payload.mapName,(0,tslib_1.__assign)((0,tslib_1.__assign)({},subState),state1))}return state;case actions_1.ActionType.LAYER_ADDED:var payload_11=action.payload;if(subState=state[payload_11.mapName]){state1={layers:layers=(0,tslib_1.__spreadArray)([payload_11.layer],null!==(_h=subState.layers)&&void 0!==_h?_h:[],!0)};var ss=mergeSubState(state,payload_11.mapName,(0,tslib_1.__assign)((0,tslib_1.__assign)({},subState),state1));return payload_11.defaultStyle?setLayerAction(ss,payload_11.mapName,payload_11.layer.name,(function(){return{vectorStyle:payload_11.defaultStyle}})):ss}return state;case actions_1.ActionType.REMOVE_LAYER:var payload;if((subState=state[(payload=action.payload).mapName])&&subState.layers){state1={layers:layers=subState.layers.filter((function(l){return l.name!=action.payload.layerName}))};return mergeSubState(state,payload.mapName,(0,tslib_1.__assign)((0,tslib_1.__assign)({},subState),state1))}return state;case actions_1.ActionType.SET_LAYER_VISIBILITY:var _o=action.payload,layerName=(mapName=_o.mapName,_o.layerName),visible_1=_o.visible;return state1=setLayerAction(state,mapName,layerName,(function(){return{visible:visible_1}}));case actions_1.ActionType.SET_LAYER_OPACITY:var _p=action.payload,opacity_1=(mapName=_p.mapName,layerName=_p.layerName,_p.opacity);return state1=setLayerAction(state,mapName,layerName,(function(){return{opacity:opacity_1}}));case actions_1.ActionType.SET_HEATMAP_LAYER_BLUR:var _q=action.payload,blur_1=(mapName=_q.mapName,layerName=_q.layerName,_q.blur);return state1=setLayerAction(state,mapName,layerName,(function(layer){var _a;return{heatmap:(0,tslib_1.__assign)((0,tslib_1.__assign)({},null!==(_a=layer.heatmap)&&void 0!==_a?_a:{blur:15,radius:5}),{blur:blur_1})}}));case actions_1.ActionType.SET_HEATMAP_LAYER_RADIUS:var _r=action.payload,radius_1=(mapName=_r.mapName,layerName=_r.layerName,_r.radius);return state1=setLayerAction(state,mapName,layerName,(function(layer){var _a;return{heatmap:(0,tslib_1.__assign)((0,tslib_1.__assign)({},null!==(_a=layer.heatmap)&&void 0!==_a?_a:{blur:15,radius:5}),{radius:radius_1})}}));case actions_1.ActionType.SET_LAYER_INDEX:var subState,_s=action.payload,index=(mapName=_s.mapName,_s.index);layerName=_s.layerName;if((subState=state[mapName])&&subState.layers){for(var layers=(0,tslib_1.__spreadArray)([],subState.layers,!0),currentIdx=-1,i=0;i<layers.length;i++)if(layers[i].name==layerName){currentIdx=i;break}if(currentIdx>=0&&currentIdx!=index&&index<layers.length&&index>=0){var theLayer=layers[currentIdx];layers.splice(currentIdx,1),layers.splice(index,0,theLayer);state1={layers:layers};return mergeSubState(state,mapName,(0,tslib_1.__assign)((0,tslib_1.__assign)({},subState),state1))}}return state;case actions_1.ActionType.SET_LAYER_VECTOR_STYLE:var _t=action.payload,style_1=(mapName=_t.mapName,layerName=_t.layerName,_t.style),which_1=_t.which;return state1=setLayerAction(state,mapName,layerName,(function(current){return which_1==ol_style_contracts_1.VectorStyleSource.Base?{vectorStyle:style_1}:which_1==ol_style_contracts_1.VectorStyleSource.Cluster?{cluster:(0,tslib_1.__assign)((0,tslib_1.__assign)({},current.cluster),{style:(0,tslib_1.__assign)({},style_1)})}:{}}));case actions_1.ActionType.ADD_LAYER_BUSY_WORKER:var _u=action.payload;return state1=setLayerAction(state,mapName=_u.mapName,layerName=_u.layerName,(function(l){return{busyWorkerCount:l.busyWorkerCount+1}}));case actions_1.ActionType.REMOVE_LAYER_BUSY_WORKER:var _v=action.payload;return state1=setLayerAction(state,mapName=_v.mapName,layerName=_v.layerName,(function(l){return{busyWorkerCount:l.busyWorkerCount-1}}))}return state}},70148:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(68309),Object.defineProperty(exports,"__esModule",{value:!0}),exports.modalReducer=exports.MODAL_INITIAL_STATE=void 0;var tslib_1=__webpack_require__(70655),actions_1=__webpack_require__(4485);exports.MODAL_INITIAL_STATE={},exports.modalReducer=function modalReducer(state,action){switch(void 0===state&&(state=exports.MODAL_INITIAL_STATE),action.type){case actions_1.ActionType.MODAL_SHOW_COMPONENT:return(newData={})[action.payload.name]={modal:action.payload.modal,component:action.payload.component,componentProps:action.payload.componentProps},(0,tslib_1.__assign)((0,tslib_1.__assign)({},state),newData);case actions_1.ActionType.MODAL_SHOW_URL:var newData;return(newData={})[action.payload.name]=(0,tslib_1.__assign)({},action.payload),(0,tslib_1.__assign)((0,tslib_1.__assign)({},state),newData);case actions_1.ActionType.MODAL_CLOSE:var newState=(0,tslib_1.__assign)({},state);return delete newState[action.payload],newState}return state}},46449:function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mouseReducer=exports.MOUSE_INITIAL_STATE=void 0;var tslib_1=__webpack_require__(70655),type_guards_1=__webpack_require__(64726),actions_1=__webpack_require__(4485);exports.MOUSE_INITIAL_STATE={coords:void 0},exports.mouseReducer=function mouseReducer(state,action){switch(void 0===state&&(state=exports.MOUSE_INITIAL_STATE),action.type){case actions_1.ActionType.UPDATE_MOUSE_COORDINATES:var data=action.payload.coord;if((0,type_guards_1.isCoordinate)(data)){var state1={coords:data};return(0,tslib_1.__assign)((0,tslib_1.__assign)({},state),state1)}}return state}},18973:function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.rootReducer=void 0;var config_1=__webpack_require__(1961),toolbar_1=__webpack_require__(15763),taskpane_1=__webpack_require__(36418),last_action_1=__webpack_require__(65870),modal_1=__webpack_require__(70148),init_error_1=__webpack_require__(55953),map_state_1=__webpack_require__(10714),viewer_1=__webpack_require__(43780),mouse_1=__webpack_require__(46449),template_1=__webpack_require__(2838);exports.rootReducer={initError:init_error_1.initErrorReducer,config:config_1.configReducer,template:template_1.templateReducer,mapState:map_state_1.mapStateReducer,viewer:viewer_1.viewerReducer,toolbar:toolbar_1.toolbarReducer,taskpane:taskpane_1.taskPaneReducer,modal:modal_1.modalReducer,mouse:mouse_1.mouseReducer,lastaction:last_action_1.lastAction}},36418:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(40561),Object.defineProperty(exports,"__esModule",{value:!0}),exports.taskPaneReducer=exports.TASK_PANE_INITIAL_STATE=void 0;var tslib_1=__webpack_require__(70655),actions_1=__webpack_require__(4485);function mergeNavigatedUrl(state,url){var index=state.navIndex,nav=state.navigation;nav[++index]=url,nav.length>index+1&&nav.splice(index+1);var newState={navIndex:index,navigation:nav,lastUrlPushed:!1};return(0,tslib_1.__assign)((0,tslib_1.__assign)({},state),newState)}exports.TASK_PANE_INITIAL_STATE={navIndex:-1,navigation:[],initialUrl:void 0,lastUrlPushed:!1},exports.taskPaneReducer=function taskPaneReducer(state,action){switch(void 0===state&&(state=exports.TASK_PANE_INITIAL_STATE),action.type){case actions_1.ActionType.INIT_APP:var newState={initialUrl:(payload=action.payload).initialUrl,navIndex:0,navigation:[payload.initialUrl]};return(0,tslib_1.__assign)((0,tslib_1.__assign)({},state),newState);case actions_1.ActionType.TASK_PANE_HOME:return null!=state.initialUrl?mergeNavigatedUrl(state,state.initialUrl):state;case actions_1.ActionType.TASK_PANE_BACK:var index=state.navIndex;newState={navIndex:--index,navigation:nav=state.navigation,lastUrlPushed:!1};return(0,tslib_1.__assign)((0,tslib_1.__assign)({},state),newState);case actions_1.ActionType.TASK_PANE_FORWARD:index=state.navIndex,newState={navIndex:++index,navigation:nav=state.navigation,lastUrlPushed:!1};return(0,tslib_1.__assign)((0,tslib_1.__assign)({},state),newState);case actions_1.ActionType.TASK_PANE_PUSH_URL:var nav,payload=action.payload;index=state.navIndex;if((nav=state.navigation)[index+1]=payload.url,nav.length>index+2&&nav.splice(index+2),!0===payload.silent){newState={navigation:nav};return(0,tslib_1.__assign)((0,tslib_1.__assign)({},state),newState)}newState={navIndex:index+1,navigation:nav,lastUrlPushed:!0};return(0,tslib_1.__assign)((0,tslib_1.__assign)({},state),newState);case actions_1.ActionType.TASK_INVOKE_URL:return mergeNavigatedUrl(state,action.payload.url)}return state}},2838:function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.templateReducer=exports.setCustomTemplateReducer=exports.isElementState=exports.TEMPLATE_INITIAL_STATE=void 0;var _ovReducer,tslib_1=__webpack_require__(70655),actions_1=__webpack_require__(4485);function isElementState(args){return null!=args&&void 0!==args.legendVisible&&void 0!==args.selectionPanelVisible&&void 0!==args.taskPaneVisible}exports.TEMPLATE_INITIAL_STATE={initialInfoPaneWidth:250,initialTaskPaneWidth:300,taskPaneVisible:!0,selectionPanelVisible:!0,legendVisible:!0,autoDisplaySelectionPanelOnSelection:!0},exports.isElementState=isElementState,exports.setCustomTemplateReducer=function setCustomTemplateReducer(func){_ovReducer=func},exports.templateReducer=function templateReducer(origState,action){void 0===origState&&(origState=exports.TEMPLATE_INITIAL_STATE);var state=origState;if(action.type==actions_1.ActionType.MAP_SET_SELECTION){var selection=action.payload.selection;selection&&selection.SelectedFeatures&&selection.SelectedFeatures.SelectedLayer.length&&origState.autoDisplaySelectionPanelOnSelection&&(state=(0,tslib_1.__assign)((0,tslib_1.__assign)({},origState),{selectionPanelVisible:!0,legendVisible:!1,taskPaneVisible:!1}))}if(action.type==actions_1.ActionType.MAP_ADD_CLIENT_SELECTED_FEATURE){var feature=action.payload.feature;(null==feature?void 0:feature.properties)&&(state=(0,tslib_1.__assign)((0,tslib_1.__assign)({},origState),{selectionPanelVisible:!0,legendVisible:!1,taskPaneVisible:!1}))}if("function"==typeof _ovReducer)return _ovReducer(origState,state,action);switch(action.type){case actions_1.ActionType.FUSION_SET_ELEMENT_STATE:return isElementState(action.payload)?(0,tslib_1.__assign)((0,tslib_1.__assign)({},state),action.payload):state;case actions_1.ActionType.INIT_APP:var state1={};return action.payload.initialTaskPaneWidth&&(state1.initialTaskPaneWidth=action.payload.initialTaskPaneWidth),action.payload.initialInfoPaneWidth&&(state1.initialInfoPaneWidth=action.payload.initialInfoPaneWidth),(0,tslib_1.__assign)((0,tslib_1.__assign)({},state),state1)}return state}},15763:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(68309),Object.defineProperty(exports,"__esModule",{value:!0}),exports.toolbarReducer=exports.TOOLBAR_INITIAL_STATE=void 0;var tslib_1=__webpack_require__(70655),immutability_helper_1=(0,tslib_1.__importDefault)(__webpack_require__(7145)),actions_1=__webpack_require__(4485),template_1=__webpack_require__(2838),constants_1=__webpack_require__(12872);function mergeFlyoutState(flyoutId,state,flyoutPayload,flyoutUpdateAction,closeOtherFlyouts,bSettingStates){void 0===closeOtherFlyouts&&(closeOtherFlyouts=!1),void 0===bSettingStates&&(bSettingStates=!1);var updateSpec={flyouts:{}};if(!state.flyouts[flyoutId]&&bSettingStates)return state;var flyoutUpdateSpec={};if(flyoutUpdateSpec[flyoutUpdateAction]=flyoutPayload,updateSpec.flyouts[flyoutId]=flyoutUpdateSpec,closeOtherFlyouts)for(var key in state.flyouts)key!=flyoutId&&(updateSpec.flyouts[key]={$merge:{open:!1}});return(0,immutability_helper_1.default)(state,updateSpec)}function mergeFlyoutCloseState(flyoutId,state,bSettingStates){return void 0===bSettingStates&&(bSettingStates=!1),mergeFlyoutState(flyoutId,state,{open:!1,metrics:null},"$merge",!1,bSettingStates)}exports.TOOLBAR_INITIAL_STATE={toolbars:{},flyouts:{}},exports.toolbarReducer=function toolbarReducer(state,action){switch(void 0===state&&(state=exports.TOOLBAR_INITIAL_STATE),action.type){case actions_1.ActionType.INIT_APP:return(0,tslib_1.__assign)((0,tslib_1.__assign)({},state),action.payload.toolbars);case actions_1.ActionType.COMPONENT_OPEN:var payload=action.payload;return(flyoutId=payload.flyoutId)?mergeFlyoutState(flyoutId,state,{open:!0,metrics:payload.metrics,componentName:payload.name,componentProps:payload.props},"$set",!0):state;case actions_1.ActionType.COMPONENT_CLOSE:return state.flyouts[constants_1.WEBLAYOUT_CONTEXTMENU]&&(flyoutId=action.payload.flyoutId)?mergeFlyoutState(flyoutId,state,{open:!1,metrics:null,componentName:null,componentProps:null},"$set"):state;case actions_1.ActionType.CONTEXT_MENU_OPEN:return state.flyouts[constants_1.WEBLAYOUT_CONTEXTMENU]?mergeFlyoutState(constants_1.WEBLAYOUT_CONTEXTMENU,state,{open:!0,metrics:{posX:action.payload.x,posY:action.payload.y}},"$merge",!0):state;case actions_1.ActionType.FLYOUT_OPEN:return(flyoutId=action.payload.flyoutId)?mergeFlyoutState(flyoutId,state,{open:!0,metrics:action.payload.metrics},"$merge",!0):state;case actions_1.ActionType.FUSION_SET_ELEMENT_STATE:return(0,template_1.isElementState)(action.payload)&&!action.payload.taskPaneVisible?mergeFlyoutCloseState(constants_1.WEBLAYOUT_TASKMENU,state,!0):state;case actions_1.ActionType.FUSION_SET_TASK_PANE_VISIBILITY:return action.payload?state:mergeFlyoutCloseState(constants_1.WEBLAYOUT_TASKMENU,state);case actions_1.ActionType.FLYOUT_CLOSE:var flyoutId;if(flyoutId=action.payload.flyoutId)return mergeFlyoutCloseState(flyoutId,state);case actions_1.ActionType.CONTEXT_MENU_CLOSE:return mergeFlyoutCloseState(constants_1.WEBLAYOUT_CONTEXTMENU,state)}return state}},43780:function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.viewerReducer=exports.VIEWER_INITIAL_STATE=void 0;var tslib_1=__webpack_require__(70655),common_1=__webpack_require__(18036),actions_1=__webpack_require__(4485);exports.VIEWER_INITIAL_STATE={busyCount:0,size:void 0,tool:common_1.ActiveMapTool.None,featureTooltipsEnabled:!0},exports.viewerReducer=function viewerReducer(state,action){switch(void 0===state&&(state=exports.VIEWER_INITIAL_STATE),action.type){case actions_1.ActionType.INIT_APP:var tool=action.payload.initialActiveTool,ft=action.payload.featureTooltipsEnabled,state1=void 0;null!=tool&&(state1={tool:tool});var state2=void 0;return void 0!==ft&&(state2={featureTooltipsEnabled:ft}),(0,tslib_1.__assign)((0,tslib_1.__assign)((0,tslib_1.__assign)({},state),state1),state2);case actions_1.ActionType.MAP_SET_ACTIVE_TOOL:state1={tool:action.payload};return(0,tslib_1.__assign)((0,tslib_1.__assign)({},state),state1);case actions_1.ActionType.MAP_SET_MAPTIP:state1={featureTooltipsEnabled:action.payload};return(0,tslib_1.__assign)((0,tslib_1.__assign)({},state),state1);case actions_1.ActionType.MAP_SET_BUSY_COUNT:state1={busyCount:action.payload};return(0,tslib_1.__assign)((0,tslib_1.__assign)({},state),state1);case actions_1.ActionType.MAP_RESIZED:state1={size:[action.payload.width,action.payload.height]};return(0,tslib_1.__assign)((0,tslib_1.__assign)({},state),state1)}return state}},52092:function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.configureStore=void 0;var tslib_1=__webpack_require__(70655),redux_1=__webpack_require__(97779),redux_thunk_1=(0,tslib_1.__importDefault)(__webpack_require__(53894)),promise_middleware_1=__webpack_require__(96415),logger_1=__webpack_require__(59063),root_1=__webpack_require__(18973);function _getMiddleware(){var middleware=[promise_middleware_1.promiseMiddleware,redux_thunk_1.default];return middleware=(0,tslib_1.__spreadArray)((0,tslib_1.__spreadArray)([],middleware,!0),[logger_1.logger],!1),redux_1.applyMiddleware.apply(void 0,middleware)}exports.configureStore=function configureStore(initialState,extraReducers){var root=extraReducers?(0,redux_1.combineReducers)((0,tslib_1.__assign)((0,tslib_1.__assign)({},root_1.rootReducer),extraReducers)):(0,redux_1.combineReducers)(root_1.rootReducer);return redux_1.compose.apply(void 0,(0,tslib_1.__spreadArray)([_getMiddleware()],function _getEnhancers(){var enhancers=[];window.__REDUX_DEVTOOLS_EXTENSION__&&(enhancers=(0,tslib_1.__spreadArray)((0,tslib_1.__spreadArray)([],enhancers,!0),[window.__REDUX_DEVTOOLS_EXTENSION__()],!1));return enhancers}(),!1))(redux_1.createStore)(root,initialState)}},59063:function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.logger=void 0;var actions_1=__webpack_require__(4485),createLogger=__webpack_require__(5549).hu;exports.logger=createLogger({collapsed:!0,stateTransformer:function stateTransformer(state){return state},predicate:function predicate(getState,_a){var type=_a.type;return"redux-form/BLUR"!==type&&"redux-form/CHANGE"!==type&&"redux-form/FOCUS"!==type&&"redux-form/TOUCH"!==type&&type!==actions_1.ActionType.MAP_RESIZED&&type!==actions_1.ActionType.UPDATE_MOUSE_COORDINATES&&type!==actions_1.ActionType.MAP_SET_BUSY_COUNT&&type!==actions_1.ActionType.ADD_LAYER_BUSY_WORKER&&type!==actions_1.ActionType.REMOVE_LAYER_BUSY_WORKER}})},96415:function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.promiseMiddleware=void 0;var tslib_1=__webpack_require__(70655);exports.promiseMiddleware=function promiseMiddleware(_a){var dispatch=_a.dispatch;return function(next){return function(action){if(!function isPromise(value){if(null!==value&&"object"==typeof value)return value.promise&&"function"==typeof value.promise.then}(action.payload))return next(action);var types=action.types,payload=action.payload,meta=action.meta,promise=payload.promise,data=payload.data,PENDING=types[0],FULFILLED=types[1],REJECTED=types[2],p1={type:PENDING},p2=data?{payload:data}:{},p3=meta?{meta:meta}:{};return dispatch((0,tslib_1.__assign)((0,tslib_1.__assign)((0,tslib_1.__assign)({},p1),p2),p3)),promise.then((function(result){dispatch({type:FULFILLED,payload:result,meta:meta})}),(function(error){dispatch({type:REJECTED,payload:error,meta:meta})}))}}}},75876:function(module,exports,__webpack_require__){"use strict";module=__webpack_require__.nmd(module),Object.defineProperty(exports,"__esModule",{value:!0});var React=(0,__webpack_require__(70655).__importStar)(__webpack_require__(67294)),react_1=__webpack_require__(3012),addon_knobs_1=__webpack_require__(95099),fake_app_1=__webpack_require__(38671),legend_1=__webpack_require__(46294),task_pane_1=__webpack_require__(31442),scale_display_1=__webpack_require__(51259),selected_feature_count_1=__webpack_require__(48729),selection_panel_1=__webpack_require__(61189),navigator_1=__webpack_require__(23204),map_menu_1=__webpack_require__(37510),base_layer_switcher_1=__webpack_require__(61790),coordinate_tracker_1=__webpack_require__(12821),add_manage_layers_1=__webpack_require__(26487),core_1=__webpack_require__(61992),hooks_1=__webpack_require__(17269),command_1=__webpack_require__(74130),deArrayify_1=__webpack_require__(99729),mouse_coordinates_1=__webpack_require__(38865),view_size_1=__webpack_require__(53117),viewer_options_1=__webpack_require__(83856),map_1=__webpack_require__(83552),mapguide_debug_context_1=__webpack_require__(65925),neo_map_viewer_1=__webpack_require__(19529),context_1=__webpack_require__(47954),testSelSheboygan=(0,deArrayify_1.deArrayify)(__webpack_require__(71103));var MapStoryFrame=function MapStoryFrame(props){props.includeSelect;var dispatch=(0,context_1.useReduxDispatch)(),state=(0,hooks_1.useReducedToolbarAppState)(),activeMapName=(0,hooks_1.useActiveMapName)(),context=(0,context_1.useMapProviderContext)(),doTestSelect=function doTestSelect(){if(activeMapName){var q=(0,map_1.setSelection)(activeMapName,function getQueryMapFeaturesResponse(activeMapName){switch(activeMapName){case"Sheboygan":if((0,deArrayify_1.isQueryMapFeaturesResponse)(testSelSheboygan))return testSelSheboygan}return{}}(activeMapName));dispatch(q)}};return React.createElement("div",{style:{position:"absolute",left:0,right:0,top:0,bottom:0}},React.createElement("div",{style:{position:"absolute",left:0,top:0,bottom:0,width:350,overflowY:"auto"}},props.children),React.createElement("div",{style:{position:"absolute",left:350,top:0,bottom:0,right:0}},React.createElement(mapguide_debug_context_1.MapDebugContext.Provider,{value:{mock:context.mockMode}},React.createElement(neo_map_viewer_1.MapViewer,null),props.includeSelect&&React.createElement(core_1.ButtonGroup,{style:{position:"absolute",right:15,top:15}},React.createElement(core_1.Button,{intent:core_1.Intent.PRIMARY,onClick:function onClick(){return doTestSelect()}},"Test Select"),React.createElement(core_1.Button,{intent:core_1.Intent.DANGER,onClick:function onClick(){return function doClearSelection(){if(activeMapName){var q=(0,map_1.setSelection)(activeMapName,{});dispatch(q)}}()},disabled:!command_1.CommandConditions.hasSelection(state)},"Clear Selection")))))};(0,react_1.storiesOf)("Map and Map Interaction Components",module).addDecorator(addon_knobs_1.withKnobs).addDecorator((function(storyFn){return React.createElement(fake_app_1.FakeApp,{mgMockMode:mapguide_debug_context_1.MapGuideMockMode.DoNotRender},React.createElement(MapStoryFrame,null,storyFn()))})).add("Map Viewer",(function(){return React.createElement(core_1.Card,null,React.createElement("h5",{className:"bp3-heading"},React.createElement("a",{href:"#"},"Map Viewer")),React.createElement("p",null,"This story (and all sibling stories) showcases the map viewer component and other components that depend or interact with map viewer state"),React.createElement("p",null,"For MapGuide-specific stories, the MapGuide layer has been mocked out with a placeholder that shows the mapagent request that would be made"),React.createElement("p",null,"Some components require selections to be made. Some fake select tools are included to trigger such selection actions"))})).add("Task Pane",(function(){return React.createElement(task_pane_1.TaskPaneContainer,null)})).add("Mouse Coordinates",(function(){return React.createElement(React.Fragment,null,React.createElement(core_1.Card,null,React.createElement("h5",{className:"bp3-heading"},React.createElement("a",{href:"#"},"Mouse Coordinates")),React.createElement("p",null,"Move the mouse around the map and its geographic coordinates should be shown below")),React.createElement(mouse_coordinates_1.MouseCoordinatesContainer,null))})).add("View Size",(function(){return React.createElement(React.Fragment,null,React.createElement(core_1.Card,null,React.createElement("h5",{className:"bp3-heading"},React.createElement("a",{href:"#"},"View Size")),React.createElement("p",null,"Zoom in or out of the map. The physical map size should be shown below")),React.createElement(view_size_1.ViewSizeContainer,null))})).add("Scale Display",(function(){return React.createElement(React.Fragment,null,React.createElement(core_1.Card,null,React.createElement("h5",{className:"bp3-heading"},React.createElement("a",{href:"#"},"Scale Display")),React.createElement("p",null,"Zoom in or out of the map. The map scale should be shown below")),React.createElement(scale_display_1.ScaleDisplayContainer,null))})).add("Navigator",(function(){return React.createElement(navigator_1.NavigatorContainer,null)})).add("Map Menu",(function(){return React.createElement(map_menu_1.MapMenuContainer,null)})).add("Base Layer Switcher",(function(){return React.createElement(base_layer_switcher_1.BaseLayerSwitcherContainer,null)})).add("Viewer Options",(function(){return React.createElement(viewer_options_1.ViewerOptions,null)})).add("Coordinate Tracker",(function(){return React.createElement(coordinate_tracker_1.CoordinateTrackerContainer,{projections:["EPSG:4326","EPSG:3857"]})})).add("External Layer Manager",(function(){return React.createElement(add_manage_layers_1.AddManageLayersContainer,null)})),(0,react_1.storiesOf)("Map and Map Interaction Components / MapGuide-specific",module).addDecorator(addon_knobs_1.withKnobs).addDecorator((function(storyFn){return React.createElement(fake_app_1.FakeApp,{mgMockMode:mapguide_debug_context_1.MapGuideMockMode.RenderPlaceholder},React.createElement(MapStoryFrame,{includeSelect:!0},storyFn()))})).add("Legend",(function(){return React.createElement(legend_1.LegendContainer,null)})).add("Legend - with base layer switcher",(function(){return React.createElement(legend_1.LegendContainer,{inlineBaseLayerSwitcher:!0})})).add("Selected Feature Count",(function(){return React.createElement(React.Fragment,null,React.createElement(core_1.Card,null,React.createElement("h5",{className:"bp3-heading"},React.createElement("a",{href:"#"},"Selected Feature Count")),React.createElement("p",null,"Click the test select button to simulate a map selection request. The selection count should display below")),React.createElement(selected_feature_count_1.SelectedFeatureCountContainer,null))})).add("Selection Panel",(function(){return React.createElement(selection_panel_1.SelectionPanelContainer,null)}))},63914:function(module,exports,__webpack_require__){"use strict";module=__webpack_require__.nmd(module),Object.defineProperty(exports,"__esModule",{value:!0});var React=(0,__webpack_require__(70655).__importStar)(__webpack_require__(67294)),react_1=__webpack_require__(3012),addon_actions_1=__webpack_require__(85914),color_picker_1=__webpack_require__(76929),addon_knobs_1=__webpack_require__(95099),vector_style_editor_1=__webpack_require__(43745);__webpack_require__(68460);var common_1=__webpack_require__(59383),ol_style_contracts_1=__webpack_require__(42720),i18n_1=__webpack_require__(196),color_brewer_1=__webpack_require__(21363);(0,react_1.storiesOf)("Common Components",module).addDecorator(addon_knobs_1.withKnobs).add("String Expr Editor",(function(){var locale=i18n_1.DEFAULT_LOCALE,_a=((0,addon_actions_1.action)("Value changed"),React.useState(void 0)),expr=_a[0],setExpr=_a[1];return React.createElement(common_1.StringExprEditor,{locale:locale,value:expr,onChange:function onChange(e){return setExpr(e)}})})).add("Number Expr Editor",(function(){var locale=i18n_1.DEFAULT_LOCALE,_a=((0,addon_actions_1.action)("Value changed"),React.useState(void 0)),expr=_a[0],setExpr=_a[1];return React.createElement(common_1.NumberExprEditor,{locale:locale,value:expr,onChange:function onChange(e){return setExpr(e)}})})).add("Slider Expr Editor",(function(){var locale=i18n_1.DEFAULT_LOCALE,min=((0,addon_actions_1.action)("Value changed"),(0,addon_knobs_1.number)("Min Value",0)),max=(0,addon_knobs_1.number)("Max Value",100),_a=React.useState(void 0),expr=_a[0],setExpr=_a[1];return React.createElement(common_1.SliderExprEditor,{min:min,max:max,labelStepSize:max,locale:locale,value:expr,onChange:function onChange(e){return setExpr(e)}})})).add("Color Expr Editor",(function(){var locale=i18n_1.DEFAULT_LOCALE,_a=((0,addon_actions_1.action)("Value changed"),React.useState(void 0)),expr=_a[0],setExpr=_a[1];return React.createElement(common_1.ColorExprEditor,{locale:locale,value:expr,onChange:function onChange(e){return setExpr(e)}})})).add("Boolean Expr Editor",(function(){var locale=i18n_1.DEFAULT_LOCALE,_a=((0,addon_actions_1.action)("Value changed"),React.useState(void 0)),expr=_a[0],setExpr=_a[1];return React.createElement(common_1.BooleanExprEditor,{locale:locale,value:expr,onChange:function onChange(e){return setExpr(e)}})})).add("Color Picker",(function(){var act=(0,addon_actions_1.action)("color changed"),_a=React.useState(void 0),color=_a[0],setColor=_a[1];return React.createElement(color_picker_1.ColorPicker,{locale:"en",value:color,onChange:function onSetColor(val){act(val),setColor(val)}})})).add("Vector Style Editor",(function(){return React.createElement(vector_style_editor_1.VectorStyleEditor,{onChange:(0,addon_actions_1.action)("style changed"),locale:"en",enablePoint:(0,addon_knobs_1.boolean)("Enable Point",!0),enableLine:(0,addon_knobs_1.boolean)("Enable Line",!0),enablePolygon:(0,addon_knobs_1.boolean)("Enable Polygon",!0)})})).add("Vector Layer Style Editor",(function(){var _a=React.useState(ol_style_contracts_1.DEFAULT_VECTOR_LAYER_STYLE),layerStyle=_a[0],setLayerStyle=_a[1];(0,addon_actions_1.action)("Style changed");return React.createElement(vector_style_editor_1.VectorLayerStyleEditor,{style:layerStyle,onChange:function onChange(st){return setLayerStyle(st)},enablePoint:(0,addon_knobs_1.boolean)("Enable Point",!0),enableLine:(0,addon_knobs_1.boolean)("Enable Line",!0),enablePolygon:(0,addon_knobs_1.boolean)("Enable Polygon",!0),locale:i18n_1.DEFAULT_LOCALE})})).add("ColorBrewer Swatch",(function(){for(var defaultValue,options={},_i=0,ramps_1=(0,color_brewer_1.getColorBrewerRamps)();_i<ramps_1.length;_i++){var r=ramps_1[_i];defaultValue||(defaultValue=r.scheme),options[r.displayName]=r.scheme}var scheme=(0,addon_knobs_1.select)("ColorBrewer Theme",options,defaultValue);return React.createElement(color_brewer_1.ColorBrewerSwatch,{theme:scheme})}))},42516:function(module,exports,__webpack_require__){"use strict";module=__webpack_require__.nmd(module),Object.defineProperty(exports,"__esModule",{value:!0});var React=(0,__webpack_require__(70655).__importStar)(__webpack_require__(67294)),react_1=__webpack_require__(3012),addon_actions_1=__webpack_require__(85914),accordion_1=__webpack_require__(74681),addon_knobs_1=__webpack_require__(95099);__webpack_require__(68460),__webpack_require__(13535),__webpack_require__(70922),__webpack_require__(99756),__webpack_require__(71579);var PANELS=[{id:"PanelA",title:"Panel One",contentRenderer:function contentRenderer(dim){return React.createElement("div",{style:{width:dim.width,height:dim.height}},"Panel One Content (",dim.width,"x",dim.height,")")}},{id:"PanelB",title:"Panel Two",contentRenderer:function contentRenderer(dim){return React.createElement("div",{style:{width:dim.width,height:dim.height}},"Panel Two Content (",dim.width,"x",dim.height,")")}},{id:"PanelC",title:"Panel Three",contentRenderer:function contentRenderer(dim){return React.createElement("div",{style:{width:dim.width,height:dim.height}},"Panel Three Content (",dim.width,"x",dim.height,")")}}];(0,react_1.storiesOf)("Accordion (Slate)",module).addDecorator(addon_knobs_1.withKnobs).add("Default",(function(){return React.createElement(accordion_1.Accordion,{style:{width:250,height:500},onActivePanelChanged:(0,addon_actions_1.action)("activePanelChanged"),panels:PANELS})})).add("Middle Panel Initially Visible",(function(){return React.createElement(accordion_1.Accordion,{style:{width:250,height:500},onActivePanelChanged:(0,addon_actions_1.action)("activePanelChanged"),panels:PANELS,activePanelId:"PanelB"})}))},38671:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(88674),__webpack_require__(41539),__webpack_require__(27852),Object.defineProperty(exports,"__esModule",{value:!0}),exports.FakeApp=void 0;var tslib_1=__webpack_require__(70655),React=(0,tslib_1.__importStar)(__webpack_require__(67294)),configure_store_1=__webpack_require__(52092),app_1=__webpack_require__(11427),config_1=__webpack_require__(1961),factory_1=__webpack_require__(54418),request_builder_1=__webpack_require__(75549),deArrayify_1=__webpack_require__(99729),layout_1=__webpack_require__(97881),init_mapguide_1=__webpack_require__(17594),context_1=__webpack_require__(47954),mapguide_1=__webpack_require__(39695),type_guards_1=__webpack_require__(64726),testMapSheboygan=(0,deArrayify_1.deArrayify)(__webpack_require__(40752)),testMapRedding=(0,deArrayify_1.deArrayify)(__webpack_require__(271)),testMapMelbourne=(0,deArrayify_1.deArrayify)(__webpack_require__(3090)),testAppDef=(0,deArrayify_1.deArrayify)(__webpack_require__(22086)),PROVIDER_IMPL=new mapguide_1.MapGuideMapProviderContext,FakeMapAgent=function(_super){function FakeMapAgent(uri,locale){var _this=_super.call(this,uri)||this;return _this.uri=uri,_this.locale=locale,_this}return(0,tslib_1.__extends)(FakeMapAgent,_super),FakeMapAgent.prototype.getSiteVersion=function(){return Promise.resolve({Version:"4.0.0.0"})},FakeMapAgent.prototype.createSession=function(username,password){return(0,type_guards_1.isRuntimeMap)(testMapSheboygan)?Promise.resolve(testMapSheboygan.SessionId):Promise.reject("Not a runtime map")},FakeMapAgent.prototype.getServerSessionTimeout=function(session){return Promise.resolve(1e4)},FakeMapAgent.prototype.getResource=function(resourceId,args){if(resourceId.endsWith(".ApplicationDefinition"))return Promise.resolve(testAppDef);throw new Error("Method not implemented - getResource("+resourceId+").")},FakeMapAgent.prototype.createRuntimeMap=function(options){switch(options.mapDefinition){case"Library://Samples/Sheboygan/Maps/Sheboygan.MapDefinition":return(0,type_guards_1.isRuntimeMap)(testMapSheboygan)?Promise.resolve(testMapSheboygan):Promise.reject("Not a runtime map");case"Library://Redding/Maps/Redding.MapDefinition":return(0,type_guards_1.isRuntimeMap)(testMapRedding)?Promise.resolve(testMapRedding):Promise.reject("Not a runtime map");case"Library://Samples/Melbourne/Maps/Melbourne.MapDefinition":return(0,type_guards_1.isRuntimeMap)(testMapMelbourne)?Promise.resolve(testMapMelbourne):Promise.reject("Not a runtime map")}return Promise.reject("Unknown test map: "+options.mapDefinition)},FakeMapAgent.prototype.queryMapFeatures=function(options){return Promise.resolve({})},FakeMapAgent.prototype.queryMapFeatures_v4=function(options){return Promise.resolve({})},FakeMapAgent.prototype.describeRuntimeMap=function(options){switch(options.mapname){case"Sheboygan":return(0,type_guards_1.isRuntimeMap)(testMapSheboygan)?Promise.resolve(testMapSheboygan):Promise.reject("Not a runtime map");case"Redding":return(0,type_guards_1.isRuntimeMap)(testMapRedding)?Promise.resolve(testMapRedding):Promise.reject("Not a runtime map");case"Melbourne":return(0,type_guards_1.isRuntimeMap)(testMapMelbourne)?Promise.resolve(testMapMelbourne):Promise.reject("Not a runtime map")}return Promise.reject("Unknown test map state: "+options.mapname)},FakeMapAgent.prototype.getTileTemplateUrl=function(resourceId,groupName,xPlaceholder,yPlaceholder,zPlaceholder){throw new Error("Method not implemented - getTileTemplateUrl.")},FakeMapAgent}(request_builder_1.RequestBuilder),FakeApp=function(_super){function FakeApp(props){var _this=_super.call(this,props)||this;(0,factory_1.registerRequestBuilder)("mapagent",(function(uri,locale){return new FakeMapAgent(uri,locale)})),(0,layout_1.registerLayout)("fake-app",(function(){return React.createElement(React.Fragment,null,props.children)}),{hasTaskPane:!0}),_this._agentUri="https://my-mapguide-server/mapguide/mapagent/mapagent.fcgi",_this._agentKind="mapagent";var initState=(0,tslib_1.__assign)({config:(0,tslib_1.__assign)((0,tslib_1.__assign)({},config_1.CONFIG_INITIAL_STATE),{agentKind:_this._agentKind,agentUri:_this._agentUri}),mapState:{Sheboygan:{currentView:{scale:51439.16420267266,x:-87.73025425093128,y:43.744459064634064}}},viewer:{featureTooltipsEnabled:!1}});return _this._store=(0,configure_store_1.configureStore)(initState),_this._initCommand=new init_mapguide_1.DefaultViewerInitCommand(_this._store.dispatch),PROVIDER_IMPL.setMockMode(props.mgMockMode),_this}return(0,tslib_1.__extends)(FakeApp,_super),FakeApp.prototype.render=function(){var _a;return React.createElement(context_1.MapContextProvider,{value:PROVIDER_IMPL,store:this._store},React.createElement(app_1.App,(0,tslib_1.__assign)({initCommand:this._initCommand,mapguide:{fusionRoot:".",agentUri:this._agentUri,agentKind:this._agentKind,initialElementVisibility:{taskpane:!0,legend:!0,selection:!0}},layout:null!==(_a=this.props.templateLayout)&&void 0!==_a?_a:"fake-app",resourceId:"Library://Test/Viewer.ApplicationDefinition"},this.props)))},FakeApp}(React.Component);exports.FakeApp=FakeApp;try{FakeApp.displayName="FakeApp",FakeApp.__docgenInfo={description:"This component sets up a mocked application environment from which any redux container component\ncan be housed within",displayName:"FakeApp",props:{templateLayout:{defaultValue:null,description:"",name:"templateLayout",required:!1,type:{name:"AdHocLayoutTemplate"}},mgMockMode:{defaultValue:null,description:"",name:"mgMockMode",required:!0,type:{name:"enum",value:[{value:"0"},{value:"1"}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/fake-app.tsx#FakeApp"]={docgenInfo:FakeApp.__docgenInfo,name:"FakeApp",path:"src/stories/fake-app.tsx#FakeApp"})}catch(__react_docgen_typescript_loader_error){}},84539:function(__unused_webpack_module,exports,__webpack_require__){"use strict";var tslib_1=__webpack_require__(70655),bootstrap_1=__webpack_require__(95478),driver_registry_1=__webpack_require__(67036),csv_driver_1=__webpack_require__(62599),format_driver_1=__webpack_require__(61407),KML_1=(0,tslib_1.__importDefault)(__webpack_require__(90798)),GPX_1=(0,tslib_1.__importDefault)(__webpack_require__(47741)),IGC_1=(0,tslib_1.__importDefault)(__webpack_require__(73109)),GeoJSON_1=(0,tslib_1.__importDefault)(__webpack_require__(64678)),TopoJSON_1=(0,tslib_1.__importDefault)(__webpack_require__(44906));(0,bootstrap_1.bootstrap)(),(0,driver_registry_1.addFormatDriver)(new csv_driver_1.CsvFormatDriver(csv_driver_1.CSV_COLUMN_ALIASES)),(0,driver_registry_1.addFormatDriver)(new format_driver_1.FormatDriver("GeoJSON",new GeoJSON_1.default)),(0,driver_registry_1.addFormatDriver)(new format_driver_1.FormatDriver("TopoJSON",new TopoJSON_1.default)),(0,driver_registry_1.addFormatDriver)(new format_driver_1.FormatDriver("KML",new KML_1.default,"EPSG:4326")),(0,driver_registry_1.addFormatDriver)(new format_driver_1.FormatDriver("GPX",new GPX_1.default,"EPSG:4326")),(0,driver_registry_1.addFormatDriver)(new format_driver_1.FormatDriver("IGC",new IGC_1.default))},48539:function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.STRINGS_EN=void 0;var constants_1=__webpack_require__(12872);exports.STRINGS_EN={OK:"OK",NONE:"NONE",ERROR:"Error",WARNING:"Warning",PBMG:"Powered by <a href='https://mapguide.osgeo.org' target='_blank'>MapGuide</a>",INIT_WARNINGS_FOUND:"The following warnings were encountered loading the viewer",INIT_WARNING_BING_API_KEY_REQD:"A Bing Maps API key is required. Sign up for an API key at http://www.bingmapsportal.com/",INIT_WARNING_BING_UNKNOWN_LAYER:"Unknown bing maps layer type {type}. This layer was skipped",INIT_WARNING_UNSUPPORTED_GOOGLE_MAPS:"This viewer does not support Google Maps base layers",INIT_WARNING_NO_CONTEXT_MENU:"Could not find the context menu configuration. Right-clicking the map will show an empty context menu. If you are loading from a Flexible Layout, it must have a container named '{containerName}'",LAYER_TRANSPARENCY:"Layer Transparency",LAYER_ID_BASE:"Base Layers",LAYER_ID_MG_BASE:"MapGuide Map",LAYER_ID_SUBJECT:"Subject Layer",LAYER_ID_MG_SEL_OVERLAY:"MapGuide Selection Overlay",UNKNOWN_WIDGET:"This button references an unknown or unsupported widget: {widget}",UNKNOWN_COMMAND_REFERENCE:"This button references an unknown command or unsupported: {command}",INIT:"Initializing",INIT_DESC:"Please wait while the viewer is loading required assets ...",INIT_ERROR_TITLE:"An error occurred during startup",INIT_ERROR_UNKNOWN_RESOURCE_TYPE:"<p>Unknown or unsupported resource type for resource: <strong>{resourceId}</strong></p>",INIT_ERROR_MISSING_RESOURCE_PARAM:"<p>No <strong>resource</strong> parameter found. This viewer assumes this parameter to be set in the query string and must refer to a valid Web Layout or Application Definition. If not specified, it will try to init from a Application Definition document at <strong>appdef.json</strong></p>",INIT_ERROR_UNSUPPORTED_COORD_SYS:"<p>The Map Definition <strong>{mapDefinition}</strong>, uses a coordinate system that does not resolve to a valid EPSG code and cannot be loaded in this viewer</p><p>Solution:</p><ul><li>Change the coordinate system of this Map Definition to one that resolves to an EPSG code</li><li>Please note: There will be a small performance overhead for server-side re-projection as a result of doing this</li></ul>",INIT_ERROR_UNREGISTERED_EPSG_CODE:"<p>The Map Definition <strong>{mapDefinition}</strong>, uses a coordinate system that resolves to a valid EPSG code (<strong>EPSG:{epsg}</strong>), but no projection for this EPSG code has been registered</p><p>Solution:</p><ol><li>Search for the matching proj4js definition at <a href='http://epsg.io/'>http://epsg.io/</a></li><li>Register this projection to the viewer before mounting it</li></ol>",INIT_ERROR_EXPIRED_SESSION:"<p>The session id given has expired: <strong>{sessionId}</strong></p><p>Reload the viewer without the <strong>session</strong> parameter, or supply a valid session id for the <strong>session</strong> parameter</p>",INIT_ERROR_RESOURCE_NOT_FOUND:"Attempted to load the following resource, but it was not found: <strong>{resourceId}</strong>",INIT_ERROR_NO_CONNECTION:"<p>There is no connection between the MapGuide Web Tier and the MapGuide Server.</p><p>Possible causes:</p><ul><li>MapGuide Server is not running or is no longer responding</li><li>Internet connection problems</li></ul><p>Possible solutions:</p><ul><li>Restart the MapGuide Server Service</li><li>Contact your server administrator</li></ul>",TPL_SIDEBAR_OPEN_TASKPANE:"Open Task Pane",TPL_SIDEBAR_OPEN_LEGEND:"Open Legend",TPL_SIDEBAR_OPEN_SELECTION_PANEL:"Open Selection Panel",TPL_TITLE_TASKPANE:"Task Pane",TPL_TITLE_LEGEND:"Legend",TPL_TITLE_SELECTION_PANEL:"Selection",TT_GO_HOME:"Go home",TT_GO_BACK:"Go back",TT_GO_FORWARD:"Go forward",SESSION_EXPIRED:"Session Expired",SESSION_EXPIRED_DETAILED:"Your current MapGuide session has expired",SESSION_EXPIRED_AVAILABLE_ACTIONS:"Available Actions:",SESSION_EXPIRED_RELOAD_VIEWER:"Reload the viewer",ERR_UNREGISTERED_LAYOUT:"ERROR: No layout named ({layout}) registered",ERR_UNREGISTERED_COMPONENT:"ERROR: No such registered component ({componentId}). Ensure the component has been registered in the component registry with an id of: {componentId}",ERR_NO_COMPONENT_ID:"No component id specified",LOADING_MSG:"Loading ...",MENU_TASKS:"Tasks",NO_SELECTED_FEATURES:"No selected features",FMT_SCALE_DISPLAY:"Scale - 1:{scale}",FMT_SELECTION_COUNT:"Selected {total} feature(s) in {layerCount} layer(s)",DIGITIZE_POINT_PROMPT:"Click to finish and draw a point at this location<br/><br/>Press ESC to cancel",DIGITIZE_LINE_PROMPT:"Click to set this position as the start.<br/>Click again to finish the line at this position<br/><br/>Press ESC to cancel",DIGITIZE_LINESTRING_PROMPT:"Click to set this position as the start.<br/>Click again to add a vertex at this position.<br/>If you drew a vertex at the wrong spot, you can press {key} to undo.<br/>Hold SHIFT and drag while digitizing to draw in freehand mode<br/></br>Double click to finish<br/>Press ESC to cancel",DIGITIZE_CIRCLE_PROMPT:"Click to set this position as the center.<br/>Move out to the desired radius and click again to finish<br/><br/>Press ESC to cancel",DIGITIZE_RECT_PROMPT:"Click to set this position as one corner.<br/>Click again to finish and set this position as the other corner<br/><br/>Press ESC to cancel",DIGITIZE_POLYGON_PROMPT:"Click to set this positon as the start.<br/>Click again to add a vertex at this position.<br/>If you drew a vertex at the wrong spot, you can press {key} to undo<br/>Hold SHIFT and drag while digitizing to draw in freehand mode<br/><br/>Double click to finish and close the polygon<br/>Press ESC to cancel",MEASURE:"Measure",MEASURE_SEGMENT:"Segment",MEASURE_LENGTH:"Length",MEASURE_SEGMENT_PART:"Segment {segment}",MEASURE_TOTAL_AREA:"Total Area",MEASURE_TOTAL_LENGTH:"Total Length",MEASURING:"Measuring",MEASURING_MESSAGE:"You are currently measuring",MEASUREMENT:"Measurement",MEASUREMENT_TYPE:"Measurement Type",MEASUREMENT_TYPE_LENGTH:"Length (LineString)",MEASUREMENT_TYPE_AREA:"Area (Polygon)",MEASUREMENT_CLEAR:"Clear",MEASUREMENT_CONTINUE_POLYGON:"Click to continue drawing the polygon. Double-click to finish.",MEASUREMENT_CONTINUE_LINE:"Click to continue drawing the line. Double-click to finish.",MEASUREMENT_START_DRAWING:"Click to start drawing",MEASUREMENT_START:"Start",MEASUREMENT_END:"End",NAVIGATOR_PAN_EAST:"Pan East",NAVIGATOR_PAN_WEST:"Pan West",NAVIGATOR_PAN_SOUTH:"Pan South",NAVIGATOR_PAN_NORTH:"Pan North",NAVIGATOR_ZOOM_OUT:"Zoom Out",NAVIGATOR_ZOOM_IN:"Zoom In",FMT_NAVIGATOR_ZOOM_TO_SCALE:"Zoom to 1:{scale}",EXTERNAL_BASE_LAYERS:"External Base Layers",SELECTION_PROPERTY:"Property",SELECTION_VALUE:"Value",SELECTION_PREV_FEATURE:"Previous Feature",SELECTION_NEXT_FEATURE:"Next Feature",SELECTION_ZOOMTO_FEATURE:"Zoom to selected feature",VIEWER_OPTIONS:"Viewer Options",ABOUT:"About",HELP:"Help",QUICKPLOT_HEADER:"Quick Plot",QUICKPLOT_TITLE:"Title",QUICKPLOT_SUBTITLE:"Sub-Title",QUICKPLOT_PAPER_SIZE:"Paper Size",QUICKPLOT_ORIENTATION:"Orientation",QUICKPLOT_ORIENTATION_P:"Portrait",QUICKPLOT_ORIENTATION_L:"Landscape",QUICKPLOT_SHOWELEMENTS:"Show Elements",QUICKPLOT_SHOWLEGEND:"Show Legend",QUICKPLOT_SHOWNORTHARROW:"Show North Arrow",QUICKPLOT_SHOWCOORDINTES:"Show Coordinates",QUICKPLOT_SHOWSCALEBAR:"Show Scalebar",QUICKPLOT_SHOWDISCLAIMER:"Show Disclaimer",QUICKPLOT_ADVANCED_OPTIONS:"Advanced Options",QUICKPLOT_SCALING:"Scale",QUICKPLOT_DPI:"DPI",QUICKPLOT_BOX_INFO:"Quick Plot Map Capture box is active. Map rotation is disabled while box is active",QUICKPLOT_BOX_ROTATION:"Capture Box Rotation",QUICKPLOT_GENERATE:"Generate Plot",QUICKPLOT_COMMERCIAL_LAYER_WARNING:"Quick Plot will NOT include any visible commercial map layers",FEATURE_TOOLTIPS:"Feature Tooltips",MANUAL_FEATURE_TOOLTIPS:"Manual Feature Tooltips (click to show)",GEOLOCATION_SUCCESS:"Zoomed to your position",GEOLOCATION_WARN_OUTSIDE_MAP:"Zoomed to your position. It is outside the extents of your map",GEOLOCATION_ERROR:"Geolocation error: {message} ({code})",TASK_PANE_RESIZING:"Task Pane is resizing ...",TASK_PANE_LOADING:"Loading",TASK_PANE_LOADING_DESC:"Task Pane content is loading ...",COORDTRACKER:"Coordinate Tracker",COORDTRACKER_NO_PROJECTIONS:"You have no projections configured for this component",MAP_SIZE_DISPLAY_UNITS:"Map view size display units",ADD_MANAGE_LAYERS:"Add/Manage Layers",ADD_LAYER:"Add Layer",ADD_LAYER_TILED:"Add Tiled Layer",MANAGE_LAYERS:"Manage Layers",LAYER_TYPE:"Layer Type",SELECT_LAYER_TYPE:"Select Layer Type ...",ADD_WMS_LAYER_URL:"WMS Service URL",ADD_WMS_LAYER_LOADING:"Loading",ADD_WMS_LAYER_LOADING_DESC:"Loading WMS Capabilities",ADD_WMS_LAYER_NO_LAYERS:"No WMS Layers",WMS_VERSION:"WMS Version: {version}",ADD_WFS_LAYER_URL:"WFS Service URL",ADD_WFS_LAYER_LOADING:"Loading",ADD_WFS_LAYER_LOADING_DESC:"Loading WFS Capabilities",ADD_WFS_LAYER_NO_LAYERS:"No WFS Layers",WFS_NO_LAYER_DESCRIPTION:"Enter a WFS Service URL above and click the button beside it to load available layers",WFS_VERSION:"WFS Version: {version}",OWS_SERVICE_NAME:"Name: {name}",OWS_SERVICE_TITLE:"Title: {title}",OWS_SERVICE_ABSTRACT:"Abstract: {abstract}",WMS_LAYERS:"WMS Layers",WFS_LAYERS:"WFS Layers",OWS_LAYER_NAME:"Name: {name}",OWS_LAYER_TITLE:"Title: {title}",OWS_LAYER_ABSTRACT:"Abstract: {abstract}",OWS_LAYER_CRS:"CRS: {crs}",OWS_ADD_LAYER_PROMPT:"Click this layer to add it to the map",ADDED_LAYER:"Added layer: {name}",REMOVED_LAYER:"Removed layer: {name}",ADD_WFS_LAYER:"Add WFS Layer",SHARE_LINK_COPY_CLIPBOARD:"Copy Link",SHARE_LINK_COPIED:"Link copied",WMS_NO_LAYER_DESCRIPTION:"Enter a WMS Service URL above and click the button beside it to load available layers",UNIT_UNKNOWN:"Unknown",UNIT_INCHES:"Inches",UNIT_FEET:"Feet",UNIT_YARDS:"Yards",UNIT_MILES:"Miles",UNIT_NAUT_MILES:"Nautical Miles",UNIT_MILLIMETERS:"Millimeters",UNIT_CENTIMETERS:"Centimeters",UNIT_METERS:"Meters",UNIT_KILOMETERS:"Kilometers",UNIT_DEGREES:"Degrees",UNIT_DEC_DEGREES:"Decimal Degrees",UNIT_DMS:"Degrees Minutes Seconds",UNIT_PIXELS:"Pixels",UNIT_ABBR_UNKNOWN:"unk",UNIT_ABBR_INCHES:"in",UNIT_ABBR_FEET:"ft",UNIT_ABBR_YARDS:"yd",UNIT_ABBR_MILES:"mi",UNIT_ABBR_NAUT_MILES:"nm",UNIT_ABBR_MILLIMETERS:"mm",UNIT_ABBR_CENTIMETERS:"cm",UNIT_ABBR_METERS:"m",UNIT_ABBR_KILOMETERS:"km",UNIT_ABBR_DEGREES:constants_1.DEG,UNIT_ABBR_DEC_DEGREES:constants_1.DEG,UNIT_ABBR_DMS:constants_1.DEG,UNIT_ABBR_PIXELS:"px",UNIT_FMT_M:"{value} m",UNIT_FMT_KM:"{value} km",UNIT_FMT_SQM:"{value} m<sup>2</sup>",UNIT_FMT_SQKM:"{value} km<sup>2</sup>",OL_ATTRIBUTION_TIP:"Attributions",OL_OVERVIEWMAP_TIP:"Overview Map",OL_RESET_ROTATION_TIP:"Reset Rotation",FEATURE_TOOLTIP_URL_HELP_TEXT:"Click for more information",SHARE_LINK_INCLUDE_SESSION:"Include Session ID",WINDOW_RESIZING:"Resizing Window",WINDOW_MOVING:"Moving Window",OTHER_THEME_RULE_COUNT:"... ({count} other theme rules)",LEGEND_FILTER_LAYERS:"Filter/search for layers or groups",ADD_LAYER_KIND_PROMPT:"What kind of layer do you want to add?",LAYER_KIND_FILE:"A local file-based layer",LAYER_KIND_URL:"A remote url-based layer",ADD_FILE:"Add Local File",ADD_FILE_INSTRUCTIONS:"Browse and select a file to view it locally on the map (it won't be saved or uploaded to the internet)",FMT_UPLOADED_FILE:"(size: {size} bytes, type: {type})",ADD_LOCAL_FILE_LAYER_FAILURE_NOT_TEXT:"Could not read text content from this file",ADD_LOCAL_FILE_LAYER_FAILURE:"Failed to load file as layer. It is probably an unsupported file format",WMS_UNSUPPORTED_VERSION:"Unsupported WMS version: {version}",NO_EXTERNAL_LAYERS:"No Layers",NO_EXTERNAL_LAYERS_DESC:"Add layers via the {tabName} tab above",LAYER_OPACITY:"Opacity",LAYER_HEATMAP_BLUR:"Heatmap Blur Size",LAYER_HEATMAP_RADIUS:"Heatmap Radius Size",LAYER_NAME_EXISTS:"A layer named {name} already exists",LAYER_MANAGER_TT_MOVE_UP:"Move this layer up the draw order",LAYER_MANAGER_TT_MOVE_DOWN:"Move this layer down the draw order",LAYER_MANAGER_TT_ZOOM_EXTENTS:"Zoom to the extents of this layer",LAYER_MANAGER_TT_REMOVE:"Remove this layer",LAYER_MANAGER_TT_EDIT_STYLE:"Edit style",LAYER_MANAGER_TT_MORE_OPTIONS:"Show more layer options",CANCEL:"Cancel",UNKNOWN_FILE_TYPE:"Unknown",WMS_SERVICE_INFO:"WMS Service Info",WFS_SERVICE_INFO:"WFS Service Info",WMS_AVAILABLE_LAYERS:"Available WMS Layers",WFS_AVAILABLE_LAYERS:"Available WFS Layers",ADD_LAYER_WITH_WMS_STYLE:"Add layer ({style})",ADD_LAYER_WITH_WMS_STYLE_TILED:"Add tiled layer ({style})",WMS_LEGEND:"WMS Legend",VSED_NO_STYLES_TITLE:"No Styles",VSED_NO_STYLES_DESC:"This editor is not configured to edit any styles",VECTOR_LAYER_STYLE:"Vector Layer Style",VSED_PT_FILL_COLOR:"Point Fill Color",VSED_PT_FILL_COLOR_ALPHA:"Point Fill Color Alpha",VSED_PT_RADIUS:"Point Radius",VSED_PT_OUTLINE_COLOR:"Point Outline Color",VSED_PT_OUTLINE_COLOR_ALPHA:"Point Outline Color Alpha",VSED_PT_OUTLINE_WIDTH:"Point Outline Thickness",VSED_LN_OUTLINE_COLOR:"Line Color",VSED_LN_OUTLINE_COLOR_ALPHA:"Line Color Alpha",VSED_LN_OUTLINE_THICKNESS:"Line Thickness",VSED_PL_FILL_COLOR:"Fill Color",VSED_PL_FILL_COLOR_ALPHA:"Fill Color Alpha",VSED_PL_OUTLINE_COLOR:"Outline Color",VSED_PL_OUTLINE_COLOR_ALPHA:"Outline Color Alpha",VSED_PL_OUTLINE_THICKNESS:"Outline Thickness",VSED_TAB_POINT:"Point",VSED_TAB_LINE:"Line",VSED_TAB_POLY:"Polygon",VSED_PT_TYPE:"Point Style Type",VSED_PT_TYPE_CIRCLE:"Circle",VSED_PT_TYPE_ICON:"Icon",VSED_PT_ICON_ANCHOR:"Anchor",VSED_PT_ICON_ANCHOR_H:"Horizontal",VSED_PT_ICON_ANCHOR_V:"Vertical",VSED_PT_ICON_SRC:"Image URL",VSED_PT_ICON_ROTATE_WITH_VIEW:"Rotate with view",VSED_PT_ICON_ROTATION:"Rotation",VSED_PT_ICON_SCALE:"Scale",ADD_LAYER_PROJECTION:"Projection of this layer",ADDING_LAYER_ERROR:"Error adding layer",LOADING_LAYER:"Loading layer: {name}",ACTION_CLOSE:"Close",MORE_LAYER_OPTIONS:"More Layer Options",CHOOSE_FILE:"Choose file ...",BROWSE:"Browse",SEL_FEATURE_PROPERTIES:"Feature Properties",SEL_FEATURE_PROPERTIES_NONE:"No properties",SEL_CLUSTER_PROPERTIES:"Cluster Properties (size: {size})",ADD_LOCAL_FILE_LAYER_FAILURE_NO_FORMATS:"Failed to add layer. No format drivers registered",ENABLE_CLUSTERING:"Enable Clustering",POINT_CLUSTER_DISTANCE:"Point Cluster Distance",EXPR_NOT_SET:"(Not set)",ENABLE_LABELS:"Enable Labels",LABEL_TEXT:"Label Text",LABEL_SIZE:"Label Size",LABEL_COLOR:"Label Color",LABEL_OUTLINE_COLOR:"Label Outline Color",LABEL_OUTLINE_THICKNESS:"Label Outline Thickness",LABEL_BOLD:"Bold",LABEL_ITALIC:"Italic",LABEL_LINE_PLACEMENT:"Line Placement",ADD_FILE_PROCESSING:"Processing file ...",GENERATE_THEMABLE_LAYER:"Generate Themable Layer",THEME_ON_PROPERTY:"Theme On Property",COLORBREWER_THEME:"<a href='https://colorbrewer2.org/' target='_blank'>ColorBrewer</a> theme",LABEL_USING_PROPERTY:"Label Using Property",CLUSTER_CLICK_ACTION:"Action to perform when cluster is clicked",CLUSTER_CLICK_ACTION_SHOW_POPUP:"Display attributes of points in a popup",CLUSTER_CLICK_ACTION_ZOOM_EXTENTS:"Zoom into selected cluster",EXTERNAL_LAYERS:"External Layers",CREATE_VECTOR_LAYER:"Vector Layer",CREATE_VECTOR_THEMED:"Themed Vector Layer",CREATE_VECTOR_CLUSTERED:"Clustered Point Layer",CREATE_VECTOR_HEATMAP:"Heatmap Layer"}},24698:function(__unused_webpack_module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.areArraysDifferent=exports.makeUnique=void 0,exports.makeUnique=function makeUnique(arr){for(var a=[],i=0,l=arr.length;i<l;i++)-1===a.indexOf(arr[i])&&""!==arr[i]&&a.push(arr[i]);return a},exports.areArraysDifferent=function areArraysDifferent(arr,other,equalityFn){if(arr&&other){if(arr.length!=other.length)return!0;for(var i=0;i<arr.length;i++)if(equalityFn){if(!equalityFn(arr[i],other[i]))return!0}else if(arr[i]!==other[i])return!0;return!1}return!0}},47575:function(__unused_webpack_module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.assertIsDefined=void 0,exports.assertIsDefined=function assertIsDefined(val){if(null==val)throw new Error("Expected 'val' to be defined, but received "+val)}},8608:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(15306),__webpack_require__(74916),Object.defineProperty(exports,"__esModule",{value:!0}),exports.getRelativeIconPath=exports.setAssetRoot=exports.getAssetRoot=exports.getAssetPath=void 0,exports.getAssetPath=function getAssetPath(url){return url};var assets_1=__webpack_require__(10358),mRoot=null===assets_1.ICON_ZOOM_OUT_FIXED||void 0===assets_1.ICON_ZOOM_OUT_FIXED?void 0:assets_1.ICON_ZOOM_OUT_FIXED.replace("/zoom-out-fixed.png","/../../");exports.getAssetRoot=function getAssetRoot(){return mRoot},exports.setAssetRoot=function setAssetRoot(root){mRoot=root},exports.getRelativeIconPath=function getRelativeIconPath(iconName){return"images/icons/"+iconName+".png"}},97838:function(__unused_webpack_module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.debug=exports.error=exports.warn=exports.info=void 0,exports.info=function info(message){for(var optionalParams=[],_i=1;_i<arguments.length;_i++)optionalParams[_i-1]=arguments[_i];console.info(message,optionalParams)},exports.warn=function warn(message){for(var optionalParams=[],_i=1;_i<arguments.length;_i++)optionalParams[_i-1]=arguments[_i];console.warn(message,optionalParams)},exports.error=function error(message){for(var optionalParams=[],_i=1;_i<arguments.length;_i++)optionalParams[_i-1]=arguments[_i];console.error(message,optionalParams)},exports.debug=function debug(message){for(var optionalParams=[],_i=1;_i<arguments.length;_i++)optionalParams[_i-1]=arguments[_i];console.debug(message,optionalParams)}},4898:function(__unused_webpack_module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.assertNever=void 0,exports.assertNever=function assertNever(value){throw new Error("Should never get here")}},96632:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(9653),__webpack_require__(93299),Object.defineProperty(exports,"__esModule",{value:!0}),exports.roundTo=exports.sum=exports.rad2deg=exports.deg2rad=exports.getFiniteScaleIndexForScale=exports.getClosestScaleIndex=exports.scaleRangeBetween=exports.areNumbersEqual=exports.restrictToRange=void 0;var SHIM_EPSILON=Math.pow(2,-52);function getClosestScaleIndex(scales,scale){return Math.abs(scales[0]-scale)<Math.abs(scales[1]-scale)?0:1}exports.restrictToRange=function restrictToRange(val,lower,upper){return Math.min(Math.max(val,lower),upper)},exports.areNumbersEqual=function areNumbersEqual(a,b){return Math.abs(a-b)<function epsilon(){return Number.EPSILON||SHIM_EPSILON}()},exports.scaleRangeBetween=function scaleRangeBetween(scale,minScale,maxScale){return scale>=minScale&&scale<maxScale},exports.getClosestScaleIndex=getClosestScaleIndex,exports.getFiniteScaleIndexForScale=function getFiniteScaleIndexForScale(finiteScaleList,scale){for(var i=0;i<finiteScaleList.length;i++)if(scale>=finiteScaleList[i]){if(!(i+1<finiteScaleList.length))return i;if(scale<=finiteScaleList[i+1])return 0==getClosestScaleIndex([finiteScaleList[i],finiteScaleList[i+1]],scale)?i:i+1}else if(scale<=finiteScaleList[i]){return i>0&&0==getClosestScaleIndex([finiteScaleList[i-1],finiteScaleList[i]],scale)?i-1:i}return 0},exports.deg2rad=function deg2rad(deg){return deg*(Math.PI/180)},exports.rad2deg=function rad2deg(radians){return radians*(180/Math.PI)},exports.sum=function sum(array,numSelector){for(var total=0,_i=0,array_1=array;_i<array_1.length;_i++){total+=numSelector(array_1[_i])}return total},exports.roundTo=function roundTo(num,decimals){void 0===decimals&&(decimals=2);var a=Math.pow(10,decimals);return Math.round(num*a)/a}},98355:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(23123),__webpack_require__(74916),Object.defineProperty(exports,"__esModule",{value:!0}),exports.canUseQueryMapFeaturesV4=exports.getSiteVersion=void 0,exports.getSiteVersion=function getSiteVersion(map){var _a=map.SiteVersion.split("."),sMaj=_a[0],sMin=_a[1],sPatch=_a[2],sRev=_a[3];return[parseInt(sMaj,10),parseInt(sMin,10),parseInt(sPatch,10),parseInt(sRev,10)]},exports.canUseQueryMapFeaturesV4=function canUseQueryMapFeaturesV4(version){var vMaj=version[0],vMin=version[1],vPatch=version[2],vRev=version[3];return vMaj>=4&&(4==vMaj&&0==vMin&&0==vPatch&&0==vRev||(4!=vMaj||0!=vMin||0!=vPatch||vRev>9592))}},53775:function(__unused_webpack_module,exports,__webpack_require__){"use strict";function strStartsWith(str,word){return 0===str.lastIndexOf(word,0)}__webpack_require__(69600),__webpack_require__(23123),__webpack_require__(74916),__webpack_require__(73210),__webpack_require__(15306),__webpack_require__(24603),__webpack_require__(39714),__webpack_require__(4723),__webpack_require__(21249),Object.defineProperty(exports,"__esModule",{value:!0}),exports.isResourceId=exports.extractPlaceholderTokens=exports.strTrim=exports.strIsNullOrEmpty=exports.STR_EMPTY=exports.strReplaceAll=exports.strStartsWith=exports.strEndsWith=void 0,exports.strEndsWith=function strEndsWith(str,suffix){return-1!==str.indexOf(suffix,str.length-suffix.length)},exports.strStartsWith=strStartsWith,exports.strReplaceAll=function strReplaceAll(str,find,replace){return str.split(find).join(replace)},exports.STR_EMPTY="",exports.strIsNullOrEmpty=function strIsNullOrEmpty(str){return null==str||""===str},exports.strTrim=function strTrim(str){return String.prototype.trim?str.trim():str.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},exports.extractPlaceholderTokens=function extractPlaceholderTokens(expr,delimBegin,delimEnd){var _a,regex=new RegExp(delimBegin+"(.*?)"+delimEnd,"g"),matches=expr.match(regex);return null!==(_a=null==matches?void 0:matches.map((function(m){return m.replace(delimBegin,"").replace(delimEnd,"")})))&&void 0!==_a?_a:[]},exports.isResourceId=function isResourceId(str){return strStartsWith(str,"Library://")}},64726:function(__unused_webpack_module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isRuntimeMap=exports.isAction=exports.isCoordinate=exports.isMapView=exports.isLayer=exports.isMenu=exports.isComponentFlyout=exports.isMenuRef=exports.isInitError=exports.isError=exports.isModalComponentDisplayOptions=exports.isModalDisplayOptions=void 0,exports.isModalDisplayOptions=function isModalDisplayOptions(arg){return void 0!==arg.url},exports.isModalComponentDisplayOptions=function isModalComponentDisplayOptions(arg){return void 0!==arg.component},exports.isError=function isError(err){return err instanceof Error},exports.isInitError=function isInitError(item){return void 0!==item.message&&null!=typeof item.stack},exports.isMenuRef=function isMenuRef(item){return void 0!==item.flyoutId},exports.isComponentFlyout=function isComponentFlyout(item){return void 0!==item.componentName},exports.isMenu=function isMenu(item){return void 0!==item.childItems},exports.isLayer=function isLayer(layer){return void 0!==layer.LayerDefinition},exports.isMapView=function isMapView(view){return"number"==typeof view.x&&"number"==typeof view.y&&"number"==typeof view.scale},exports.isCoordinate=function isCoordinate(coord){return coord instanceof Array&&2==coord.length&&"number"==typeof coord[0]&&"number"==typeof coord[1]},exports.isAction=function isAction(action){return void 0!==action.type&&void 0!==action.payload},exports.isRuntimeMap=function isRuntimeMap(arg){return null!=arg.Extents&&null!=arg.BackgroundColor&&null!=arg.CoordinateSystem&&null!=arg.MapDefinition&&null!=arg.DisplayDpi}},8748:function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getMapSize=exports.getUnitOfMeasure=exports.getUnits=exports.getUnitsOfMeasure=void 0;var i18n_1=__webpack_require__(196),common_1=__webpack_require__(18036),mUnits=[{name:"Unknown",localizedName:function localizedName(locale){return(0,i18n_1.tr)("UNIT_UNKNOWN",locale)},abbreviation:function abbreviation(locale){return(0,i18n_1.tr)("UNIT_ABBR_UNKNOWN",locale)},unitsPerMeter:1,metersPerUnit:1},{name:"Inches",localizedName:function localizedName(locale){return(0,i18n_1.tr)("UNIT_INCHES",locale)},abbreviation:function abbreviation(locale){return(0,i18n_1.tr)("UNIT_ABBR_INCHES",locale)},unitsPerMeter:39.370079,metersPerUnit:.0254},{name:"Feet",localizedName:function localizedName(locale){return(0,i18n_1.tr)("UNIT_FEET",locale)},abbreviation:function abbreviation(locale){return(0,i18n_1.tr)("UNIT_ABBR_FEET",locale)},unitsPerMeter:3.2808,metersPerUnit:.3048},{name:"Yards",localizedName:function localizedName(locale){return(0,i18n_1.tr)("UNIT_YARDS",locale)},abbreviation:function abbreviation(locale){return(0,i18n_1.tr)("UNIT_ABBR_YARDS",locale)},unitsPerMeter:1.0936133,metersPerUnit:.9144},{name:"Miles",localizedName:function localizedName(locale){return(0,i18n_1.tr)("UNIT_MILES",locale)},abbreviation:function abbreviation(locale){return(0,i18n_1.tr)("UNIT_ABBR_MILES",locale)},unitsPerMeter:62137e-8,metersPerUnit:1609.344},{name:"Nautical Miles",localizedName:function localizedName(locale){return(0,i18n_1.tr)("UNIT_NAUT_MILES",locale)},abbreviation:function abbreviation(locale){return(0,i18n_1.tr)("UNIT_ABBR_NAUT_MILES",locale)},unitsPerMeter:.000539956803,metersPerUnit:1852},{name:"Millimeters",localizedName:function localizedName(locale){return(0,i18n_1.tr)("UNIT_MILLIMETERS",locale)},abbreviation:function abbreviation(locale){return(0,i18n_1.tr)("UNIT_ABBR_MILLIMETERS",locale)},unitsPerMeter:1e3,metersPerUnit:.001},{name:"Centimeters",localizedName:function localizedName(locale){return(0,i18n_1.tr)("UNIT_CENTIMETERS",locale)},abbreviation:function abbreviation(locale){return(0,i18n_1.tr)("UNIT_ABBR_CENTIMETERS",locale)},unitsPerMeter:100,metersPerUnit:.01},{name:"Meters",localizedName:function localizedName(locale){return(0,i18n_1.tr)("UNIT_METERS",locale)},abbreviation:function abbreviation(locale){return(0,i18n_1.tr)("UNIT_ABBR_METERS",locale)},unitsPerMeter:1,metersPerUnit:1},{name:"Kilometers",localizedName:function localizedName(locale){return(0,i18n_1.tr)("UNIT_KILOMETERS",locale)},abbreviation:function abbreviation(locale){return(0,i18n_1.tr)("UNIT_ABBR_KILOMETERS",locale)},unitsPerMeter:.001,metersPerUnit:1e3},{name:"Degrees",localizedName:function localizedName(locale){return(0,i18n_1.tr)("UNIT_DEGREES",locale)},abbreviation:function abbreviation(locale){return(0,i18n_1.tr)("UNIT_ABBR_DEGREES",locale)},unitsPerMeter:9044e-9,metersPerUnit:111061.75033},{name:"Decimal Degrees",localizedName:function localizedName(locale){return(0,i18n_1.tr)("UNIT_DEC_DEGREES",locale)},abbreviation:function abbreviation(locale){return(0,i18n_1.tr)("UNIT_ABBR_DEC_DEGREES",locale)},unitsPerMeter:9044e-9,metersPerUnit:111061.75033},{name:"Degrees Minutes Seconds",localizedName:function localizedName(locale){return(0,i18n_1.tr)("UNIT_DMS",locale)},abbreviation:function abbreviation(locale){return(0,i18n_1.tr)("UNIT_ABBR_DMS",locale)},unitsPerMeter:9044e-9,metersPerUnit:111061.75033},{name:"Pixels",localizedName:function localizedName(locale){return(0,i18n_1.tr)("UNIT_PIXELS",locale)},abbreviation:function abbreviation(locale){return(0,i18n_1.tr)("UNIT_ABBR_PIXELS",locale)},unitsPerMeter:1,metersPerUnit:1}];function getUnitsOfMeasure(){return[common_1.UnitOfMeasure.Centimeters,common_1.UnitOfMeasure.DecimalDegrees,common_1.UnitOfMeasure.Degrees,common_1.UnitOfMeasure.DMS,common_1.UnitOfMeasure.Feet,common_1.UnitOfMeasure.Inches,common_1.UnitOfMeasure.Kilometers,common_1.UnitOfMeasure.Meters,common_1.UnitOfMeasure.Miles,common_1.UnitOfMeasure.Millimeters,common_1.UnitOfMeasure.NauticalMiles,common_1.UnitOfMeasure.Pixels,common_1.UnitOfMeasure.Unknown,common_1.UnitOfMeasure.Yards]}function getUnitOfMeasure(unit){return mUnits[unit]||mUnits[0]}function getMapSize(displaySize,metersPerUnit,units,resolution,precision){var width=displaySize[0],height=displaySize[1],gw=width,gh=height,uom=getUnitOfMeasure(units);if(resolution&&units!=common_1.UnitOfMeasure.Pixels){gw=resolution*width,gh=resolution*height,units!=common_1.UnitOfMeasure.Unknown&&(gw=uom.unitsPerMeter*gw*metersPerUnit,gh=uom.unitsPerMeter*gh*metersPerUnit);var prec=precision||2;if(prec>=0){var factor=Math.pow(10,prec);gw=Math.round(gw*factor)/factor,gh=Math.round(gh*factor)/factor}}return[gw,gh]}exports.getUnitsOfMeasure=getUnitsOfMeasure,exports.getUnits=function getUnits(){return[[common_1.UnitOfMeasure.Centimeters,"Centimeters"],[common_1.UnitOfMeasure.DecimalDegrees,"Decimal Degrees"],[common_1.UnitOfMeasure.Degrees,"Degrees"],[common_1.UnitOfMeasure.DMS,"Degrees Minutes Seconds"],[common_1.UnitOfMeasure.Feet,"Feet"],[common_1.UnitOfMeasure.Inches,"Inches"],[common_1.UnitOfMeasure.Kilometers,"Kilometers"],[common_1.UnitOfMeasure.Meters,"Meters"],[common_1.UnitOfMeasure.Miles,"Miles"],[common_1.UnitOfMeasure.Millimeters,"Millimeters"],[common_1.UnitOfMeasure.NauticalMiles,"Nautical Miles"],[common_1.UnitOfMeasure.Pixels,"Pixels"],[common_1.UnitOfMeasure.Unknown,"Unknown"],[common_1.UnitOfMeasure.Yards,"Yards"]]},exports.getUnitOfMeasure=getUnitOfMeasure,exports.getMapSize=getMapSize;try{getUnitsOfMeasure.displayName="getUnitsOfMeasure",getUnitsOfMeasure.__docgenInfo={description:"Gets all available units of measure",displayName:"getUnitsOfMeasure",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/utils/units.tsx#getUnitsOfMeasure"]={docgenInfo:getUnitsOfMeasure.__docgenInfo,name:"getUnitsOfMeasure",path:"src/utils/units.tsx#getUnitsOfMeasure"})}catch(__react_docgen_typescript_loader_error){}try{getUnitOfMeasure.displayName="getUnitOfMeasure",getUnitOfMeasure.__docgenInfo={description:"",displayName:"getUnitOfMeasure",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/utils/units.tsx#getUnitOfMeasure"]={docgenInfo:getUnitOfMeasure.__docgenInfo,name:"getUnitOfMeasure",path:"src/utils/units.tsx#getUnitOfMeasure"})}catch(__react_docgen_typescript_loader_error){}try{getMapSize.displayName="getMapSize",getMapSize.__docgenInfo={description:"Utility function to compute the physical map size based on the given display size and various display settings",displayName:"getMapSize",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/utils/units.tsx#getMapSize"]={docgenInfo:getMapSize.__docgenInfo,name:"getMapSize",path:"src/utils/units.tsx#getMapSize"})}catch(__react_docgen_typescript_loader_error){}},7976:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(2707),__webpack_require__(57327),__webpack_require__(47941),__webpack_require__(68309),__webpack_require__(41539),__webpack_require__(39714),Object.defineProperty(exports,"__esModule",{value:!0}),exports.parseUrlParameters=exports.appendParameters=exports.stringifyQuery=exports.parseUrl=exports.ensureParameters=exports.parseComponentUri=exports.isComponentUri=exports.areUrlsSame=void 0;var qs_1=(0,__webpack_require__(70655).__importDefault)(__webpack_require__(80129)),string_1=__webpack_require__(53775),parse=__webpack_require__(84564),DEFAULT_PARSE_OPTIONS={ignoreQueryPrefix:!0};function isComponentUri(uri){return uri.indexOf("component://")>=0}function parseUrl(url){var qi=url.lastIndexOf("?");return{url:qi<0?url:url.substring(0,qi),query:qi<0?{}:qs_1.default.parse(url.substring(qi),DEFAULT_PARSE_OPTIONS)}}function appendParameters(url,parameters,bOverwriteExisting,bConvertToUppercase,bDiscardExistingParams){void 0===bOverwriteExisting&&(bOverwriteExisting=!0),void 0===bConvertToUppercase&&(bConvertToUppercase=!1),void 0===bDiscardExistingParams&&(bDiscardExistingParams=!1);var currentParams,parsed=parse(url);currentParams=bDiscardExistingParams?{}:null!=parsed.query?qs_1.default.parse(parsed.query,DEFAULT_PARSE_OPTIONS):{};var paramNames={};for(var key in currentParams)paramNames[key.toUpperCase()]=key;for(var name_3 in parameters){(key=paramNames[name_3.toUpperCase()]||name_3)&&currentParams[key]&&!bOverwriteExisting||(currentParams[key]=parameters[name_3])}if(bConvertToUppercase){var params2={};for(var name_4 in currentParams)params2[name_4.toUpperCase()]=currentParams[name_4];currentParams=params2}parsed.query=qs_1.default.stringify(currentParams);var result=parsed.toString();return url.indexOf(parsed.protocol)>=0||url.indexOf("/"),result}exports.areUrlsSame=function areUrlsSame(url1,url2){var parsed1=parse(url1),parsed2=parse(url2),params1=qs_1.default.parse(parsed1.query,DEFAULT_PARSE_OPTIONS),params2=qs_1.default.parse(parsed2.query,DEFAULT_PARSE_OPTIONS);return parsed1.protocol==parsed2.protocol&&parsed1.slashes==parsed2.slashes&&parsed1.auth==parsed2.auth&&parsed1.username==parsed2.username&&parsed1.password==parsed2.password&&parsed1.host==parsed2.host&&parsed1.hostname==parsed2.hostname&&parsed1.port==parsed2.port&&parsed1.pathname==parsed2.pathname&&parsed1.hash==parsed2.hash&&parsed1.host==parsed2.host&&function areParamsEqual(params1,params2){var keys1=Object.keys(params1).filter((function(k){return"locale"!=k.toLowerCase()})).sort();if(function arraysEqual(a,b){if(a===b)return!0;if(null==a||null==b)return!1;if(a.length!=b.length)return!1;for(var i=0;i<a.length;++i)if(a[i]!==b[i])return!1;return!0}(keys1,Object.keys(params2).filter((function(k){return"locale"!=k.toLowerCase()})).sort())){for(var _i=0,keys1_1=keys1;_i<keys1_1.length;_i++){var key=keys1_1[_i];if(params1[key]!=params2[key])return!1}return!0}return!1}(params1,params2)},exports.isComponentUri=isComponentUri,exports.parseComponentUri=function parseComponentUri(uri){if(isComponentUri(uri)){var qi=uri.lastIndexOf("?");return{name:qi<0?uri.substring(12):uri.substring(12,qi),props:qi<0?{}:qs_1.default.parse(uri.substring(qi),DEFAULT_PARSE_OPTIONS)}}},exports.ensureParameters=function ensureParameters(url,mapName,session,locale,uppercase,extraParameters){if(void 0===uppercase&&(uppercase=!0),void 0===extraParameters&&(extraParameters=[]),isComponentUri(url))return url;var parsed=parseUrl(url),params=null!=parsed.query?qs_1.default.parse(parsed.query,DEFAULT_PARSE_OPTIONS):{},bNeedMapName=!0,bNeedSession=!0,bNeedLocale=!0;for(var key in params){switch(key.toLowerCase()){case"session":bNeedSession=!1;break;case"mapname":bNeedMapName=!1;break;case"locale":bNeedLocale=!1}}bNeedMapName&&!(0,string_1.strIsNullOrEmpty)(mapName)&&(uppercase?params.MAPNAME=mapName:params.mapname=mapName),bNeedSession&&!(0,string_1.strIsNullOrEmpty)(session)&&(uppercase?params.SESSION=session:params.session=session),bNeedLocale&&(uppercase?params.LOCALE=locale:params.locale=locale);for(var _i=0,extraParameters_1=extraParameters;_i<extraParameters_1.length;_i++){var p=extraParameters_1[_i];params[p.name]=p.value}return appendParameters(url,params,!0,!1)},exports.parseUrl=parseUrl,exports.stringifyQuery=function stringifyQuery(parameters){return qs_1.default.stringify(parameters)},exports.appendParameters=appendParameters,exports.parseUrlParameters=function parseUrlParameters(url){var parsed=parse(url);return null!=parsed.query?qs_1.default.parse(parsed.query,DEFAULT_PARSE_OPTIONS):{}}},39116:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(47941),Object.defineProperty(exports,"__esModule",{value:!0}),exports.layerTransparencyChanged=exports.areMapsSame=exports.areViewsCloseToEqual=void 0;var number_1=__webpack_require__(96632),array_1=__webpack_require__(24698);exports.areViewsCloseToEqual=function areViewsCloseToEqual(view,otherView){return!(!view||!otherView)&&((0,number_1.areNumbersEqual)(view.x,otherView.x)&&(0,number_1.areNumbersEqual)(view.y,otherView.y)&&(0,number_1.areNumbersEqual)(view.scale,otherView.scale))},exports.areMapsSame=function areMapsSame(map,other){return map==other||map.Name==other.Name},exports.layerTransparencyChanged=function layerTransparencyChanged(set,other){if(!set&&other||set&&!other)return!0;var s=null!=set?set:{},o=null!=other?other:{},setLayers=Object.keys(s),otherLayers=Object.keys(o);if((0,array_1.areArraysDifferent)(setLayers,otherLayers))return!0;for(var _i=0,setLayers_1=setLayers;_i<setLayers_1.length;_i++){var name_1=setLayers_1[_i];if(s[name_1]!=o[name_1])return!0}return!1}},64157:function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(516),_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(93694),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".component-accordion {\n    font: 10pt Verdana, sans-serif;\n    background-color: #E4E3E3;\n}\n.component-accordion-panel-header {\n    border: 1px solid black;\n    font-weight: bold;\n    color: white;\n    /* Permalink - use to edit and share this gradient: http://colorzilla.com/gradient-editor/#878787+0,747474+50,6e7774+50,555555+51,5e6666+100 */\n    background: #878787; /* Old browsers */\n    background: -moz-linear-gradient(top,  #878787 0%, #747474 50%, #6e7774 50%, #555555 51%, #5e6666 100%); /* FF3.6-15 */\n    background: -webkit-linear-gradient(top,  #878787 0%,#747474 50%,#6e7774 50%,#555555 51%,#5e6666 100%); /* Chrome10-25,Safari5.1-6 */\n    background: linear-gradient(to bottom,  #878787 0%,#747474 50%,#6e7774 50%,#555555 51%,#5e6666 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */\n    filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#878787', endColorstr='#5e6666',GradientType=0 ); /* IE6-9 */\n}","",{version:3,sources:["webpack://./src/stories/styles/accordion-slate.css"],names:[],mappings:"AAAA;IACI,8BAA8B;IAC9B,yBAAyB;AAC7B;AACA;IACI,uBAAuB;IACvB,iBAAiB;IACjB,YAAY;IACZ,8IAA8I;IAC9I,mBAAmB,EAAE,iBAAiB;IACtC,uGAAuG,EAAE,aAAa;IACtH,sGAAsG,EAAE,4BAA4B;IACpI,oGAAoG,EAAE,qDAAqD;IAC3J,mHAAmH,EAAE,UAAU;AACnI",sourcesContent:[".component-accordion {\n    font: 10pt Verdana, sans-serif;\n    background-color: #E4E3E3;\n}\n.component-accordion-panel-header {\n    border: 1px solid black;\n    font-weight: bold;\n    color: white;\n    /* Permalink - use to edit and share this gradient: http://colorzilla.com/gradient-editor/#878787+0,747474+50,6e7774+50,555555+51,5e6666+100 */\n    background: #878787; /* Old browsers */\n    background: -moz-linear-gradient(top,  #878787 0%, #747474 50%, #6e7774 50%, #555555 51%, #5e6666 100%); /* FF3.6-15 */\n    background: -webkit-linear-gradient(top,  #878787 0%,#747474 50%,#6e7774 50%,#555555 51%,#5e6666 100%); /* Chrome10-25,Safari5.1-6 */\n    background: linear-gradient(to bottom,  #878787 0%,#747474 50%,#6e7774 50%,#555555 51%,#5e6666 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */\n    filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#878787', endColorstr='#5e6666',GradientType=0 ); /* IE6-9 */\n}"],sourceRoot:""}]),__webpack_exports__.Z=___CSS_LOADER_EXPORT___},97411:function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(516),_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(93694),_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__),_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_3_use_1_stdassets_sprites_icons_css__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(45546),___CSS_LOADER_EXPORT___=_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()(_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.i(_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_3_use_1_stdassets_sprites_icons_css__WEBPACK_IMPORTED_MODULE_2__.Z),___CSS_LOADER_EXPORT___.push([module.id,'@charset "UTF-8";\n/*\n@import "~ol/ol.css";\n@import "~@blueprintjs/core/lib/css/blueprint.css";\n@import "~react-splitter-layout/lib/index.css";\n*/\n\n/* HACK: Clear out any trace of the font icon as HTMLSelect should be using the SVG counterpart */\n.bp3-select:after {\n    content: "";\n}\n\n.legend-label-highlight-text {\n    background-color: yellow;\n}\n\n.mg-toast {\n    z-index: 120;\n}\n\n.map-viewer-component {\n    background-color: white;\n}\n\n.iframe-iehack-zindex {\n    position: absolute;\n    border: none;\n    top: 0;\n    left: 0;\n    height: 100%;\n    width: 100%;\n    z-index: -1;\n}\n\n/* OpenLayers overrides */\n\n.ol-attribution {\n    right: 10px;\n    bottom: 52px;\n    font-family: Verdana, Geneva, Tahoma, sans-serif;\n}\n\n.ol-rotate {\n    top: auto;\n    right: 10px;\n    bottom: 25px;\n}\n\n.ol-rotate button {\n    bottom: 1px;\n    left: auto;\n    right: 1px;\n    top: auto;\n}\n\n.ol-custom-overviewmap,\n.ol-custom-overviewmap.ol-uncollapsible {\n    bottom: 79px;\n    left: auto;\n    right: 10px;\n    top: auto;\n}\n\n.ol-custom-overviewmap:not(.ol-collapsed) {\n    border: 1px solid black;\n}\n\n.ol-custom-overviewmap .ol-overviewmap-map {\n    border: none;\n}\n\n.ol-custom-overviewmap .ol-overviewmap-box {\n    border: 2px solid red;\n}\n\n.ol-custom-overviewmap:not(.ol-collapsed) button {\n    bottom: 1px;\n    left: auto;\n    right: 1px;\n    top: auto;\n}\n\n/* Accordion */\n.component-accordion-panel-header {\n    padding: 3px;\n    cursor: pointer;\n}\n\n/* Selection Panel */\n\n.selection-panel-property-grid {\n    width: 100%;\n}\n\n.selection-panel-layer-selector {\n    max-width: 180px;\n}\n\n.selection-panel-layer-selector select {\n    max-width: 143px;\n}\n\n/* Modal Dialogs */\n\n.modal-dialog {\n    background: #fff;\n    border: 1px solid black;\n    border-radius: 3px;\n    position: absolute;\n    transform: translate(-50%, -50%);\n    z-index: 4999;\n}\n\n.modal-dialog-header {\n    border-top-left-radius: 3px;\n    border-top-right-radius: 3px;\n}\n\n.modal-dialog-body {\n    border-bottom-left-radius: 3px;\n    border-bottom-right-radius: 3px;\n    padding-bottom: 3px;\n}\n\n.modal-dialog-backdrop {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0px;\n    left: 0px;\n    z-index: 4998;\n    background: rgba(0, 0, 0, 0.3);\n}\n\n.mg-flyout-menu-container {\n    position: absolute;\n}\n\n.mg-flyout-component-container {\n    position: absolute;\n    background-color: white;\n    padding: 15px;\n    border-radius: 3px;\n    border: 1px solid black;\n}\n\n/* Toolbar */\n.toolbar-separator-vertical {\n    border-bottom: 1px solid black;\n}\n\n.toolbar-separator-horizontal {\n    border-left: 1px solid black;\n}\n\n.selected-item {\n    border-style: solid;\n}\n\n.mouse-over {\n    cursor: pointer;\n    background: rgb(220, 220, 220);\n    border-style: solid;\n    border-color: rgb(160, 160, 160);\n}\n\n/* Begin QuickPlot */\ndiv.Label {\n    padding: 5px 0px;\n}\n\ndiv.Ctrl {\n    padding: 5px 0px;\n}\n\ndiv.Title {\n    font-size: 14px;\n    font-weight: bold;\n    padding: 10px 0px;\n}\n\ndiv.HPlaceholder5px {\n    font-size: 0px;\n    height: 5px;\n}\n\ndiv.ButtonContainer {\n    padding: 5px 0px;\n    text-align: right;\n}\n\n.FixWidth {\n    width: 100%;\n}\n\ndiv.InfoText {\n    padding: 3px;\n    background-color: #FFFFCC;\n    color: #666666;\n    font-family: Arial, Helvetica, sans-serif;\n    font-size: 8pt;\n}\n\n/* End QuickPlot */\n\n.field,\n.field-label {\n    display: block;\n}\n\n/*\n.error-display {\n    color: #ffffff;\n    background-color: #ff0000;\n    font-size: 0.8em;\n}\n\n.error-header {\n    font-weight: bold;\n}\n*/\n.error-stack {\n    text-decoration: none;\n}\n\n.modal-dialog-header {\n    font-weight: bold;\n    padding: 5px;\n    font-size: 1.1em;\n    background-color: #cdcdcd;\n    border-bottom: 1px solid black;\n}\n\n.modal-dialog-body {\n    padding: 0px;\n}\n\n.context-menu-item-disabled {\n    opacity: 0.4;\n    cursor: none;\n}\n\n/* https://gist.github.com/aiboy/7406727 */\n.rotated-text {\n    display: inline-block;\n    overflow: hidden;\n    width: 1.5em;\n}\n\n.rotated-text-ccw {\n    -webkit-transform: rotate(-90deg);\n    -moz-transform: rotate(-90deg);\n    -ms-transform: rotate(-90deg);\n    -o-transform: rotate(-90deg);\n    transform: rotate(-90deg);\n\n    /* also accepts left, right, top, bottom coordinates; not required, but a good idea for styling */\n    -webkit-transform-origin: 50% 50%;\n    -moz-transform-origin: 50% 50%;\n    -ms-transform-origin: 50% 50%;\n    -o-transform-origin: 50% 50%;\n    transform-origin: 50% 50%;\n\n    /* Should be unset in IE9+ I think. */\n    filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=3);\n}\n\n.rotated-text__inner {\n    display: inline-block;\n    white-space: nowrap;\n}\n\n.rotated-text__inner:before {\n    content: "";\n    float: left;\n    margin-top: 100%;\n}\n\n.noselect {\n    -webkit-touch-callout: none;\n    /* iOS Safari */\n    -webkit-user-select: none;\n    /* Chrome/Safari/Opera */\n    -khtml-user-select: none;\n    /* Konqueror */\n    -moz-user-select: none;\n    /* Firefox */\n    -ms-user-select: none;\n    /* Internet Explorer/Edge */\n    user-select: none;\n    /* Non-prefixed version, currently\n                                    not supported by any browser */\n}\n\n.component-about-dialog-content {\n    padding: 5px;\n}\n\n.component-session-expired {\n    padding: 5px;\n}\n\n.component-measure {\n    padding: 5px;\n}\n\n.component-quick-plot {\n    padding: 5px;\n}\n\n.component-viewer-options {\n    padding: 5px;\n}\n\n.component-mouse-coordinates,\n.component-selected-feature-count,\n.component-view-size {\n    padding: 3px;\n    font-family: Verdana, Geneva, Tahoma, sans-serif;\n    font-size: 8pt;\n}\n\n.component-scale-display {\n    font-family: Verdana, Geneva, Tahoma, sans-serif;\n    font-size: 8pt;\n}\n\n.component-scale-display .scale-input {\n    margin: 0;\n    padding: 0;\n}\n\n.feature-tooltip {\n    position: relative;\n    background: rgb(255, 255, 153);\n    border-radius: 4px;\n    color: black;\n    padding: 4px 8px;\n    white-space: nowrap;\n    font-size: 8pt;\n    font-family: Verdana, Geneva, Tahoma, sans-serif;\n}\n\n.selected-tooltip {\n    position: relative;\n    background: rgb(255, 255, 255);\n    border-radius: 4px;\n    border: 1px solid black;\n    color: black;\n    padding: 4px 8px;\n    white-space: nowrap;\n    font-size: 8pt;\n    font-family: Verdana, Geneva, Tahoma, sans-serif;\n}\n\n.selected-popup-header {\n    min-width: 190px;\n}\n.selected-popup-header div {\n    float: left;\n    font-weight: bold;\n    font-size: 1.3em;\n    margin-right: 5px;\n}\n.selected-popup-header .closer {\n    float: right;\n}\n.selected-popup-header .clearit {\n    clear: both;\n}\n\n.selected-popup-content-wrapper {\n    clear: both;\n    margin-top: 25px;\n    max-height: 300px;\n    overflow: auto;\n}\n\n.selected-popup-cluster-table {\n    border-collapse: collapse;\n}\n\n.selected-popup-content-none {\n    clear: both;\n    margin-top: 20px;\n}\n\n.select-popup-single-link-wrapper {\n    margin-top: 20px;\n}\n\n.selected-popup-single-properties-table {\n    max-width: 400px;\n}\n\n.selected-popup-single-properties-table th,\n.selected-popup-single-properties-table td {\n    text-align: left;\n}\n\n.selected-popup-single-properties-table .property-name-cell {\n    font-weight: bold;\n}\n\n.selected-popup-single-properties-table .property-value-cell {\n    font-weight: none;\n}\n\n.tooltip-hidden {\n    display: none;\n}\n\n.tooltip {\n    position: relative;\n    background: rgba(0, 0, 0, 0.9);\n    border-radius: 4px;\n    color: white;\n    padding: 4px 8px;\n    opacity: 0.7;\n    white-space: nowrap;\n    font-size: 8pt;\n    font-family: Verdana, Geneva, Tahoma, sans-serif;\n}\n\n.tooltip-measure {\n    opacity: 1;\n    font-weight: bold;\n}\n\n.tooltip-static {\n    background-color: #ffcc33;\n    color: black;\n    border: 1px solid white;\n}\n\n.tooltip-measure:before,\n.tooltip-static:before {\n    border-top: 6px solid rgba(0, 0, 0, 0.5);\n    border-right: 6px solid transparent;\n    border-left: 6px solid transparent;\n    content: "";\n    position: absolute;\n    bottom: -6px;\n    margin-left: -7px;\n    left: 50%;\n}\n\n.tooltip-static:before {\n    border-top-color: #ffcc33;\n}\n\n.component-navigator {\n    position: absolute;\n    width: 51px;\n    height: 204px;\n    z-index: 1000;\n    cursor: pointer;\n    right: 10px;\n    top: 10px;\n}\n\n.wms-layer-info-tooltip p {\n    max-width: 250px;\n    word-wrap: break-word;\n}\n\n.bp3-dark {\n    background-color: #30404d;\n}\n\n.colorpicker {\n    position: relative;\n    width: 100%;\n    height: 13em;\n    background-color: #fff;\n    border: 1px solid rgba(0, 0, 0, 0.2);\n    border-radius: 0.25em;\n    box-shadow: 0 3px 6px rgba(0, 0, 0, 0.3);\n}\n\n.map {\n    position: absolute;\n    top: 1em;\n    bottom: 1em;\n    right: 2em;\n    left: 1em;\n    overflow: hidden;\n    user-select: none;\n    border-radius: 0.25em;\n}\n\n.map.active {\n    cursor: none;\n}\n\n.map.dark .pointer {\n    border-color: #fff;\n}\n\n.map.light .pointer {\n    border-color: #000;\n}\n\n.map .pointer {\n    position: absolute;\n    width: 10px;\n    height: 10px;\n    margin-left: -5px;\n    margin-bottom: -5px;\n    border-radius: 100%;\n    border: 1px solid #000;\n    will-change: left, bottom;\n}\n\n.map .background {\n    top: 0;\n    left: 0;\n    position: absolute;\n    height: 100%;\n    width: 100%;\n}\n\n.map .background:before,\n.map .background:after {\n    display: block;\n    content: \'\';\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n}\n\n.map .background:after {\n    background: linear-gradient(to bottom, transparent 0%, black 100%);\n}\n\n.map .background:before {\n    background: linear-gradient(to right, white 0%, rgba(255, 255, 255, 0) 100%);\n}\n\n.slider {\n    position: absolute;\n    user-select: none;\n}\n\n.slider.vertical {\n    top: 0;\n    bottom: 0;\n    left: 50%;\n    width: 10px;\n    cursor: ns-resize;\n}\n\n.slider.vertical .track {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 50%;\n    width: 8px;\n    margin-left: -4px;\n}\n\n.slider.horizontal {\n    left: 0;\n    right: 0;\n    top: 50%;\n    height: 10px;\n    cursor: ew-resize;\n}\n\n.slider.horizontal .track {\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 50%;\n    height: 8px;\n    margin-top: -4px;\n}\n\n.slider .track {\n    border-radius: 3px;\n    background: #888;\n}\n\n.slider .pointer {\n    position: absolute;\n    bottom: 50%;\n    left: 50%;\n    width: 16px;\n    height: 16px;\n    margin-left: -8px;\n    margin-bottom: -8px;\n    border-radius: 16px;\n    background: #fff;\n    box-shadow: inset 0 0 0 1px #ccc, 0 1px 2px #ccc;\n    will-change: left, bottom;\n}\n\n.hue-slider {\n    position: absolute;\n    top: 1em;\n    bottom: 1em;\n    right: 1.3em;\n}\n\n.hue-slider .track {\n    background: linear-gradient(to bottom, #FF0000 0%, #FF0099 10%, #CD00FF 20%, #3200FF 30%, #0066FF 40%, #00FFFD 50%, #00FF66 60%, #35FF00 70%, #CDFF00 80%, #FF9900 90%, #FF0000 100%);\n}\n\n.opacity-slider {\n    position: absolute;\n    bottom: 1.3em;\n    left: 1em;\n    right: 2em;\n}\n\n.opacity-slider .slider {\n    background: #fff url("data:image/gif;base64,R0lGODdhEAAQAPEAAMvLy8zMzP///wAAACwAAAAAEAAQAEACHYxvosstCAEMrq6Jj812Y59NIDQipdY5XLWqH4sVADs=") repeat;\n    background-size: 8px 8px;\n    height: 8px;\n}\n\n.opacity-slider .slider .track {\n    height: 8px;\n    margin-top: -4px;\n    background: linear-gradient(to right, rgba(255, 255, 255, 0) 0%, #FFF 100%);\n}\n\n.with-opacity-slider {\n    height: 14em;\n}\n\n.with-opacity-slider .map {\n    bottom: 2em;\n}\n\n.with-opacity-slider .hue-slider {\n    bottom: 2em;\n}\n\n.react-colorful {\n    width: 100%;\n}',"",{version:3,sources:["webpack://./src/styles/index.css"],names:[],mappings:"AAAA,gBAAgB;AAEhB;;;;CAIC;;AAED,iGAAiG;AACjG;IACI,WAAW;AACf;;AAEA;IACI,wBAAwB;AAC5B;;AAEA;IACI,YAAY;AAChB;;AAEA;IACI,uBAAuB;AAC3B;;AAEA;IACI,kBAAkB;IAClB,YAAY;IACZ,MAAM;IACN,OAAO;IACP,YAAY;IACZ,WAAW;IACX,WAAW;AACf;;AAEA,yBAAyB;;AAEzB;IACI,WAAW;IACX,YAAY;IACZ,gDAAgD;AACpD;;AAEA;IACI,SAAS;IACT,WAAW;IACX,YAAY;AAChB;;AAEA;IACI,WAAW;IACX,UAAU;IACV,UAAU;IACV,SAAS;AACb;;AAEA;;IAEI,YAAY;IACZ,UAAU;IACV,WAAW;IACX,SAAS;AACb;;AAEA;IACI,uBAAuB;AAC3B;;AAEA;IACI,YAAY;AAChB;;AAEA;IACI,qBAAqB;AACzB;;AAEA;IACI,WAAW;IACX,UAAU;IACV,UAAU;IACV,SAAS;AACb;;AAEA,cAAc;AACd;IACI,YAAY;IACZ,eAAe;AACnB;;AAEA,oBAAoB;;AAEpB;IACI,WAAW;AACf;;AAEA;IACI,gBAAgB;AACpB;;AAEA;IACI,gBAAgB;AACpB;;AAEA,kBAAkB;;AAElB;IACI,gBAAgB;IAChB,uBAAuB;IACvB,kBAAkB;IAClB,kBAAkB;IAClB,gCAAgC;IAChC,aAAa;AACjB;;AAEA;IACI,2BAA2B;IAC3B,4BAA4B;AAChC;;AAEA;IACI,8BAA8B;IAC9B,+BAA+B;IAC/B,mBAAmB;AACvB;;AAEA;IACI,kBAAkB;IAClB,WAAW;IACX,YAAY;IACZ,QAAQ;IACR,SAAS;IACT,aAAa;IACb,8BAA8B;AAClC;;AAEA;IACI,kBAAkB;AACtB;;AAEA;IACI,kBAAkB;IAClB,uBAAuB;IACvB,aAAa;IACb,kBAAkB;IAClB,uBAAuB;AAC3B;;AAEA,YAAY;AACZ;IACI,8BAA8B;AAClC;;AAEA;IACI,4BAA4B;AAChC;;AAEA;IACI,mBAAmB;AACvB;;AAEA;IACI,eAAe;IACf,8BAA8B;IAC9B,mBAAmB;IACnB,gCAAgC;AACpC;;AAEA,oBAAoB;AACpB;IACI,gBAAgB;AACpB;;AAEA;IACI,gBAAgB;AACpB;;AAEA;IACI,eAAe;IACf,iBAAiB;IACjB,iBAAiB;AACrB;;AAEA;IACI,cAAc;IACd,WAAW;AACf;;AAEA;IACI,gBAAgB;IAChB,iBAAiB;AACrB;;AAEA;IACI,WAAW;AACf;;AAEA;IACI,YAAY;IACZ,yBAAyB;IACzB,cAAc;IACd,yCAAyC;IACzC,cAAc;AAClB;;AAEA,kBAAkB;;AAElB;;IAEI,cAAc;AAClB;;AAEA;;;;;;;;;;CAUC;AACD;IACI,qBAAqB;AACzB;;AAEA;IACI,iBAAiB;IACjB,YAAY;IACZ,gBAAgB;IAChB,yBAAyB;IACzB,8BAA8B;AAClC;;AAEA;IACI,YAAY;AAChB;;AAEA;IACI,YAAY;IACZ,YAAY;AAChB;;AAEA,0CAA0C;AAC1C;IACI,qBAAqB;IACrB,gBAAgB;IAChB,YAAY;AAChB;;AAEA;IACI,iCAAiC;IACjC,8BAA8B;IAC9B,6BAA6B;IAC7B,4BAA4B;IAC5B,yBAAyB;;IAEzB,iGAAiG;IACjG,iCAAiC;IACjC,8BAA8B;IAC9B,6BAA6B;IAC7B,4BAA4B;IAC5B,yBAAyB;;IAEzB,qCAAqC;IACrC,gEAAgE;AACpE;;AAEA;IACI,qBAAqB;IACrB,mBAAmB;AACvB;;AAEA;IACI,WAAW;IACX,WAAW;IACX,gBAAgB;AACpB;;AAEA;IACI,2BAA2B;IAC3B,eAAe;IACf,yBAAyB;IACzB,wBAAwB;IACxB,wBAAwB;IACxB,cAAc;IACd,sBAAsB;IACtB,YAAY;IACZ,qBAAqB;IACrB,2BAA2B;IAC3B,iBAAiB;IACjB;kEAC8D;AAClE;;AAEA;IACI,YAAY;AAChB;;AAEA;IACI,YAAY;AAChB;;AAEA;IACI,YAAY;AAChB;;AAEA;IACI,YAAY;AAChB;;AAEA;IACI,YAAY;AAChB;;AAEA;;;IAGI,YAAY;IACZ,gDAAgD;IAChD,cAAc;AAClB;;AAEA;IACI,gDAAgD;IAChD,cAAc;AAClB;;AAEA;IACI,SAAS;IACT,UAAU;AACd;;AAEA;IACI,kBAAkB;IAClB,8BAA8B;IAC9B,kBAAkB;IAClB,YAAY;IACZ,gBAAgB;IAChB,mBAAmB;IACnB,cAAc;IACd,gDAAgD;AACpD;;AAEA;IACI,kBAAkB;IAClB,8BAA8B;IAC9B,kBAAkB;IAClB,uBAAuB;IACvB,YAAY;IACZ,gBAAgB;IAChB,mBAAmB;IACnB,cAAc;IACd,gDAAgD;AACpD;;AAEA;IACI,gBAAgB;AACpB;AACA;IACI,WAAW;IACX,iBAAiB;IACjB,gBAAgB;IAChB,iBAAiB;AACrB;AACA;IACI,YAAY;AAChB;AACA;IACI,WAAW;AACf;;AAEA;IACI,WAAW;IACX,gBAAgB;IAChB,iBAAiB;IACjB,cAAc;AAClB;;AAEA;IACI,yBAAyB;AAC7B;;AAEA;IACI,WAAW;IACX,gBAAgB;AACpB;;AAEA;IACI,gBAAgB;AACpB;;AAEA;IACI,gBAAgB;AACpB;;AAEA;;IAEI,gBAAgB;AACpB;;AAEA;IACI,iBAAiB;AACrB;;AAEA;IACI,iBAAiB;AACrB;;AAEA;IACI,aAAa;AACjB;;AAEA;IACI,kBAAkB;IAClB,8BAA8B;IAC9B,kBAAkB;IAClB,YAAY;IACZ,gBAAgB;IAChB,YAAY;IACZ,mBAAmB;IACnB,cAAc;IACd,gDAAgD;AACpD;;AAEA;IACI,UAAU;IACV,iBAAiB;AACrB;;AAEA;IACI,yBAAyB;IACzB,YAAY;IACZ,uBAAuB;AAC3B;;AAEA;;IAEI,wCAAwC;IACxC,mCAAmC;IACnC,kCAAkC;IAClC,WAAW;IACX,kBAAkB;IAClB,YAAY;IACZ,iBAAiB;IACjB,SAAS;AACb;;AAEA;IACI,yBAAyB;AAC7B;;AAEA;IACI,kBAAkB;IAClB,WAAW;IACX,aAAa;IACb,aAAa;IACb,eAAe;IACf,WAAW;IACX,SAAS;AACb;;AAEA;IACI,gBAAgB;IAChB,qBAAqB;AACzB;;AAEA;IACI,yBAAyB;AAC7B;;AAEA;IACI,kBAAkB;IAClB,WAAW;IACX,YAAY;IACZ,sBAAsB;IACtB,oCAAoC;IACpC,qBAAqB;IACrB,wCAAwC;AAC5C;;AAEA;IACI,kBAAkB;IAClB,QAAQ;IACR,WAAW;IACX,UAAU;IACV,SAAS;IACT,gBAAgB;IAChB,iBAAiB;IACjB,qBAAqB;AACzB;;AAEA;IACI,YAAY;AAChB;;AAEA;IACI,kBAAkB;AACtB;;AAEA;IACI,kBAAkB;AACtB;;AAEA;IACI,kBAAkB;IAClB,WAAW;IACX,YAAY;IACZ,iBAAiB;IACjB,mBAAmB;IACnB,mBAAmB;IACnB,sBAAsB;IACtB,yBAAyB;AAC7B;;AAEA;IACI,MAAM;IACN,OAAO;IACP,kBAAkB;IAClB,YAAY;IACZ,WAAW;AACf;;AAEA;;IAEI,cAAc;IACd,WAAW;IACX,kBAAkB;IAClB,MAAM;IACN,OAAO;IACP,SAAS;IACT,QAAQ;AACZ;;AAEA;IACI,kEAAkE;AACtE;;AAEA;IACI,4EAA4E;AAChF;;AAEA;IACI,kBAAkB;IAClB,iBAAiB;AACrB;;AAEA;IACI,MAAM;IACN,SAAS;IACT,SAAS;IACT,WAAW;IACX,iBAAiB;AACrB;;AAEA;IACI,kBAAkB;IAClB,MAAM;IACN,SAAS;IACT,SAAS;IACT,UAAU;IACV,iBAAiB;AACrB;;AAEA;IACI,OAAO;IACP,QAAQ;IACR,QAAQ;IACR,YAAY;IACZ,iBAAiB;AACrB;;AAEA;IACI,kBAAkB;IAClB,OAAO;IACP,QAAQ;IACR,QAAQ;IACR,WAAW;IACX,gBAAgB;AACpB;;AAEA;IACI,kBAAkB;IAClB,gBAAgB;AACpB;;AAEA;IACI,kBAAkB;IAClB,WAAW;IACX,SAAS;IACT,WAAW;IACX,YAAY;IACZ,iBAAiB;IACjB,mBAAmB;IACnB,mBAAmB;IACnB,gBAAgB;IAChB,gDAAgD;IAChD,yBAAyB;AAC7B;;AAEA;IACI,kBAAkB;IAClB,QAAQ;IACR,WAAW;IACX,YAAY;AAChB;;AAEA;IACI,qLAAqL;AACzL;;AAEA;IACI,kBAAkB;IAClB,aAAa;IACb,SAAS;IACT,UAAU;AACd;;AAEA;IACI,iJAAiJ;IACjJ,wBAAwB;IACxB,WAAW;AACf;;AAEA;IACI,WAAW;IACX,gBAAgB;IAChB,2EAA2E;AAC/E;;AAEA;IACI,YAAY;AAChB;;AAEA;IACI,WAAW;AACf;;AAEA;IACI,WAAW;AACf;;AAEA;IACI,WAAW;AACf",sourcesContent:['@charset "UTF-8";\n@import "../../stdassets/sprites/icons.css";\n/*\n@import "~ol/ol.css";\n@import "~@blueprintjs/core/lib/css/blueprint.css";\n@import "~react-splitter-layout/lib/index.css";\n*/\n\n/* HACK: Clear out any trace of the font icon as HTMLSelect should be using the SVG counterpart */\n.bp3-select:after {\n    content: "";\n}\n\n.legend-label-highlight-text {\n    background-color: yellow;\n}\n\n.mg-toast {\n    z-index: 120;\n}\n\n.map-viewer-component {\n    background-color: white;\n}\n\n.iframe-iehack-zindex {\n    position: absolute;\n    border: none;\n    top: 0;\n    left: 0;\n    height: 100%;\n    width: 100%;\n    z-index: -1;\n}\n\n/* OpenLayers overrides */\n\n.ol-attribution {\n    right: 10px;\n    bottom: 52px;\n    font-family: Verdana, Geneva, Tahoma, sans-serif;\n}\n\n.ol-rotate {\n    top: auto;\n    right: 10px;\n    bottom: 25px;\n}\n\n.ol-rotate button {\n    bottom: 1px;\n    left: auto;\n    right: 1px;\n    top: auto;\n}\n\n.ol-custom-overviewmap,\n.ol-custom-overviewmap.ol-uncollapsible {\n    bottom: 79px;\n    left: auto;\n    right: 10px;\n    top: auto;\n}\n\n.ol-custom-overviewmap:not(.ol-collapsed) {\n    border: 1px solid black;\n}\n\n.ol-custom-overviewmap .ol-overviewmap-map {\n    border: none;\n}\n\n.ol-custom-overviewmap .ol-overviewmap-box {\n    border: 2px solid red;\n}\n\n.ol-custom-overviewmap:not(.ol-collapsed) button {\n    bottom: 1px;\n    left: auto;\n    right: 1px;\n    top: auto;\n}\n\n/* Accordion */\n.component-accordion-panel-header {\n    padding: 3px;\n    cursor: pointer;\n}\n\n/* Selection Panel */\n\n.selection-panel-property-grid {\n    width: 100%;\n}\n\n.selection-panel-layer-selector {\n    max-width: 180px;\n}\n\n.selection-panel-layer-selector select {\n    max-width: 143px;\n}\n\n/* Modal Dialogs */\n\n.modal-dialog {\n    background: #fff;\n    border: 1px solid black;\n    border-radius: 3px;\n    position: absolute;\n    transform: translate(-50%, -50%);\n    z-index: 4999;\n}\n\n.modal-dialog-header {\n    border-top-left-radius: 3px;\n    border-top-right-radius: 3px;\n}\n\n.modal-dialog-body {\n    border-bottom-left-radius: 3px;\n    border-bottom-right-radius: 3px;\n    padding-bottom: 3px;\n}\n\n.modal-dialog-backdrop {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0px;\n    left: 0px;\n    z-index: 4998;\n    background: rgba(0, 0, 0, 0.3);\n}\n\n.mg-flyout-menu-container {\n    position: absolute;\n}\n\n.mg-flyout-component-container {\n    position: absolute;\n    background-color: white;\n    padding: 15px;\n    border-radius: 3px;\n    border: 1px solid black;\n}\n\n/* Toolbar */\n.toolbar-separator-vertical {\n    border-bottom: 1px solid black;\n}\n\n.toolbar-separator-horizontal {\n    border-left: 1px solid black;\n}\n\n.selected-item {\n    border-style: solid;\n}\n\n.mouse-over {\n    cursor: pointer;\n    background: rgb(220, 220, 220);\n    border-style: solid;\n    border-color: rgb(160, 160, 160);\n}\n\n/* Begin QuickPlot */\ndiv.Label {\n    padding: 5px 0px;\n}\n\ndiv.Ctrl {\n    padding: 5px 0px;\n}\n\ndiv.Title {\n    font-size: 14px;\n    font-weight: bold;\n    padding: 10px 0px;\n}\n\ndiv.HPlaceholder5px {\n    font-size: 0px;\n    height: 5px;\n}\n\ndiv.ButtonContainer {\n    padding: 5px 0px;\n    text-align: right;\n}\n\n.FixWidth {\n    width: 100%;\n}\n\ndiv.InfoText {\n    padding: 3px;\n    background-color: #FFFFCC;\n    color: #666666;\n    font-family: Arial, Helvetica, sans-serif;\n    font-size: 8pt;\n}\n\n/* End QuickPlot */\n\n.field,\n.field-label {\n    display: block;\n}\n\n/*\n.error-display {\n    color: #ffffff;\n    background-color: #ff0000;\n    font-size: 0.8em;\n}\n\n.error-header {\n    font-weight: bold;\n}\n*/\n.error-stack {\n    text-decoration: none;\n}\n\n.modal-dialog-header {\n    font-weight: bold;\n    padding: 5px;\n    font-size: 1.1em;\n    background-color: #cdcdcd;\n    border-bottom: 1px solid black;\n}\n\n.modal-dialog-body {\n    padding: 0px;\n}\n\n.context-menu-item-disabled {\n    opacity: 0.4;\n    cursor: none;\n}\n\n/* https://gist.github.com/aiboy/7406727 */\n.rotated-text {\n    display: inline-block;\n    overflow: hidden;\n    width: 1.5em;\n}\n\n.rotated-text-ccw {\n    -webkit-transform: rotate(-90deg);\n    -moz-transform: rotate(-90deg);\n    -ms-transform: rotate(-90deg);\n    -o-transform: rotate(-90deg);\n    transform: rotate(-90deg);\n\n    /* also accepts left, right, top, bottom coordinates; not required, but a good idea for styling */\n    -webkit-transform-origin: 50% 50%;\n    -moz-transform-origin: 50% 50%;\n    -ms-transform-origin: 50% 50%;\n    -o-transform-origin: 50% 50%;\n    transform-origin: 50% 50%;\n\n    /* Should be unset in IE9+ I think. */\n    filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=3);\n}\n\n.rotated-text__inner {\n    display: inline-block;\n    white-space: nowrap;\n}\n\n.rotated-text__inner:before {\n    content: "";\n    float: left;\n    margin-top: 100%;\n}\n\n.noselect {\n    -webkit-touch-callout: none;\n    /* iOS Safari */\n    -webkit-user-select: none;\n    /* Chrome/Safari/Opera */\n    -khtml-user-select: none;\n    /* Konqueror */\n    -moz-user-select: none;\n    /* Firefox */\n    -ms-user-select: none;\n    /* Internet Explorer/Edge */\n    user-select: none;\n    /* Non-prefixed version, currently\n                                    not supported by any browser */\n}\n\n.component-about-dialog-content {\n    padding: 5px;\n}\n\n.component-session-expired {\n    padding: 5px;\n}\n\n.component-measure {\n    padding: 5px;\n}\n\n.component-quick-plot {\n    padding: 5px;\n}\n\n.component-viewer-options {\n    padding: 5px;\n}\n\n.component-mouse-coordinates,\n.component-selected-feature-count,\n.component-view-size {\n    padding: 3px;\n    font-family: Verdana, Geneva, Tahoma, sans-serif;\n    font-size: 8pt;\n}\n\n.component-scale-display {\n    font-family: Verdana, Geneva, Tahoma, sans-serif;\n    font-size: 8pt;\n}\n\n.component-scale-display .scale-input {\n    margin: 0;\n    padding: 0;\n}\n\n.feature-tooltip {\n    position: relative;\n    background: rgb(255, 255, 153);\n    border-radius: 4px;\n    color: black;\n    padding: 4px 8px;\n    white-space: nowrap;\n    font-size: 8pt;\n    font-family: Verdana, Geneva, Tahoma, sans-serif;\n}\n\n.selected-tooltip {\n    position: relative;\n    background: rgb(255, 255, 255);\n    border-radius: 4px;\n    border: 1px solid black;\n    color: black;\n    padding: 4px 8px;\n    white-space: nowrap;\n    font-size: 8pt;\n    font-family: Verdana, Geneva, Tahoma, sans-serif;\n}\n\n.selected-popup-header {\n    min-width: 190px;\n}\n.selected-popup-header div {\n    float: left;\n    font-weight: bold;\n    font-size: 1.3em;\n    margin-right: 5px;\n}\n.selected-popup-header .closer {\n    float: right;\n}\n.selected-popup-header .clearit {\n    clear: both;\n}\n\n.selected-popup-content-wrapper {\n    clear: both;\n    margin-top: 25px;\n    max-height: 300px;\n    overflow: auto;\n}\n\n.selected-popup-cluster-table {\n    border-collapse: collapse;\n}\n\n.selected-popup-content-none {\n    clear: both;\n    margin-top: 20px;\n}\n\n.select-popup-single-link-wrapper {\n    margin-top: 20px;\n}\n\n.selected-popup-single-properties-table {\n    max-width: 400px;\n}\n\n.selected-popup-single-properties-table th,\n.selected-popup-single-properties-table td {\n    text-align: left;\n}\n\n.selected-popup-single-properties-table .property-name-cell {\n    font-weight: bold;\n}\n\n.selected-popup-single-properties-table .property-value-cell {\n    font-weight: none;\n}\n\n.tooltip-hidden {\n    display: none;\n}\n\n.tooltip {\n    position: relative;\n    background: rgba(0, 0, 0, 0.9);\n    border-radius: 4px;\n    color: white;\n    padding: 4px 8px;\n    opacity: 0.7;\n    white-space: nowrap;\n    font-size: 8pt;\n    font-family: Verdana, Geneva, Tahoma, sans-serif;\n}\n\n.tooltip-measure {\n    opacity: 1;\n    font-weight: bold;\n}\n\n.tooltip-static {\n    background-color: #ffcc33;\n    color: black;\n    border: 1px solid white;\n}\n\n.tooltip-measure:before,\n.tooltip-static:before {\n    border-top: 6px solid rgba(0, 0, 0, 0.5);\n    border-right: 6px solid transparent;\n    border-left: 6px solid transparent;\n    content: "";\n    position: absolute;\n    bottom: -6px;\n    margin-left: -7px;\n    left: 50%;\n}\n\n.tooltip-static:before {\n    border-top-color: #ffcc33;\n}\n\n.component-navigator {\n    position: absolute;\n    width: 51px;\n    height: 204px;\n    z-index: 1000;\n    cursor: pointer;\n    right: 10px;\n    top: 10px;\n}\n\n.wms-layer-info-tooltip p {\n    max-width: 250px;\n    word-wrap: break-word;\n}\n\n.bp3-dark {\n    background-color: #30404d;\n}\n\n.colorpicker {\n    position: relative;\n    width: 100%;\n    height: 13em;\n    background-color: #fff;\n    border: 1px solid rgba(0, 0, 0, 0.2);\n    border-radius: 0.25em;\n    box-shadow: 0 3px 6px rgba(0, 0, 0, 0.3);\n}\n\n.map {\n    position: absolute;\n    top: 1em;\n    bottom: 1em;\n    right: 2em;\n    left: 1em;\n    overflow: hidden;\n    user-select: none;\n    border-radius: 0.25em;\n}\n\n.map.active {\n    cursor: none;\n}\n\n.map.dark .pointer {\n    border-color: #fff;\n}\n\n.map.light .pointer {\n    border-color: #000;\n}\n\n.map .pointer {\n    position: absolute;\n    width: 10px;\n    height: 10px;\n    margin-left: -5px;\n    margin-bottom: -5px;\n    border-radius: 100%;\n    border: 1px solid #000;\n    will-change: left, bottom;\n}\n\n.map .background {\n    top: 0;\n    left: 0;\n    position: absolute;\n    height: 100%;\n    width: 100%;\n}\n\n.map .background:before,\n.map .background:after {\n    display: block;\n    content: \'\';\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n}\n\n.map .background:after {\n    background: linear-gradient(to bottom, transparent 0%, black 100%);\n}\n\n.map .background:before {\n    background: linear-gradient(to right, white 0%, rgba(255, 255, 255, 0) 100%);\n}\n\n.slider {\n    position: absolute;\n    user-select: none;\n}\n\n.slider.vertical {\n    top: 0;\n    bottom: 0;\n    left: 50%;\n    width: 10px;\n    cursor: ns-resize;\n}\n\n.slider.vertical .track {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 50%;\n    width: 8px;\n    margin-left: -4px;\n}\n\n.slider.horizontal {\n    left: 0;\n    right: 0;\n    top: 50%;\n    height: 10px;\n    cursor: ew-resize;\n}\n\n.slider.horizontal .track {\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 50%;\n    height: 8px;\n    margin-top: -4px;\n}\n\n.slider .track {\n    border-radius: 3px;\n    background: #888;\n}\n\n.slider .pointer {\n    position: absolute;\n    bottom: 50%;\n    left: 50%;\n    width: 16px;\n    height: 16px;\n    margin-left: -8px;\n    margin-bottom: -8px;\n    border-radius: 16px;\n    background: #fff;\n    box-shadow: inset 0 0 0 1px #ccc, 0 1px 2px #ccc;\n    will-change: left, bottom;\n}\n\n.hue-slider {\n    position: absolute;\n    top: 1em;\n    bottom: 1em;\n    right: 1.3em;\n}\n\n.hue-slider .track {\n    background: linear-gradient(to bottom, #FF0000 0%, #FF0099 10%, #CD00FF 20%, #3200FF 30%, #0066FF 40%, #00FFFD 50%, #00FF66 60%, #35FF00 70%, #CDFF00 80%, #FF9900 90%, #FF0000 100%);\n}\n\n.opacity-slider {\n    position: absolute;\n    bottom: 1.3em;\n    left: 1em;\n    right: 2em;\n}\n\n.opacity-slider .slider {\n    background: #fff url("data:image/gif;base64,R0lGODdhEAAQAPEAAMvLy8zMzP///wAAACwAAAAAEAAQAEACHYxvosstCAEMrq6Jj812Y59NIDQipdY5XLWqH4sVADs=") repeat;\n    background-size: 8px 8px;\n    height: 8px;\n}\n\n.opacity-slider .slider .track {\n    height: 8px;\n    margin-top: -4px;\n    background: linear-gradient(to right, rgba(255, 255, 255, 0) 0%, #FFF 100%);\n}\n\n.with-opacity-slider {\n    height: 14em;\n}\n\n.with-opacity-slider .map {\n    bottom: 2em;\n}\n\n.with-opacity-slider .hue-slider {\n    bottom: 2em;\n}\n\n.react-colorful {\n    width: 100%;\n}'],sourceRoot:""}]),__webpack_exports__.Z=___CSS_LOADER_EXPORT___},45546:function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(516),_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(93694),_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__),_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(74608),_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2__),_icons_png__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(82884),___CSS_LOADER_EXPORT___=_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()(_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()),___CSS_LOADER_URL_REPLACEMENT_0___=_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(_icons_png__WEBPACK_IMPORTED_MODULE_3__);___CSS_LOADER_EXPORT___.push([module.id,"/* glue: 0.13 hash: 28fada1b84 */\n        .PoweredBy_en,\n.zoom-out-fixed,\n.zoom-in,\n.zoom-in-fixed,\n.zoom-full,\n.zoom-dynamic,\n.view-refresh,\n.view-forward,\n.view-back,\n.ui-menu,\n.toggle,\n.toggle-expand,\n.theme,\n.select,\n.select-zoom,\n.select-radius,\n.select-polygon,\n.select-features,\n.select-clear,\n.select-centre,\n.search,\n.redline,\n.query,\n.property,\n.print,\n.preview,\n.pan,\n.pan-west,\n.pan-south,\n.pan-north,\n.pan-east,\n.overview-map,\n.out-of-range,\n.options,\n.measure,\n.maptip,\n.legend-theme,\n.legend-raster,\n.legend-map,\n.legend-layer,\n.legend-DWF,\n.lc_unselect,\n.layer_add,\n.invoke-url,\n.invoke-script,\n.initial-center,\n.info,\n.icon_zoomselect,\n.icon_warning,\n.icon_select,\n.icon_refreshmap,\n.icon_menuarrowup_disabled,\n.icon_menuarrowup,\n.icon_menuarrow_disabled,\n.icon_menuarrow,\n.icon_home,\n.icon_error,\n.iconNavigator,\n.help,\n.globe_add,\n.globe-share,\n.geolocation,\n.forward,\n.folder-horizontal,\n.folder-horizontal-open,\n.file-save,\n.file-print,\n.feature-info,\n.edit-xml,\n.edit-paste,\n.edit-duplicate,\n.edit-cut,\n.edit-copy,\n.coordinate-tracker,\n.control,\n.control-stop,\n.control-stop-180,\n.control-180,\n.buffer,\n.back,\n.application-browser,\n.about {\n            background-image: url("+___CSS_LOADER_URL_REPLACEMENT_0___+");\n            background-repeat: no-repeat;\n        }\n        \n        .PoweredBy_en {\n            background-position: 0 0;\n            width: 136px;\n            height: 19px;\n        }\n        \n        .zoom-out-fixed {\n            background-position: 0 -19px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .zoom-in {\n            background-position: -16px -19px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .zoom-in-fixed {\n            background-position: -32px -19px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .zoom-full {\n            background-position: -48px -19px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .zoom-dynamic {\n            background-position: -64px -19px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .view-refresh {\n            background-position: -80px -19px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .view-forward {\n            background-position: -96px -19px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .view-back {\n            background-position: -112px -19px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .ui-menu {\n            background-position: 0 -35px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .toggle {\n            background-position: -16px -35px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .toggle-expand {\n            background-position: -32px -35px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .theme {\n            background-position: -48px -35px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .select {\n            background-position: -64px -35px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .select-zoom {\n            background-position: -80px -35px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .select-radius {\n            background-position: -96px -35px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .select-polygon {\n            background-position: -112px -35px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .select-features {\n            background-position: 0 -51px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .select-clear {\n            background-position: -16px -51px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .select-centre {\n            background-position: -32px -51px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .search {\n            background-position: -48px -51px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .redline {\n            background-position: -64px -51px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .query {\n            background-position: -80px -51px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .property {\n            background-position: -96px -51px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .print {\n            background-position: -112px -51px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .preview {\n            background-position: 0 -67px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .pan {\n            background-position: -16px -67px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .pan-west {\n            background-position: -32px -67px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .pan-south {\n            background-position: -48px -67px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .pan-north {\n            background-position: -64px -67px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .pan-east {\n            background-position: -80px -67px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .overview-map {\n            background-position: -96px -67px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .out-of-range {\n            background-position: -112px -67px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .options {\n            background-position: 0 -83px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .measure {\n            background-position: -16px -83px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .maptip {\n            background-position: -32px -83px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .legend-theme {\n            background-position: -48px -83px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .legend-raster {\n            background-position: -64px -83px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .legend-map {\n            background-position: -80px -83px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .legend-layer {\n            background-position: -96px -83px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .legend-DWF {\n            background-position: -112px -83px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .lc_unselect {\n            background-position: 0 -99px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .layer_add {\n            background-position: -16px -99px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .invoke-url {\n            background-position: -32px -99px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .invoke-script {\n            background-position: -48px -99px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .initial-center {\n            background-position: -64px -99px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .info {\n            background-position: -80px -99px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .icon_zoomselect {\n            background-position: -96px -99px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .icon_warning {\n            background-position: -112px -99px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .icon_select {\n            background-position: 0 -115px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .icon_refreshmap {\n            background-position: -16px -115px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .icon_menuarrowup_disabled {\n            background-position: -32px -115px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .icon_menuarrowup {\n            background-position: -48px -115px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .icon_menuarrow_disabled {\n            background-position: -64px -115px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .icon_menuarrow {\n            background-position: -80px -115px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .icon_home {\n            background-position: -96px -115px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .icon_error {\n            background-position: -112px -115px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .iconNavigator {\n            background-position: -136px 0;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .help {\n            background-position: -136px -16px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .globe_add {\n            background-position: -136px -32px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .globe-share {\n            background-position: -136px -48px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .geolocation {\n            background-position: -136px -64px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .forward {\n            background-position: -136px -80px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .folder-horizontal {\n            background-position: -136px -96px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .folder-horizontal-open {\n            background-position: -136px -112px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .file-save {\n            background-position: 0 -131px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .file-print {\n            background-position: -16px -131px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .feature-info {\n            background-position: -32px -131px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .edit-xml {\n            background-position: -48px -131px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .edit-paste {\n            background-position: -64px -131px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .edit-duplicate {\n            background-position: -80px -131px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .edit-cut {\n            background-position: -96px -131px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .edit-copy {\n            background-position: -112px -131px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .coordinate-tracker {\n            background-position: -128px -131px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .control {\n            background-position: -152px 0;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .control-stop {\n            background-position: -152px -16px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .control-stop-180 {\n            background-position: -152px -32px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .control-180 {\n            background-position: -152px -48px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .buffer {\n            background-position: -152px -64px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .back {\n            background-position: -152px -80px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .application-browser {\n            background-position: -152px -96px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .about {\n            background-position: -152px -112px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        @media screen and (-webkit-min-device-pixel-ratio: 1.0), screen and (min--moz-device-pixel-ratio: 1.0), screen and (-o-min-device-pixel-ratio: 100/100), screen and (min-device-pixel-ratio: 1.0), screen and (min-resolution: 1.0dppx) {\n            .PoweredBy_en,\n    .zoom-out-fixed,\n    .zoom-in,\n    .zoom-in-fixed,\n    .zoom-full,\n    .zoom-dynamic,\n    .view-refresh,\n    .view-forward,\n    .view-back,\n    .ui-menu,\n    .toggle,\n    .toggle-expand,\n    .theme,\n    .select,\n    .select-zoom,\n    .select-radius,\n    .select-polygon,\n    .select-features,\n    .select-clear,\n    .select-centre,\n    .search,\n    .redline,\n    .query,\n    .property,\n    .print,\n    .preview,\n    .pan,\n    .pan-west,\n    .pan-south,\n    .pan-north,\n    .pan-east,\n    .overview-map,\n    .out-of-range,\n    .options,\n    .measure,\n    .maptip,\n    .legend-theme,\n    .legend-raster,\n    .legend-map,\n    .legend-layer,\n    .legend-DWF,\n    .lc_unselect,\n    .layer_add,\n    .invoke-url,\n    .invoke-script,\n    .initial-center,\n    .info,\n    .icon_zoomselect,\n    .icon_warning,\n    .icon_select,\n    .icon_refreshmap,\n    .icon_menuarrowup_disabled,\n    .icon_menuarrowup,\n    .icon_menuarrow_disabled,\n    .icon_menuarrow,\n    .icon_home,\n    .icon_error,\n    .iconNavigator,\n    .help,\n    .globe_add,\n    .globe-share,\n    .geolocation,\n    .forward,\n    .folder-horizontal,\n    .folder-horizontal-open,\n    .file-save,\n    .file-print,\n    .feature-info,\n    .edit-xml,\n    .edit-paste,\n    .edit-duplicate,\n    .edit-cut,\n    .edit-copy,\n    .coordinate-tracker,\n    .control,\n    .control-stop,\n    .control-stop-180,\n    .control-180,\n    .buffer,\n    .back,\n    .application-browser,\n    .about {\n                background-image: url("+___CSS_LOADER_URL_REPLACEMENT_0___+");\n                -webkit-background-size: 168px 147px;\n                -moz-background-size: 168px 147px;\n                background-size: 168px 147px;\n            }\n        }\n        ","",{version:3,sources:["webpack://./stdassets/sprites/icons.css"],names:[],mappings:"AAAA,gCAAgC;QACxB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;YAkFI,yDAAkC;YAClC,4BAA4B;QAChC;;QAEA;YACI,wBAAwB;YACxB,YAAY;YACZ,YAAY;QAChB;;QAEA;YACI,4BAA4B;YAC5B,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,gCAAgC;YAChC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,gCAAgC;YAChC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,gCAAgC;YAChC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,gCAAgC;YAChC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,gCAAgC;YAChC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,gCAAgC;YAChC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,iCAAiC;YACjC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,4BAA4B;YAC5B,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,gCAAgC;YAChC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,gCAAgC;YAChC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,gCAAgC;YAChC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,gCAAgC;YAChC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,gCAAgC;YAChC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,gCAAgC;YAChC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,iCAAiC;YACjC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,4BAA4B;YAC5B,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,gCAAgC;YAChC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,gCAAgC;YAChC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,gCAAgC;YAChC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,gCAAgC;YAChC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,gCAAgC;YAChC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,gCAAgC;YAChC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,iCAAiC;YACjC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,4BAA4B;YAC5B,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,gCAAgC;YAChC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,gCAAgC;YAChC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,gCAAgC;YAChC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,gCAAgC;YAChC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,gCAAgC;YAChC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,gCAAgC;YAChC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,iCAAiC;YACjC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,4BAA4B;YAC5B,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,gCAAgC;YAChC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,gCAAgC;YAChC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,gCAAgC;YAChC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,gCAAgC;YAChC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,gCAAgC;YAChC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,gCAAgC;YAChC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,iCAAiC;YACjC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,4BAA4B;YAC5B,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,gCAAgC;YAChC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,gCAAgC;YAChC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,gCAAgC;YAChC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,gCAAgC;YAChC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,gCAAgC;YAChC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,gCAAgC;YAChC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,iCAAiC;YACjC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,6BAA6B;YAC7B,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,iCAAiC;YACjC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,iCAAiC;YACjC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,iCAAiC;YACjC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,iCAAiC;YACjC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,iCAAiC;YACjC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,iCAAiC;YACjC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,kCAAkC;YAClC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,6BAA6B;YAC7B,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,iCAAiC;YACjC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,iCAAiC;YACjC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,iCAAiC;YACjC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,iCAAiC;YACjC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,iCAAiC;YACjC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,iCAAiC;YACjC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,kCAAkC;YAClC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,6BAA6B;YAC7B,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,iCAAiC;YACjC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,iCAAiC;YACjC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,iCAAiC;YACjC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,iCAAiC;YACjC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,iCAAiC;YACjC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,iCAAiC;YACjC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,kCAAkC;YAClC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,kCAAkC;YAClC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,6BAA6B;YAC7B,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,iCAAiC;YACjC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,iCAAiC;YACjC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,iCAAiC;YACjC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,iCAAiC;YACjC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,iCAAiC;YACjC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,iCAAiC;YACjC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI,kCAAkC;YAClC,WAAW;YACX,YAAY;QAChB;;QAEA;YACI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;gBAkFI,yDAAkC;gBAClC,oCAAoC;gBACpC,iCAAiC;gBACjC,4BAA4B;YAChC;QACJ",sourcesContent:["/* glue: 0.13 hash: 28fada1b84 */\n        .PoweredBy_en,\n.zoom-out-fixed,\n.zoom-in,\n.zoom-in-fixed,\n.zoom-full,\n.zoom-dynamic,\n.view-refresh,\n.view-forward,\n.view-back,\n.ui-menu,\n.toggle,\n.toggle-expand,\n.theme,\n.select,\n.select-zoom,\n.select-radius,\n.select-polygon,\n.select-features,\n.select-clear,\n.select-centre,\n.search,\n.redline,\n.query,\n.property,\n.print,\n.preview,\n.pan,\n.pan-west,\n.pan-south,\n.pan-north,\n.pan-east,\n.overview-map,\n.out-of-range,\n.options,\n.measure,\n.maptip,\n.legend-theme,\n.legend-raster,\n.legend-map,\n.legend-layer,\n.legend-DWF,\n.lc_unselect,\n.layer_add,\n.invoke-url,\n.invoke-script,\n.initial-center,\n.info,\n.icon_zoomselect,\n.icon_warning,\n.icon_select,\n.icon_refreshmap,\n.icon_menuarrowup_disabled,\n.icon_menuarrowup,\n.icon_menuarrow_disabled,\n.icon_menuarrow,\n.icon_home,\n.icon_error,\n.iconNavigator,\n.help,\n.globe_add,\n.globe-share,\n.geolocation,\n.forward,\n.folder-horizontal,\n.folder-horizontal-open,\n.file-save,\n.file-print,\n.feature-info,\n.edit-xml,\n.edit-paste,\n.edit-duplicate,\n.edit-cut,\n.edit-copy,\n.coordinate-tracker,\n.control,\n.control-stop,\n.control-stop-180,\n.control-180,\n.buffer,\n.back,\n.application-browser,\n.about {\n            background-image: url('icons.png');\n            background-repeat: no-repeat;\n        }\n        \n        .PoweredBy_en {\n            background-position: 0 0;\n            width: 136px;\n            height: 19px;\n        }\n        \n        .zoom-out-fixed {\n            background-position: 0 -19px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .zoom-in {\n            background-position: -16px -19px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .zoom-in-fixed {\n            background-position: -32px -19px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .zoom-full {\n            background-position: -48px -19px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .zoom-dynamic {\n            background-position: -64px -19px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .view-refresh {\n            background-position: -80px -19px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .view-forward {\n            background-position: -96px -19px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .view-back {\n            background-position: -112px -19px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .ui-menu {\n            background-position: 0 -35px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .toggle {\n            background-position: -16px -35px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .toggle-expand {\n            background-position: -32px -35px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .theme {\n            background-position: -48px -35px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .select {\n            background-position: -64px -35px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .select-zoom {\n            background-position: -80px -35px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .select-radius {\n            background-position: -96px -35px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .select-polygon {\n            background-position: -112px -35px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .select-features {\n            background-position: 0 -51px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .select-clear {\n            background-position: -16px -51px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .select-centre {\n            background-position: -32px -51px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .search {\n            background-position: -48px -51px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .redline {\n            background-position: -64px -51px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .query {\n            background-position: -80px -51px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .property {\n            background-position: -96px -51px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .print {\n            background-position: -112px -51px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .preview {\n            background-position: 0 -67px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .pan {\n            background-position: -16px -67px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .pan-west {\n            background-position: -32px -67px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .pan-south {\n            background-position: -48px -67px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .pan-north {\n            background-position: -64px -67px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .pan-east {\n            background-position: -80px -67px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .overview-map {\n            background-position: -96px -67px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .out-of-range {\n            background-position: -112px -67px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .options {\n            background-position: 0 -83px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .measure {\n            background-position: -16px -83px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .maptip {\n            background-position: -32px -83px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .legend-theme {\n            background-position: -48px -83px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .legend-raster {\n            background-position: -64px -83px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .legend-map {\n            background-position: -80px -83px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .legend-layer {\n            background-position: -96px -83px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .legend-DWF {\n            background-position: -112px -83px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .lc_unselect {\n            background-position: 0 -99px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .layer_add {\n            background-position: -16px -99px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .invoke-url {\n            background-position: -32px -99px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .invoke-script {\n            background-position: -48px -99px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .initial-center {\n            background-position: -64px -99px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .info {\n            background-position: -80px -99px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .icon_zoomselect {\n            background-position: -96px -99px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .icon_warning {\n            background-position: -112px -99px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .icon_select {\n            background-position: 0 -115px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .icon_refreshmap {\n            background-position: -16px -115px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .icon_menuarrowup_disabled {\n            background-position: -32px -115px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .icon_menuarrowup {\n            background-position: -48px -115px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .icon_menuarrow_disabled {\n            background-position: -64px -115px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .icon_menuarrow {\n            background-position: -80px -115px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .icon_home {\n            background-position: -96px -115px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .icon_error {\n            background-position: -112px -115px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .iconNavigator {\n            background-position: -136px 0;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .help {\n            background-position: -136px -16px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .globe_add {\n            background-position: -136px -32px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .globe-share {\n            background-position: -136px -48px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .geolocation {\n            background-position: -136px -64px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .forward {\n            background-position: -136px -80px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .folder-horizontal {\n            background-position: -136px -96px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .folder-horizontal-open {\n            background-position: -136px -112px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .file-save {\n            background-position: 0 -131px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .file-print {\n            background-position: -16px -131px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .feature-info {\n            background-position: -32px -131px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .edit-xml {\n            background-position: -48px -131px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .edit-paste {\n            background-position: -64px -131px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .edit-duplicate {\n            background-position: -80px -131px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .edit-cut {\n            background-position: -96px -131px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .edit-copy {\n            background-position: -112px -131px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .coordinate-tracker {\n            background-position: -128px -131px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .control {\n            background-position: -152px 0;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .control-stop {\n            background-position: -152px -16px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .control-stop-180 {\n            background-position: -152px -32px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .control-180 {\n            background-position: -152px -48px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .buffer {\n            background-position: -152px -64px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .back {\n            background-position: -152px -80px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .application-browser {\n            background-position: -152px -96px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .about {\n            background-position: -152px -112px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        @media screen and (-webkit-min-device-pixel-ratio: 1.0), screen and (min--moz-device-pixel-ratio: 1.0), screen and (-o-min-device-pixel-ratio: 100/100), screen and (min-device-pixel-ratio: 1.0), screen and (min-resolution: 1.0dppx) {\n            .PoweredBy_en,\n    .zoom-out-fixed,\n    .zoom-in,\n    .zoom-in-fixed,\n    .zoom-full,\n    .zoom-dynamic,\n    .view-refresh,\n    .view-forward,\n    .view-back,\n    .ui-menu,\n    .toggle,\n    .toggle-expand,\n    .theme,\n    .select,\n    .select-zoom,\n    .select-radius,\n    .select-polygon,\n    .select-features,\n    .select-clear,\n    .select-centre,\n    .search,\n    .redline,\n    .query,\n    .property,\n    .print,\n    .preview,\n    .pan,\n    .pan-west,\n    .pan-south,\n    .pan-north,\n    .pan-east,\n    .overview-map,\n    .out-of-range,\n    .options,\n    .measure,\n    .maptip,\n    .legend-theme,\n    .legend-raster,\n    .legend-map,\n    .legend-layer,\n    .legend-DWF,\n    .lc_unselect,\n    .layer_add,\n    .invoke-url,\n    .invoke-script,\n    .initial-center,\n    .info,\n    .icon_zoomselect,\n    .icon_warning,\n    .icon_select,\n    .icon_refreshmap,\n    .icon_menuarrowup_disabled,\n    .icon_menuarrowup,\n    .icon_menuarrow_disabled,\n    .icon_menuarrow,\n    .icon_home,\n    .icon_error,\n    .iconNavigator,\n    .help,\n    .globe_add,\n    .globe-share,\n    .geolocation,\n    .forward,\n    .folder-horizontal,\n    .folder-horizontal-open,\n    .file-save,\n    .file-print,\n    .feature-info,\n    .edit-xml,\n    .edit-paste,\n    .edit-duplicate,\n    .edit-cut,\n    .edit-copy,\n    .coordinate-tracker,\n    .control,\n    .control-stop,\n    .control-stop-180,\n    .control-180,\n    .buffer,\n    .back,\n    .application-browser,\n    .about {\n                background-image: url('icons.png');\n                -webkit-background-size: 168px 147px;\n                -moz-background-size: 168px 147px;\n                background-size: 168px 147px;\n            }\n        }\n        "],sourceRoot:""}]),__webpack_exports__.Z=___CSS_LOADER_EXPORT___},71579:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_storybook_builder_webpack5_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(16785),_node_modules_storybook_builder_webpack5_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_storybook_builder_webpack5_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_3_use_1_accordion_slate_css__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(64157),options={insert:"head",singleton:!1};_node_modules_storybook_builder_webpack5_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_3_use_1_accordion_slate_css__WEBPACK_IMPORTED_MODULE_1__.Z,options);__webpack_exports__.default=_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_3_use_1_accordion_slate_css__WEBPACK_IMPORTED_MODULE_1__.Z.locals||{}},68460:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_storybook_builder_webpack5_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(16785),_node_modules_storybook_builder_webpack5_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_storybook_builder_webpack5_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_3_use_1_index_css__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(97411),options={insert:"head",singleton:!1};_node_modules_storybook_builder_webpack5_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_3_use_1_index_css__WEBPACK_IMPORTED_MODULE_1__.Z,options);__webpack_exports__.default=_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_3_use_1_index_css__WEBPACK_IMPORTED_MODULE_1__.Z.locals||{}},61568:function(module,__unused_webpack_exports,__webpack_require__){var map={"./1.map.stories.tsx":75876,"./2.common.stories.tsx":63914,"./3.accordion.stories.tsx":42516};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=61568},16863:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/digitizeCircle.8f5511f8..cur"},82496:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/digitizeLine.2650c31f..cur"},54474:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/digitizeLineString.88318bfb..cur"},28664:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/digitizePoint.986e1fc1..cur"},27497:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/digitizePolygon.47104b86..cur"},93081:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/digitizeRectangle.a38226db..cur"},66173:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/grab.ef24d12f..cur"},97902:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/grabbing.6b8e268b..cur"},72449:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/zoomin.8af1ddc1..cur"},70497:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/PoweredBy_en.a16db0c1..png"},82504:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/about.9ae862d5..png"},71382:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/application-browser.5566ab66..png"},22354:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/back.0bfae60b..png"},22049:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/buffer.2bea9b86..png"},18877:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/control-180.4b59e470..png"},3586:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/control-stop-180.cbd80f39..png"},61423:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/control-stop.9bce6270..png"},9069:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/control.dfb75b7d..png"},83297:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/coordinate-tracker.f310367b..png"},1231:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/edit-copy.bd89b4f7..png"},19219:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/edit-cut.b3192526..png"},48305:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/edit-duplicate.bd89b4f7..png"},91276:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/edit-paste.40e11daf..png"},17022:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/edit-xml.192c807b..png"},78301:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/feature-info.1666db74..png"},47501:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/file-print.497994c0..png"},35090:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/file-save.9dc94934..png"},26445:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/folder-horizontal-open.ccf3809d..png"},41903:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/folder-horizontal.46fd3b72..png"},78918:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/forward.d3fc22b0..png"},4697:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/geolocation.669ce652..png"},55096:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/globe-share.7ddd8e7e..png"},36279:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/globe_add.a38efd35..png"},8019:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/help.0b126a02..png"},85381:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/iconNavigator.56be6753..png"},44809:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/icon_home.043fb602..png"},17501:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/icon_menuarrow.e922a13b..png"},34586:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/icon_menuarrow_disabled.d5a7d020..png"},89157:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/icon_menuarrowup.5ece0b8a..png"},83341:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/icon_menuarrowup_disabled.63e1fa5b..png"},20086:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/icon_refreshmap.4d4af6c0..png"},46435:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/icon_warning.b3a78575..png"},95212:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/icon_zoomselect.c469c851..png"},87794:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/info.3bcf2254..png"},13584:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/initial-center.e84cc07c..png"},55091:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/invoke-script.8d8f0e62..png"},92761:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/invoke-url.9910f3d0..png"},93485:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/layer_add.55596f47..png"},39472:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/lc_unselect.1907889b..png"},99392:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/legend-DWF.dbf851d8..png"},53328:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/legend-layer.6495c7af..png"},67436:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/legend-map.3fa3dfb5..png"},8826:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/legend-raster.b33560f4..png"},72417:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/legend-theme.64ff1086..png"},72407:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/maptip.c526161e..png"},38529:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/measure.060a9e98..png"},85859:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/options.e17ed016..png"},10423:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/out-of-range.ba23adb3..png"},53556:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/overview-map.6eff1977..png"},10196:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/pan-east.4b3725c0..png"},80511:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/pan-north.02e9494c..png"},78808:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/pan-south.7c4598fa..png"},94276:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/pan-west.ca608e83..png"},13046:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/pan.557ba2cc..png"},31192:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/preview.632354a7..png"},45465:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/print.497994c0..png"},94745:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/property.d27ad0dd..png"},31484:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/query.f14412de..png"},83854:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/redline.734f5caf..png"},44578:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/search.b58589ee..png"},69054:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/select-centre.ed121b4d..png"},47105:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/select-clear.6e8bcba0..png"},46471:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/select-features.15e6a704..png"},34386:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/select-polygon.45e6c966..png"},48546:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/select-radius.a173d845..png"},23494:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/select-zoom.1124bb33..png"},98419:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/select.fae86715..png"},47961:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/theme.fb950289..png"},38283:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/toggle-expand.e0222447..png"},4021:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/toggle.dfbd83b4..png"},83301:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/ui-menu.04323ae0..png"},57123:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/view-back.3ff7e3df..png"},68556:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/view-forward.067b90ad..png"},32363:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/view-refresh.2c341aa2..png"},56357:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/zoom-dynamic.4fa8375b..png"},85407:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/zoom-full.28a11792..png"},89706:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/zoom-in-fixed.877048f1..png"},99776:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/zoom-in.a2525370..png"},83946:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/zoom-out-fixed.f7425b1f..png"},98962:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/slider.b92696b9..png"},45540:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/sliderscale.0841e59b..png"},68545:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/spinner.967a01c1..gif"},82884:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"static/media/icons.1bda79aa..png"},24654:function(){},22086:function(module){"use strict";module.exports=JSON.parse('{"ApplicationDefinition":{"@xmlns:xsd":["http://www.w3.org/2001/XMLSchema"],"@xmlns:xsi":["http://www.w3.org/2001/XMLSchema-instance"],"@xsi:noNamespaceSchemaLocation":["ApplicationDefinition-1.0.0.xsd"],"Extension":[{"OpenStreetMapScript":["http://www.openstreetmap.org/openlayers/OpenStreetMap.js"],"StamenScript":["http://maps.stamen.com/js/tile.stamen.js?v1.3.0"]}],"MapSet":[{"MapGroup":[{"@id":["Sheboygan"],"Map":[{"Extension":[{"ResourceId":["Library://Samples/Sheboygan/Maps/Sheboygan.MapDefinition"]}],"SingleTile":["True"],"Type":["MapGuide"]},{"Extension":[{"Options":[{"name":["Stamen (Toner)"],"type":["toner"]}]}],"SingleTile":["true"],"Type":["Stamen"]},{"Extension":[{"Options":[{"name":["Open Street Map"],"type":["Mapnik"]}]}],"SingleTile":["true"],"Type":["OpenStreetMap"]}]},{"@id":["Redding"],"Map":[{"Extension":[{"Options":[{"isBaseLayer":["false"],"projection":["EPSG:900913"],"useOverlay":["true"]}],"ResourceId":["Library://Redding/Maps/Redding.MapDefinition"]}],"SingleTile":["True"],"Type":["MapGuide"]},{"Extension":[{"Options":[{"name":["Stamen (Toner)"],"type":["toner"]}]}],"SingleTile":["true"],"Type":["Stamen"]},{"Extension":[{"Options":[{"name":["Open Street Map"],"type":["Mapnik"]}]}],"SingleTile":["true"],"Type":["OpenStreetMap"]}]},{"@id":["Melbourne"],"Map":[{"Extension":[{"Options":[{"isBaseLayer":["false"],"projection":["EPSG:900913"],"useOverlay":["true"]}],"ResourceId":["Library://Samples/Melbourne/Maps/Melbourne.MapDefinition"]}],"SingleTile":["True"],"Type":["MapGuide"]},{"Extension":[{"Options":[{"name":["Stamen (Toner)"],"type":["toner"]}]}],"SingleTile":["true"],"Type":["Stamen"]},{"Extension":[{"Options":[{"name":["Open Street Map"],"type":["Mapnik"]}]}],"SingleTile":["true"],"Type":["OpenStreetMap"]}]}]}],"TemplateUrl":["fusion/templates/mapguide/slate/index.html"],"Title":["Slate"],"WidgetSet":[{"Container":[{"@xsi:type":["UiItemContainerType"],"Extension":null,"Item":[{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["Print"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["QuickPlot"]},{"@xsi:type":["SeparatorItemType"],"Function":["Separator"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["RefreshMap"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["Maptip"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["SelectRadius"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["SelectPolygon"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["ClearSelection"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["tbBuffer"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["Measure"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["FeatureInfo"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["Query"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["Theme"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["Redline"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["ViewOptions"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["About"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["Help"]}],"Name":["Toolbar"],"Position":["top"],"Type":["Toolbar"]},{"@xsi:type":["UiItemContainerType"],"Extension":null,"Item":[{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["Select"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["Pan"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["Zoom"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["ZoomIn"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["ZoomOut"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["InitialMapView"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["ZoomToSelection"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["PreviousView"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["NextView"]}],"Name":["ToolbarSecondary"],"Position":["top"],"Type":["Toolbar"]},{"@xsi:type":["UiItemContainerType"],"Extension":null,"Item":[{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["vertSelect"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["vertPan"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["vertZoom"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["vertZoomIn"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["vertZoomOut"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["vertInitialMapView"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["vertZoomToSelection"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["vertPreviousView"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["vertNextView"]}],"Name":["ToolbarVertical"],"Position":["left"],"Type":["Toolbar"]},{"@xsi:type":["UiItemContainerType"],"Extension":null,"Item":[{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["MapMenu"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["BasemapSwitcher"]},{"@xsi:type":["FlyoutItemType"],"Function":["Flyout"],"Item":[{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["showOverview"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["showTaskPane"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["showLegend"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["showSelectionPanel"]}],"Label":["View"]},{"@xsi:type":["FlyoutItemType"],"Function":["Flyout"],"Item":[{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["ViewerApiExample"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["DrawingExample"]}],"Label":["Viewer API"]},{"@xsi:type":["FlyoutItemType"],"Function":["Flyout"],"Item":[{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["AddExternalLayers"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["ShareLink"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["Geolocation"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["CoordinateTracker"]}],"Label":["Tools"]}],"Name":["FileMenu"],"Position":["top"],"Type":["Toolbar"]},{"@xsi:type":["UiItemContainerType"],"Extension":null,"Item":[{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["statusCoordinates"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["statusSelection"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["EditableScale"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["statusViewSize"]}],"Name":["Statusbar"],"Position":["bottom"],"Type":["Splitterbar"]},{"@xsi:type":["UiItemContainerType"],"Extension":null,"Item":[{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["RefreshMap"]},{"@xsi:type":["SeparatorItemType"],"Function":["Separator"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["Pan"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["Zoom"]},{"@xsi:type":["SeparatorItemType"],"Function":["Separator"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["ZoomIn"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["ZoomOut"]},{"@xsi:type":["SeparatorItemType"],"Function":["Separator"]},{"@xsi:type":["FlyoutItemType"],"Function":["Flyout"],"Label":["Zoom"]},{"@xsi:type":["SeparatorItemType"],"Function":["Separator"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["Select"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["ClearSelection"]},{"@xsi:type":["FlyoutItemType"],"Function":["Flyout"],"Label":["Select More"]},{"@xsi:type":["SeparatorItemType"],"Function":["Separator"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["tbBuffer"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["Measure"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["FeatureInfo"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["Query"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["Theme"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["Redline"]},{"@xsi:type":["SeparatorItemType"],"Function":["Separator"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["ViewOptions"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["Help"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["About"]}],"Name":["MapContextMenu"],"Position":["top"],"Type":["ContextMenu"]},{"@xsi:type":["UiItemContainerType"],"Extension":null,"Item":[{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["Measure"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["tbBuffer"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["FeatureInfo"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["Query"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["Theme"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["Redline"]}],"Name":["TaskMenu"],"Position":["top"],"Type":["ContextMenu"]}],"MapWidget":[{"Extension":[{"MenuContainer":["MapContextMenu"]}],"MapId":["Sheboygan"],"Name":["Map"],"Type":["Map"]}],"Widget":[{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"AboutURL":["widgets/About/About.html"]}],"ImageClass":["about"],"ImageUrl":["images/icons.png"],"Label":["About"],"Location":null,"Name":["About"],"StatusText":null,"Tooltip":["Click to show information about this application"],"Type":["About"]},{"Extension":[{}],"Location":null,"Name":["ActivityIndicator"],"Type":["ActivityIndicator"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":null,"ImageClass":["options"],"ImageUrl":["images/icons.png"],"Label":["External Providers"],"Location":null,"Name":["BasemapSwitcher"],"StatusText":null,"Tooltip":["Click to change the basemap"],"Type":["BasemapSwitcher"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"Target":["TaskPane"]}],"ImageClass":["buffer"],"ImageUrl":["images/icons.png"],"Label":["Buffer"],"Location":null,"Name":["BufferPanel"],"StatusText":null,"Tooltip":["Click to create a buffer"],"Type":["BufferPanel"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":null,"ImageClass":["select-centre"],"ImageUrl":["images/icons.png"],"Label":["Center selection"],"Location":null,"Name":["CenterSelection"],"StatusText":null,"Tooltip":["Click to center the map on the current selection"],"Type":["CenterSelection"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":null,"ImageClass":["select-clear"],"ImageUrl":["images/icons.png"],"Label":["Clear Selection"],"Location":null,"Name":["ClearSelection"],"StatusText":null,"Tooltip":["Click to clear the current selection"],"Type":["ClearSelection"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{}],"ImageClass":null,"ImageUrl":null,"Label":["Color picker"],"Location":null,"Name":["ColorPicker"],"StatusText":null,"Tooltip":["Use this tool to select a color"],"Type":["ColorPicker"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"Projection":["EPSG:4326","EPSG:3857"],"Target":["TaskPane"]}],"ImageClass":["coordinate-tracker"],"ImageUrl":["images/icons.png"],"Label":["Coordinate Tracker"],"Location":null,"Name":["CoordinateTracker"],"StatusText":null,"Tooltip":["Click to view mouse coordinates in various projections"],"Type":["CoordinateTracker"]},{"Extension":[{"Precision":["4"]}],"Location":null,"Name":["EditableScale"],"Type":["EditableScale"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"Target":["TaskPane"]}],"ImageClass":["feature-info"],"ImageUrl":["images/icons.png"],"Label":["Feature Info"],"Location":null,"Name":["FeatureInfo"],"StatusText":null,"Tooltip":["Click to display selected feature info"],"Type":["FeatureInfo"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"EnableHighAccuracy":["false"],"MaximumAge":["0"],"Timeout":["5000"]}],"ImageClass":["geolocation"],"ImageUrl":["images/icons.png"],"Label":["My Location"],"Location":null,"Name":["Geolocation"],"StatusText":null,"Tooltip":["Click to zoom to your current geographic location"],"Type":["Geolocation"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"DirectionLength":["22"],"ShowDirection":["true"],"SymbolLayerName":["GoogleStreetViewerSymbolLayer"],"Target":["TaskPane"]}],"ImageClass":null,"ImageUrl":["../../../widgets/GoogleStreetViewer/GoogleStreetView.png"],"Label":["Google StreetView"],"Location":null,"Name":["GoogleStreetViewer"],"StatusText":null,"Tooltip":["Click to show Google StreetView"],"Type":["GoogleStreetViewer"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"Target":["HelpWindow"],"Url":["widgets/Help/Help.html"]}],"ImageClass":["help"],"ImageUrl":["images/icons.png"],"Label":["Help"],"Location":null,"Name":["Help"],"StatusText":null,"Tooltip":["Click to get help"],"Type":["Help"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"ViewType":["initial"]}],"ImageClass":["zoom-full"],"ImageUrl":["images/icons.png"],"Label":["Zoom Extents"],"Location":null,"Name":["InitialMapView"],"StatusText":null,"Tooltip":["Click to zoom to the full map extents"],"Type":["InitialMapView"]},{"Extension":[{"DisabledLayerIcon":["images/icons/legend-layer.png"],"GroupInfoIcon":["images/icons/tree_group_info.png"],"HideInvisibleLayers":["true"],"LayerDWFIcon":["images/icons/legend-DWF.png"],"LayerInfoIcon":["images/icons/tree_layer_info.png"],"LayerRasterIcon":["images/icons/legend-raster.png"],"LayerThemeIcon":["images/icons/legend-theme.png"],"RootFolderIcon":["images/icons/legend-map.png"],"ShowMapFolder":["false"],"ShowRootFolder":["false"]}],"Location":null,"Name":["Legend"],"Type":["Legend"]},{"Extension":null,"Location":null,"Name":["LinkToView"],"Type":["LinkToView"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{}],"ImageClass":["legend-map"],"ImageUrl":["images/icons.png"],"Label":["Maps"],"Location":null,"Name":["MapMenu"],"StatusText":null,"Tooltip":["Choose a map theme"],"Type":["MapMenu"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"Delay":["350"],"Target":["MaptipWindow"],"Tolerance":["2"],"WinFeatures":["menubar=no,location=no,resizable=no,status=no"]}],"ImageClass":["maptip"],"ImageUrl":["images/icons.png"],"Label":["Maptip"],"Location":null,"Name":["Maptip"],"StatusText":null,"Tooltip":["Click to Enable/Disable get information about features from Server"],"Type":["Maptip"]},{"Extension":null,"Location":null,"Name":["Navigator"],"Type":["Navigator"]},{"Extension":[{"MaxRatio":["128"],"MinRatio":["32"]}],"Location":null,"Name":["OverviewMap"],"Type":["OverviewMap"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":null,"ImageClass":["pan"],"ImageUrl":["images/icons.png"],"Label":["Pan"],"Location":null,"Name":["Pan"],"StatusText":null,"Tooltip":["Click and drag to pan the map"],"Type":["Pan"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"Direction":["none"],"Percentage":["75"]}],"ImageClass":null,"ImageUrl":null,"Label":null,"Location":null,"Name":["PanOnClick"],"StatusText":null,"Tooltip":null,"Type":["PanOnClick"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"QueryActiveLayer":["false"],"SelectionType":["INTERSECTS"],"Tolerance":["3"]}],"ImageClass":["pan"],"ImageUrl":["images/icons.png"],"Label":["Pan query"],"Location":null,"Name":["PanQuery"],"StatusText":null,"Tooltip":["Drag the mouse to pan, click to query"],"Type":["PanQuery"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"ShowLegend":["false"],"ShowNorthArrow":["false"],"ShowPrintUI":["true"],"ShowTitle":["false"]}],"ImageClass":["file-print"],"ImageUrl":["images/icons.png"],"Label":["Print"],"Location":null,"Name":["Print"],"StatusText":null,"Tooltip":["Print the current map view"],"Type":["Print"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"Target":["TaskPane"]}],"ImageClass":["query"],"ImageUrl":["images/icons.png"],"Label":["Query"],"Location":null,"Name":["Query"],"StatusText":null,"Tooltip":["Click to execute a custom query"],"Type":["Query"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"AllowDisclaimerToggle":["true"],"DefaultDpi":["96"],"DefaultMargin":["25.4,12.7,12.7,12.7"],"Disclaimer":["The materials available at this web site are for informational purposes only and do not constitute a legal document."],"RememberPlotOptions":["false"],"ShowCoordinateLabels":["true"],"ShowCoordinates":["false"],"ShowLegalDisclaimer":["true"],"ShowLegend":["false"],"ShowNorthArrow":["false"],"ShowScaleBar":["false"],"ShowSubTitle":["true"],"Target":["TaskPane"]}],"ImageClass":null,"ImageUrl":["images/icons/print.png"],"Label":["Quick Plot"],"Location":null,"Name":["QuickPlot"],"StatusText":null,"Tooltip":["Click to create a plot quickly"],"Type":["QuickPlot"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"AutoCreateOnStartup":["true"],"AutogenerateLayerNames":["true"],"RedlineGeometryFormat":["7"],"StylizationType":["basic"],"Target":["TaskPane"],"UseMapMessage":["true"]}],"ImageClass":["redline"],"ImageUrl":["images/icons.png"],"Label":["Redline"],"Location":null,"Name":["Redline"],"StatusText":null,"Tooltip":["Click to draw redline features"],"Type":["Redline"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":null,"ImageClass":["view-refresh"],"ImageUrl":["images/icons.png"],"Label":["Refresh"],"Location":null,"Name":["RefreshMap"],"StatusText":null,"Tooltip":["Click to redraw the map"],"Type":["RefreshMap"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"Format":["png"]}],"ImageClass":["file-save"],"ImageUrl":["images/icons.png"],"Label":["Save map"],"Location":null,"Name":["SaveMap"],"StatusText":null,"Tooltip":["Click to save the map as an image"],"Type":["SaveMap"]},{"Extension":[{"AbbreviateLabel":["true"],"DisplaySystem":["metric"],"Divisions":["2"],"MaxWidth":["200"],"MinWidth":["100"],"ShowMinorMeasures":["true"],"SingleLine":["false"],"Style":["thin"],"SubDivisions":["2"]}],"Location":null,"Name":["Scalebar"],"Type":["Scalebar"]},{"Extension":[{"BottomInUnits":["m"],"BottomOutUnits":["km"],"MaxWidth":["300"],"TopInUnits":["ft"],"TopOutUnits":["mi"]}],"Location":null,"Name":["ScalebarDual"],"Type":["ScalebarDual"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"QueryActiveLayer":["false"],"SelectionType":["INTERSECTS"],"Tolerance":["3"]}],"ImageClass":["select"],"ImageUrl":["images/icons.png"],"Label":["Select"],"Location":null,"Name":["Select"],"StatusText":null,"Tooltip":["Click to select features"],"Type":["Select"]},{"Extension":[{"ResultsPerPage":["0"],"SelectionRenderer":["Fusion.Widget.SelectionPanel.SelectionRendererDefault"]}],"Location":null,"Name":["SelectionPanel"],"Type":["SelectionPanel"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"SelectionType":["INTERSECTS"],"Tolerance":["3"]}],"ImageClass":["select-polygon"],"ImageUrl":["images/icons.png"],"Label":["Select Polygon"],"Location":null,"Name":["SelectPolygon"],"StatusText":null,"Tooltip":["Draw a polygon to perform a selection"],"Type":["SelectPolygon"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"DefaultRadius":["20"],"RadiusTooltipType":["dynamic"],"SelectionType":["INTERSECTS"],"Tolerance":["3"]}],"ImageClass":["select-radius"],"ImageUrl":["images/icons.png"],"Label":["Select Radius"],"Location":null,"Name":["SelectRadius"],"StatusText":null,"Tooltip":["Click to select within a radius"],"Type":["SelectRadius"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"RadiusName":["SelectRadius"]}],"ImageClass":null,"ImageUrl":null,"Label":["Select radius value"],"Location":null,"Name":["SelectRadiusValue"],"StatusText":null,"Tooltip":["enter the radius for the Select by Radius tool"],"Type":["SelectRadiusValue"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"DisableIfSelectionEmpty":["true"],"OmitInvisibleLayers":["false"],"Target":["TaskPane"]}],"ImageClass":["select-features"],"ImageUrl":["images/icons.png"],"Label":["Select within"],"Location":null,"Name":["SelectWithin"],"StatusText":null,"Tooltip":["Click to select features within this selection"],"Type":["SelectWithin"]},{"Extension":[{"MenuContainer":["TaskMenu"]}],"Location":null,"Name":["TaskPane"],"Type":["TaskPane"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"Target":["TaskPane"]}],"ImageClass":["theme"],"ImageUrl":["images/icons.png"],"Label":["Theme"],"Location":null,"Name":["Theme"],"StatusText":null,"Tooltip":["Click to create a themed layer"],"Type":["Theme"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{}],"ImageClass":["options"],"ImageUrl":["images/icons.png"],"Label":["Options"],"Location":null,"Name":["ViewOptions"],"StatusText":null,"Tooltip":["Click to change the units displayed"],"Type":["ViewOptions"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"Direction":["in"],"Factor":["2"],"Tolerance":["5"]}],"ImageClass":["zoom-in"],"ImageUrl":["images/icons.png"],"Label":["Zoom Rectangle"],"Location":null,"Name":["Zoom"],"StatusText":["Click or click and drag on the map to zoom in"],"Tooltip":["Click or click and drag on the map to zoom in"],"Type":["Zoom"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"MaximumZoomDimension":["-1"],"ZoomFactor":["2"]}],"ImageClass":["select-zoom"],"ImageUrl":["images/icons.png"],"Label":["Zoom Selection"],"Location":null,"Name":["ZoomToSelection"],"StatusText":null,"Tooltip":["Click to zoom to the selection"],"Type":["ZoomToSelection"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"Factor":["2"]}],"ImageClass":["zoom-in-fixed"],"ImageUrl":["images/icons.png"],"Label":["Zoom In"],"Location":null,"Name":["ZoomIn"],"StatusText":["Zoom in by a preset increment"],"Tooltip":["Zoom in by a preset increment"],"Type":["ZoomOnClick"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"Factor":["0.5"]}],"ImageClass":["zoom-out-fixed"],"ImageUrl":["images/icons.png"],"Label":["Zoom Out"],"Location":null,"Name":["ZoomOut"],"StatusText":["Zoom out by a preset increment"],"Tooltip":["Zoom out by a preset increment"],"Type":["ZoomOnClick"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"Direction":["previous"]}],"ImageClass":["view-back"],"ImageUrl":["images/icons.png"],"Label":["Previous"],"Location":null,"Name":["PreviousView"],"StatusText":["Go to previous view"],"Tooltip":["Go to previous view"],"Type":["ExtentHistory"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"Direction":["next"]}],"ImageClass":["view-forward"],"ImageUrl":["images/icons.png"],"Label":["Next"],"Location":null,"Name":["NextView"],"StatusText":["Go to next view"],"Tooltip":["Go to next view"],"Type":["ExtentHistory"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"Target":["TaskPane"]}],"ImageClass":["buffer"],"ImageUrl":["images/icons.png"],"Label":["Buffer"],"Location":null,"Name":["tbBuffer"],"StatusText":["Create buffers around the selected features"],"Tooltip":["Measure distances and areas on the map"],"Type":["BufferPanel"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"AreaPrecision":["0"],"DistancePrecision":["0"],"MeasureTooltipContainer":["MeasureResult"],"MeasureTooltipType":["dynamic"],"Target":["TaskPane"],"Type":["both"],"Units":["meters"]}],"ImageClass":["measure"],"ImageUrl":["images/icons.png"],"Label":["Measure"],"Location":null,"Name":["Measure"],"StatusText":["Measure distances and areas on the map"],"Tooltip":["Measure"],"Type":["Measure"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"Script":["showOverviewMap()"]}],"ImageClass":null,"ImageUrl":null,"Label":["Show Overview"],"Location":null,"Name":["showOverview"],"StatusText":null,"Tooltip":null,"Type":["InvokeScript"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"Script":["showTaskPane()"]}],"ImageClass":null,"ImageUrl":null,"Label":["Show Task Pane"],"Location":null,"Name":["showTaskPane"],"StatusText":null,"Tooltip":null,"Type":["InvokeScript"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"Script":["showLegend()"]}],"ImageClass":null,"ImageUrl":null,"Label":["Show Legend"],"Location":null,"Name":["showLegend"],"StatusText":null,"Tooltip":null,"Type":["InvokeScript"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"Script":["showSelectionPanel()"]}],"ImageClass":null,"ImageUrl":null,"Label":["Show Selection Panel"],"Location":null,"Name":["showSelectionPanel"],"StatusText":null,"Tooltip":null,"Type":["InvokeScript"]},{"Extension":[{"EmptyText":["&amp;nbsp;"],"Precision":["4"],"Template":["X: {x} {units}, Y: {y} {units}"],"Units":["dd"]}],"Location":null,"Name":["statusCoordinates"],"Type":["CursorPosition"]},{"Extension":[{"EmptyText":["No selection"],"Template":["{0} feature(s) selected on {1} layer(s)"]}],"Location":null,"Name":["statusSelection"],"Type":["SelectionInfo"]},{"Extension":[{"Precision":["2"],"Template":["{w} x {h} ({units})"],"Units":["Meters"]}],"Location":null,"Name":["statusViewSize"],"Type":["ViewSize"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"Factor":["2"]}],"ImageClass":["zoom-in-fixed"],"ImageUrl":["images/icons.png"],"Label":null,"Location":null,"Name":["vertZoomIn"],"StatusText":["Zoom in by a preset increment"],"Tooltip":["Zoom in by a preset increment"],"Type":["ZoomOnClick"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"Factor":["0.5"]}],"ImageClass":["zoom-out-fixed"],"ImageUrl":["images/icons.png"],"Label":null,"Location":null,"Name":["vertZoomOut"],"StatusText":["Zoom out by a preset increment"],"Tooltip":["Zoom out by a preset increment"],"Type":["ZoomOnClick"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"Direction":["previous"]}],"ImageClass":["view-back"],"ImageUrl":["images/icons.png"],"Label":null,"Location":null,"Name":["vertPreviousView"],"StatusText":["Go to previous view"],"Tooltip":["Go to previous view"],"Type":["ExtentHistory"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"Direction":["next"]}],"ImageClass":["view-forward"],"ImageUrl":["images/icons.png"],"Label":null,"Location":null,"Name":["vertNextView"],"StatusText":["Go to next view"],"Tooltip":["Go to next view"],"Type":["ExtentHistory"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"QueryActiveLayer":["false"],"SelectionType":["INTERSECTS"],"Tolerance":["3"]}],"ImageClass":["select"],"ImageUrl":["images/icons.png"],"Label":null,"Location":null,"Name":["vertSelect"],"StatusText":null,"Tooltip":["Click to select features"],"Type":["Select"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":null,"ImageClass":["pan"],"ImageUrl":["images/icons.png"],"Label":null,"Location":null,"Name":["vertPan"],"StatusText":null,"Tooltip":["Click and drag to pan the map"],"Type":["Pan"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"Direction":["in"],"Factor":["2"],"Tolerance":["5"]}],"ImageClass":["zoom-in"],"ImageUrl":["images/icons.png"],"Label":null,"Location":null,"Name":["vertZoom"],"StatusText":["Click or click and drag on the map to zoom in"],"Tooltip":["Click or click and drag on the map to zoom in"],"Type":["Zoom"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"ViewType":["initial"]}],"ImageClass":["zoom-full"],"ImageUrl":["images/icons.png"],"Label":null,"Location":null,"Name":["vertInitialMapView"],"StatusText":null,"Tooltip":["Click to zoom to the full map extents"],"Type":["InitialMapView"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"MaximumZoomDimension":["-1"],"ZoomFactor":["2"]}],"ImageClass":["select-zoom"],"ImageUrl":["images/icons.png"],"Label":null,"Location":null,"Name":["vertZoomToSelection"],"StatusText":null,"Tooltip":["Click to zoom to the selection"],"Type":["ZoomToSelection"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"AdditionalParameter":null,"DisableIfSelectionEmpty":["false"],"Target":["TaskPane"],"Url":["component://AddManageLayers"]}],"ImageClass":null,"ImageUrl":null,"Label":["Manage External Layers"],"Location":null,"Name":["AddExternalLayers"],"StatusText":null,"Tooltip":null,"Type":["InvokeURL"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"AdditionalParameter":null,"DisableIfSelectionEmpty":["false"],"Target":["InvokeUrlWindow"],"Url":["component://ShareLinkToView"]}],"ImageClass":null,"ImageUrl":null,"Label":["Share Link to View"],"Location":null,"Name":["ShareLink"],"StatusText":null,"Tooltip":null,"Type":["InvokeURL"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"AdditionalParameter":null,"DisableIfSelectionEmpty":["false"],"Target":["TaskPane"],"Url":["examples/taskpane/viewerapi.html"]}],"ImageClass":null,"ImageUrl":null,"Label":["Viewer API Example"],"Location":null,"Name":["ViewerApiExample"],"StatusText":null,"Tooltip":null,"Type":["InvokeURL"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"AdditionalParameter":null,"DisableIfSelectionEmpty":["false"],"Target":["TaskPane"],"Url":["examples/taskpane/drawing.html"]}],"ImageClass":null,"ImageUrl":null,"Label":["Drawing Example"],"Location":null,"Name":["DrawingExample"],"StatusText":null,"Tooltip":null,"Type":["InvokeURL"]}]}]}}')},3090:function(module){"use strict";module.exports=JSON.parse('{"RuntimeMap":{"@version":["3.0.0"],"@xmlns:xsi":["http://www.w3.org/2001/XMLSchema-instance"],"@xsi:noNamespaceSchemaLocation":["RuntimeMap-3.0.0.xsd"],"BackgroundColor":["ffffffff"],"CoordinateSystem":[{"EpsgCode":["28355"],"MentorCode":["MGA-55"],"MetersPerUnit":["1"],"Wkt":["PROJCS[\\"GDA_1994_MGA_Zone_55\\",GEOGCS[\\"GCS_GDA_1994\\",DATUM[\\"D_GDA_1994\\",SPHEROID[\\"GRS_1980\\",6378137.0,298.257222101]],PRIMEM[\\"Greenwich\\",0.0],UNIT[\\"Degree\\",0.0174532925199433]],PROJECTION[\\"Transverse_Mercator\\"],PARAMETER[\\"False_Easting\\",500000.0],PARAMETER[\\"False_Northing\\",10000000.0],PARAMETER[\\"Central_Meridian\\",147.0],PARAMETER[\\"Scale_Factor\\",0.9996],PARAMETER[\\"Latitude_Of_Origin\\",0.0],UNIT[\\"Meter\\",1.0]]"]}],"DisplayDpi":["96"],"Extents":[{"LowerLeftCoordinate":[{"X":["315102.42100000015"],"Y":["5808850.8142999997"]}],"UpperRightCoordinate":[{"X":["323166.05519999965"],"Y":["5817089.5708999997"]}]}],"Group":[{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"LegendLabel":["Planning"],"Name":["Planning"],"ObjectId":["08c9555c-1e72-11ea-8003-0a002700000d"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"LegendLabel":["Transport"],"Name":["Transport"],"ObjectId":["08c9555c-1e72-11ea-8004-0a002700000d"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"LegendLabel":["Community"],"Name":["Community"],"ObjectId":["08c9555c-1e72-11ea-8005-0a002700000d"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"LegendLabel":["Environment"],"Name":["Environment"],"ObjectId":["08c9555c-1e72-11ea-8006-0a002700000d"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"LegendLabel":["Recreation"],"Name":["Recreation"],"ObjectId":["08c9555c-1e72-11ea-8008-0a002700000d"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"LegendLabel":["Census of Land Use and Employment (CLUE)"],"Name":["Census of Land Use and Employment (CLUE)"],"ObjectId":["08c9555c-1e72-11ea-8009-0a002700000d"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"LegendLabel":["Trees By Criteria"],"Name":["Trees By Criteria"],"ObjectId":["08c9555c-1e72-11ea-800a-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-8006-0a002700000d"],"Type":["1"],"Visible":["true"]}],"IconMimeType":["image/png"],"Layer":[{"ActuallyVisible":["false"],"DisplayInLegend":["true"],"ExpandInLegend":["false"],"FeatureSource":[{"ClassName":["Default:melbourne_s_urban_forest_map"],"Geometry":["GEOMETRY"],"ResourceId":["Library://Samples/Melbourne/Data/Melbourne_s_Urban_Forest_Map.FeatureSource"]}],"LayerDefinition":["Library://Samples/Melbourne/Layers/Trees_ULE.LayerDefinition"],"LegendLabel":["ULE"],"Name":["ULE"],"ObjectId":["08edcdce-1e72-11ea-8000-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-800a-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":["\\"useful life expectency\\" = \'<1 year\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAWVJREFUOI2dksFKI0EURc+rSCclMxDGrERwViEZexWEfJIfoUv9B50/CkhWjglZKSOuosRNqrs1dV3YBs0EYs/dFdxz362qZ6zR1a+9H1bzPRldABMjLcIwvb57XPXax8Nlu93yDR1jdoQozKgDSOQYCdJFyOzscDKZ/hPwp/tznyQZAE1nVl/XLEo5MKMo+gejm9tlwGW73fKeK0TLOautg5chUQuMaQikh5PJ1AE0GjoBmptggNLT9A0dA9igs7vzvf7tr5n5TfDKdYKe53vOb233JIoqMACisJrvOeesQ/naVWRGXUbXVZ68Ihejxoi8KiiRmxi58DIfmpFUHm0kWoSh64/vH6L0u1ySLylKOdJFen336ACyzE6BWYxabITfPLOQ2dlbkVL/u8rLXzgY3dyGQCrpXFKIUU9RyqKUxagnSUHSeQik7/CnBh816Ozu+K3tnnPWKWuPw8t82B/fP6x6XwFDg7yff0351wAAAABJRU5ErkJggg=="],"LegendLabel":["<1 year"]},{"Filter":["\\"useful life expectency\\" = \'11-20 years\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAXVJREFUOI2Vk71qG1EQhb+ZKLukkCxklYG0NqgSGKUzeZaAA/EjOGX8CDa2wM9i1DkYVAXs1qRdC8mGSLtaz0mhHxJFRNHpLpzv3Jm5d4w1Gn583yBJ27jvAxBxR5H361c3g1Wv/X54OjpsUvETzD6ZqRCWzkzKJUuQLinjtNbtZX8FDD5/eFcxvgF1d0/XVRYROTAsRadxfv2wDHg6Omzy2r9jNN381Tp4GaJ4QWRMo1Xr9jIHIPEvQH0TDDD31Kn4CYCNjg92neoPc3uzCf6zHY1j8vOti2obU7ENDGCmgiRtO2hvMe1tJCzFfd+3BVflYPeG8m1BQzkRd24895El2wZIllDkfd85u32UqTv/JP+liMiRLutXN4PZDIr4CgxD8bIRnnmGlHEK4AC1bi8rRQeR/auS2c1kpegs9mH5Co3z6wem0cK4UGgsxSikSUgTKUYKjTEumEZrsQewso0LjY4PdkW1Ddqb2+6N5/7O2e3jqvcXQeq3C45j+l4AAAAASUVORK5CYII="],"LegendLabel":["11-20 years"]},{"Filter":["\\"useful life expectency\\" = \'1-5 years\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAWVJREFUOI2tkrFKA0EURc97i7vuKrqopWCrkCqNP6KCilj6EVrqP6idiArqj9ikErQV2yiJkExmZedZJAaNwRjwwhTD3HPnMvOEIWpcr89N6WTVRFcAxMJDK3Rq+cbN66BXvm7eLjYX0iTZR9gDK0CS7ol5kBjjxHl/NLN9Vf8R0L7dWppg4g7IVTUZ1iyE4IHGO++r2drlUz+ge3N8j8iCikTD4H6IWYlZ3fmiMrN9VVeANI4PgHwUDNDz5GmS7ANI82xnPpuOnlUkHQUPNHGtsrWoWRpVgWIcuCsrpnSyqhbZMjD00X6XJCa6ouOD36VSyiPgx0fNi4UHbbuyBsTjB0jcCp2azu6evxDstDckf1IIwWOc5Bs3rwrgiuIQaASzciTc9TSc90fwD6Pc/4Vs7fLJ+aKCcRzMXDBrBrNObzWDmcM4dr6ofMLfGnxV82xnPkujam9GkFIe266sze6evwx6PwB8b7P5X+YR5gAAAABJRU5ErkJggg=="],"LegendLabel":["1-5 years"]},{"Filter":["\\"useful life expectency\\" = \'1-5 years (<50% canopy)\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAWZJREFUOI2dkkFrwkAQhd+MkJgIGlqPhYKnKDl56U/qf9CKSKu/QfuPevEk6qkgvaqo1I0bcKYHrdhUsOk77cL7Hm92h3BBq1H7puDl60S5KgCo7ifbeDcMos4y7aXzy2baLnuO3yTgEUQJFO7RZaHqKDCIE9Mthp35rwDz/nzvkPMGIGBi91IzUbEAVokmD36lNTsFbKbtsu/6IyjKzJy7BJ9CRPYgzI01UTHszBkAPLfwBCC4BgPA0RN4jt8EAFqPe7eFfO6Dmb1rcKpJ/GnMHfsu10GUZIEBAERJwcvXmYjD02tnkcIlylU5M5gSq8oUBJuZJFjV/YSNlSFUncwBqs423g25VGsslOj1uCR/kqhYBQZB1FkyAMR2+wJgJSL7q/DBs4oT0z1MctR/V/n0C36lNTPWRArqi0gsqmsR3Yno7nCWWEF9Y030Df9ocK71uHfru1wn4hAAVGVqrAxLtcYi7f0CnUC33cGlDyoAAAAASUVORK5CYII="],"LegendLabel":["1-5 years (<50% canopy)"]},{"Filter":["\\"useful life expectency\\" = \'1-5 years (>50% canopy)\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAVdJREFUOI2tks1OwkAUhc+dJjR2CDTSpYlbSVh14wMQE1a+hg+hS3kH8DFYmRAfgE23sCVulbSFWyyGuS6myI8YbOJJZjGZ+537M5dwRHH8fK61ExKpJgCImDHzOvL9zuwwlnYvaToItNb3AO4AWgHiFmE5IBUAfWbu1mq3bz8Msuzl0nVpBIivlHKPVWaMyQGK81yuPa89BQC1yWxhBL/BAFC8Ba5LozQdBN8GWusHm5mc3+CtCTmA+EWroCQZNqpV51UpOjsFH7SznM8/L5TnUQhgVQa2opXWTqiI6Go77TISl0g1VXlwX0pEJvafy4pyETNWWSYRgEp5A6kwryNVr9+8A/Jkl+RvKmL7vt+ZKQBg5keAYmNkfRqWNUAxM3eB/1plAPC89pR50QLQM0aWxkhijPmwRxJjZAmgx7xobeC9CnaVJMOG51FodwQQkUmWSWTnta8viOOsHWQ284QAAAAASUVORK5CYII="],"LegendLabel":["1-5 years (>50% canopy)"]},{"Filter":["\\"useful life expectency\\" = \'21-30 years\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAVhJREFUOI2tkslKA0EURc97gaSNLsS4MkG3Dr0Kgp/kPzgQgsM3qH8kSFZOW8dVEhKwO9WBruemlBiD2uCFWhTc8+6r7ivM0PVja0mqUVMpbQB48jtLXSdebfenvTJ5uXppLc9H1X1gF5GxQAXAIMOsDJwnLj3Zrre73wbcvB6taaV8CSyqamXWZt77DBj4bLyztXL48DkgJF8Dy6pamgVPDMmBbuLSeLve7irAQjR/EJJ/hAGCZzE8Fbl9Pq1ptfQkonO/wVObjPIkbSiRNg0ZF4EBEBlLNWqqoOuEr12Ih4pS2tDCyVNSw98DWVHQIPPkd4rzHcHKhaPNypa6jm429nqYXISS/EnBex6vtvsK8OaSY2AQSvIbnAODxKUn8A9V/vwLWyuHD4lLY0HOzPzImw29mQtnaOZHgpwlLo0/4C8bTOr2+bRGpM3QEQx/j/OdzcZeb9r7DiPjrCD2EeBoAAAAAElFTkSuQmCC"],"LegendLabel":["21-30 years"]},{"Filter":["\\"useful life expectency\\" = \'31-60 years\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAWpJREFUOI2tkk9LG2EQxn8zCxuazSHUHAteje4pBPwySqFF8yHsUb9DkqIg+mWEkJPVXqXXVCLkTdwtO+Nh/Zc0aAN9bi/Mb555Zx5hib5ffv1YlbhlShNAjeup58O99Ph2sVZeP3qD/UYtiQ4c74DkIlQA3MnAY0F6k1Acddr90V8Nzn98WUcrF+B1Va0sm8zMMpAxlm3vbJ3cPDfoDfYbSRJdAg1ViZbBL028AEYhFGmn3R8pQFLTb6Xz2zBAWeP1WhIdAMjp1e5apLVfKvLhPXjhO7NZ8eeTCtUWTr4KXEryqsQtFdENgaVLexMXKqY0dXXneam7/XTIVgXdydS4Vmc6RIhX9/Z46vlQP2+e/QbvlyH5N5lZJkhvLz2+VYAwsUOQ8WNI3oG9ABlPQnEE/yHKz1fY2Tq5CaFIEbrmPjPzOze/d/N7M78z9xlCN4QifYLnJnit06vdNaHaEtENgPJS02G5r3k9AEsGs1e+SH6bAAAAAElFTkSuQmCC"],"LegendLabel":["31-60 years"]},{"Filter":["\\"useful life expectency\\" = \'61+ years\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAZRJREFUOI2Vk7FqG1EURGfeS7RaR4WIVQbS2qBKjb7A4MKoS6GAmqTwR9hl/A92wG4E3sKdSRHwF6RRFbBbk3ZtZLLx2yd4d1LJxIqIouku3Jl7YLjEEn38+u61862ewG0AIHRtqZqc7l7cL+7yz2F4Oexs5PmBA/ZFzShmACAqUmwYcPIYwlExKMq/Aj58ef/WZ9k3AW3nXLaMzMwigWmKsX+2d377FDC8HHZaefM7yA5Jv8w8l6QEqaxC3S0GRekA4FXePBTQXmUGAJJeQHsjzw8AgKOr0WaTL3+QzFeZn5GYgqWfb1wj+Z6g2TpmABA1c77Ve0Hvtihkz/tYLYqZgG237uVFOSW7ERXXNYqKhK7dzKcJwca6ARQblqqJG++M7yR9NrP/pjCzaMDJ6e7FvQOAX6H+RGAqKa1ElxKB6WMIRwDgAKAYFGWKsQ+p/BeJmUVIZYqxP/+HpxbO9s5vq1B3ARxLCiZ7kKmWqTbZg6QA4LgKdXf+BwCWtz+6Gm02ku/Ruy0AULKbmU+T8c74bnH3N2tc0JagOJtnAAAAAElFTkSuQmCC"],"LegendLabel":["61+ years"]},{"Filter":["\\"useful life expectency\\" = \'6-10 years (<50% canopy)\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAX9JREFUOI2tkj1rk1EYhq/7vLZNYiKhzWBBcBJaEIQszlJwkP4A/4GLBaHddLRbneoSJ39E7VDoD3DJJLTQSRzSIS39SN586Htuh8RQ0mAMeG0Hnus+5zncYgL3PjxfzOVz1cRaBcjko26nW7/aPDgfn9XNw/LOesV3w1vglUzf0gKA7J7FPFBTO243tvaatwLuf3zxUGHuK6KsoTiO7R7mwvHn09PX+99HAcs76xUKyTdwRSEkk+RRSIwZqEmaPW5s7TUDgAt6hyhPkwEUQoIoD1dFpd21peKd4g9J+WnyTaJjJ027D0KRQhXTn0UGkOnn8rlqIIQVi4mf9jcsLSTWaphVHCcQ47FMb1ZRdi+Tj0KLtM6gJDNhMd/tdOvheuPwzI6fbP/zK4aztavNg/MAoNTvBw2L2VQ5xgxzoXbchv9Q5VHzWvsnl6Vnjz57jgLoCSY1YPiFaQ/8WFMaX56++dL44+nWNUBpd22pSKFKCCsAxHjcIq1fbxyejc/+Bnuerr99RfR5AAAAAElFTkSuQmCC"],"LegendLabel":["6-10 years (<50% canopy)"]},{"Filter":["\\"useful life expectency\\" = \'6-10 years (>50% canopy)\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAVlJREFUOI2Vk71KA1EQhb+ZaIJbBU0jCLZGBDFBfBUbG4X4ELHUh0gwIuRpRLI2orZiocVGYuHK5mfGYhNCNBj3dPfe8809d5grzNPJ9ioaVBApA+D+iMUhrYf3n1aZWdWqJVzrCKeI9MELY1uCex6ngdgFzU70u8Dx3ibLSzc4RVQLc5OZJQg9BsMDru6epwVq1RKi90AJ0dxceCK3ERDhtkOzE2m6mzvDKS6EAURzOEVc62mCo/01Al4QXVkIzz7ni9HnhhJYBaSfCQYQ6aNBRXHdmnY7i7yASFmzg7NSxJ5AkuyoJLg/KrGG4PnMvHsei0OlfdvFpYnZ/1OYJTgNWg/v4x6MzhF64yFZcLONEHqIXQCkBZqdiMHwAIj+TJKepd7xf5hO3t3bB9X1a9AAfBeIwQEfAp/gDtIAO+QyfJ1gs79xoqP9NQKrpDMCiD0Ra0j7tvvT+g1NyY1JRbtaowAAAABJRU5ErkJggg=="],"LegendLabel":["6-10 years (>50% canopy)"]}],"Type":["1"]}],"MaxScale":["1000000000000"],"MinScale":["0"]}],"Selectable":["true"],"Type":["1"],"Visible":["false"]},{"ActuallyVisible":["false"],"DisplayInLegend":["true"],"ExpandInLegend":["false"],"FeatureSource":[{"ClassName":["Default:melbourne_s_urban_forest_map"],"Geometry":["GEOMETRY"],"ResourceId":["Library://Samples/Melbourne/Data/Melbourne_s_Urban_Forest_Map.FeatureSource"]}],"LayerDefinition":["Library://Samples/Melbourne/Layers/Trees_Age.LayerDefinition"],"LegendLabel":["Age"],"Name":["Age"],"ObjectId":["08f2d6f2-1e72-11ea-8002-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-800a-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":["\\"age description\\" = \'Juvenile\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAXVJREFUOI2Vk7FOG2EQhL9dEx8JjRWosEVakFy5cUF1Qpb8JjxEUoZ3gDwJkhVRpUjjKhK0JCTVgYwiZN+h20lhHwLHinPT/dLMzuzuv8YKnH8/f7vlSc8acQCg0i8fIh8P94Z3y1x7/rj4ebHTdL0HjsEKMyUAkuWgJnBWhJ2k7TT7q8CXX5/fYf4V1HL3ZFWyiMjBJij6h7tH108F5s58M9gxt8YqcQWFSkFWBN20nWYO8Mr5AGqtEwPMOWotWsVGN6PtNxsbP9zs9TrxUjvT349FxzfNeoiijniRpdjypOfmtl9Nu5bclFgjDry+80u4QlfzPdeDZLlKv/SZNMZo1vdW8yHysQ86g1uJT/NP8n9YcM+Ge8M7B3gMPoJNFCrX+oZKsEkRdgLgAGk7zVD0Bdm/kkRELshQ9Kt7eNrC4e7RdRF0hZ2GNI3QvRQzKWYRug9pKuy0CLrVHcDSNVYY3Yy2N8165ra/iH01k8aDzuB2mfsHY6S+C1CUOsUAAAAASUVORK5CYII="],"LegendLabel":["Juvenile"]},{"Filter":["\\"age description\\" = \'Mature\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAXtJREFUOI2Vk0FLG1EUhb97YyaUpBBqlkK3VWcVAvlDymzMyqUu69JVunDa/qGCZGXVrXQ7SoQMaSaZd7qIkTINsTnwFo93v8vhvnONNfp2c/nBrdV11z5ACHYXNBkdx6dP1Vr7+5Jep516kzODxLACUwMA2UwoEqTznIukl2T/NPj+88vHmtd/GNY2t8Y6ZwqaCY3LMO8fHZ48vDZIr9NO1OQG6Lh7bR28UgihBLIiJ056SeYAUcvODWu/BQO4e82wdr3JGYANb4e7773xy8zevQVXnEwX5WTPm+x0EcU2MIBhhVur62b2CbR2aJs7qOGufd8arMgl3YPNtiZlsxDsznMWI4xoax5FQZORDw4Gj4KvCvpvF8tAkR7Hp08OUEz0WWj8EpKNCiGUQuN5zgWAAyS9JCvDvA9km5y8vGVlmPdX+/D6C0eHJw9FTizjStJUQc8K4ffy6FnSVMZVkROv9gAq27jS8Ha422Snu8wISLrPWYwGB4PHau0ftPu+5Sgiz0YAAAAASUVORK5CYII="],"LegendLabel":["Mature"]},{"Filter":["\\"age description\\" = \'New\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAXVJREFUOI2dkz9PG0EQR9/syT4SGiu4jEQbJFduXFsoEt8khStMScpQ+lwhQT5JJBRRp3EVCVqU9oJMQZzl2Pml8J8Ex4pjnrTFaueNdmdnjBUcfjp8pe2sHcQegBtXdp9Gw4Ph7XKs/bnpX/abZHZshHcyPQD57CiarC78nKSToluUfyU4+ny0S82+gDUsWM4K5IqgMZU6g/3BzSJB/7LftCx8xaxpZtkqeZFESkilkreKblEGAMvCe7DGOhlgGmMNMjsGsN5Fb2crf/nNgr1YJy89Z+I/Hl+HvJa3ZwXbCJketJ21AyG84Xe1NyEPYi88Q3xCwP0aiM9woxtXIVZxZLL6prbJ6nafRuH07el30Mdpk/wfckXh58OD4W0AUPIPoLGktFaWEmhM0glAACi6RUmlDlL5r5vIFZFKKnXm87D4hcH+4EbJW6AzuSYuv3P5z9m6k2sCOlPy1nwOYGka5/Quejt5LW/PegTcr2MVR9N6PeUXaifC3NgdOMoAAAAASUVORK5CYII="],"LegendLabel":["New"]},{"Filter":["\\"age description\\" = \'Over-mature\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAZRJREFUOI2Vk8FqU0EUhr8zifemoUiwWQouhJKIIGSTNxCELoord91Y8xB1aR8i6sK+gFTJqm/gJitpYnbFhZvbEiEmmYl3fhemQWNozL8b5v/+c+ZwxlihB28e30mS7UZEdQCH9UIYdc8Pz66WvfbnYbe9Vy2nyRFGS0YwLAUQ8iYSRHvsw/Gg1cn+Cai/fXovvWWfgIq53+CyFOWBoZ+p2Xv+/mIRsNveq5ZL6WehqnOusAq+VowxNywbT/3DQauTOYCtUvoSqKyDAeaeSjlNjgCsdrK/UzL31cxtrYP/fk6chDC660q5NSTCJjCAjJAk2w0XC9TMVg/tJhmWRlR3m4LLci6nL8lvCgp5h/XctKCuGcmmASaSEEZd1z84vZTs9XxJ/q96lEe0zw/PrhzAZOpfAcMYY74OnnuGYx+OARzAoNXJ/ExNw7KbOlGUNyzzMzWv/8Ni87KPve+3n9x/VywWy6BHksbzq5+SfoAkrD2Z+mdfXnz4tpjFqkq1k/2dUm6NWKAG4HL604K6/YPTy2XvL/FDuDreCY34AAAAAElFTkSuQmCC"],"LegendLabel":["Over-mature"]},{"Filter":["\\"age description\\" = \'Semi-Mature\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAVRJREFUOI2dk79OAkEQh79ZziNaoVCa2BEwJsZreBV7E0zkEbCUR8DIJSS+jjGhMoB0xsLmIFj4545jx+KOEJCI8HWbmd/s7OxvhFVcHB/gqoeRMgBWe0TSod0dLafKwqlaLOA4dUQuESIgm0ZCFBfVFnHcwB8EvwtclY8QeQDJYSTLKqyGoGNUK9z2XuYFqsUCO84TQgExmZXiGWqnKAGT+AR/EBgAXOcaJLdWDCQ5ksNx6kkHtVIeMq8Y2V0rXnzOF996aAAvHdhmCBGuegZMifm0NyGLkbLZQriAAdsHwi20IVZ7BuiguBvLFZdIOoZmf4ion5jkn1gNUW3R7o6SGUTxTeIwO11/s52CjonjBkBSwB8EqFZQgj87sRqiJLnpPsyd9xi8c7Z/j2P2UE6BzzQSAx8oimiLSXzO3fPbTLa4jTNqpTzgpR4h/akOzf5wOfUHdGOIbIoaTooAAAAASUVORK5CYII="],"LegendLabel":["Semi-Mature"]}],"Type":["1"]}],"MaxScale":["1000000000000"],"MinScale":["0"]}],"Selectable":["true"],"Type":["1"],"Visible":["false"]},{"ActuallyVisible":["false"],"DisplayInLegend":["true"],"ExpandInLegend":["false"],"FeatureSource":[{"ClassName":["Default:Overland Flow Routes"],"Geometry":["Geometry"],"ResourceId":["Library://Samples/Melbourne/Data/Overland Flow Routes.FeatureSource"]}],"LayerDefinition":["Library://Samples/Melbourne/Layers/Overland Flow Routes.LayerDefinition"],"LegendLabel":["Overland Flow Routes"],"Name":["Overland Flow Routes"],"ObjectId":["08f2d6f2-1e72-11ea-8004-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-8006-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1jYBgFwwAwMjD8baDEACYqOWQUDG0AAGxEAYFkZ73KAAAAAElFTkSuQmCC"],"LegendLabel":null}],"Type":["4"]}],"MaxScale":["1000000000000"],"MinScale":["0"]}],"Selectable":["false"],"Type":["1"],"Visible":["false"]},{"ActuallyVisible":["false"],"DisplayInLegend":["true"],"ExpandInLegend":["false"],"FeatureSource":[{"ClassName":["Default:Census_of_Land_Use_and_Employment_(CLUE)_Suburb"],"Geometry":["Geometry"],"ResourceId":["Library://Samples/Melbourne/Data/Census_of_Land_Use_and_Employment_(CLUE)_Suburb.FeatureSource"]}],"LayerDefinition":["Library://Samples/Melbourne/Layers/Census_of_Land_Use_and_Employment_(CLUE)_Suburb.LayerDefinition"],"LegendLabel":["Suburbs"],"Name":["Suburbs"],"ObjectId":["08fce93a-1e72-11ea-8000-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-8009-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAADlJREFUOI1jZOfg+iAiJvOIgQzw5tUTORYRMZlHNW1rl5BjQEtVcAwTORqRwagBowaMGgABjJRmZwC3iQ9b7MBThAAAAABJRU5ErkJggg=="],"LegendLabel":null}],"Type":["3"]}],"MaxScale":["1000000000000"],"MinScale":["20000"]}],"Selectable":["false"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["false"],"DisplayInLegend":["true"],"ExpandInLegend":["false"],"FeatureSource":[{"ClassName":["Default:building_accessibility_location_map"],"Geometry":["GEOMETRY"],"ResourceId":["Library://Samples/Melbourne/Data/Building_Accessibility_location_map.FeatureSource"]}],"LayerDefinition":["Library://Samples/Melbourne/Layers/Building Accessibility Locations.LayerDefinition"],"LegendLabel":["Building Accessibility Locations"],"Name":["Building Accessibility Locations"],"ObjectId":["08fce93a-1e72-11ea-8004-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-8003-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":["\\"accessibility type\\" = \'Alternative access\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAX9JREFUOI2VkzFLY1EUhGfOXRJ3I0tYU6gItgqp0uQPKSnEQi21XEtjIYJx/UM2qRa0lQVj8ZREDMmLuWe2CE/WGMy+6S7MN3fOvRxihr7/2vux6KGmgE0AYMTNi8X28/bp07SX/x5WWvsVhXBIsEFqJKEIACRSiQVBLcZ43Gk0kw8By1cH60a7Flg2sjirmUspoa7L6w9bJ3dvASut/Qq/hN8QKzSGWXAmuSKoRONY7TSaiQEAzY4ElufBEy+DwLJCOAQArp7tLOFb6Q/Jr/Pgd+O4Bn29rpkWSjVAozwwAJAaLXqoGegb2WvnkYSiAjYtLzgtg+yWRJoXJJEy4sY47LcBFvIGSCy8WGzb/e75I9wvXfrvFi6lglrP26dPBgBy/0moK1ece7MrEuoyxmMAMADoNJqJy+ugks+auJROPF7P9uHtFx62Tu40jlW6X0gaSN5z96G7DyXvSRrQ/ULjWM32AJjaxkyrZztLWijVQN+Y9LZbDvvt+93zx2nvX8Ah0kn1rtJfAAAAAElFTkSuQmCC"],"LegendLabel":["Alternative access"]},{"Filter":["\\"accessibility type\\" = \'Not applicable\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAUhJREFUOI2tks0uQ1EUhb910FYYNGooMVXuqGniSQxIjD0EQ94BUwkDTyKRjlBTMS2pxE1/rp5l4GqoBhXf7CR77b322UuM4WqDBZWoBagCRGi6SyM553G0Vh8fl5sszs1oF9gB+jJFAIseUACO0swH9TNaXxpcb7EcpnWBKYeg4jhnMbqHaMcXr6+dcjdskE++AhaDNDVOPGxiD4BWmjmpn9EKAPPT2sOUfxIDBGkKU85XRTfbVIJ0L2n2J/GIk86g46WAqRn6k4hz+ipRCxIr5L89CTLFANXwh8mfCDa3vN15Iix6EZoB0dBbSCal4C6NsHrCA+Y4Rv/aRV57lJzzGACeX7yPaOch+V5sDxDtNPMB/EOUh1dYO+UuzZwIDm13ov0Uo7sxuhvtJ9sdwWGaOXkXf3LwkZttKpiaxApAfqnG6gkPo7WvHVGhYsKgp2EAAAAASUVORK5CYII="],"LegendLabel":["Not applicable"]},{"Filter":["\\"accessibility type\\" = \'Ramp\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAYVJREFUOI2dk7FLW1EUxn/nvvY9H7YgNWOha4VMWfJ/iLhkLFgwk3bUsY7GKaIBR5dS/D+6ZCroKl2fEonh5b3w7ueQF60xqPEHd7ic7zv3cO45xgy2vv36FMRhzZutADjpvEjz7sHJ+vW01v6/bG+cVmxhccdw32XkQFSGMhOh8McaDvZanUbyJMGPzd9f7H34B7Rk5iJmIPkMrKdRXt8/XLu8T7C9cVpx8ce/QMXMglnmhyQqgMSn/Wqr00gcgMUfdscvP28GGGu0ZAuLOwDWbJ4tx8G7f+Ysfsn8qBKvtBgMP7soCGplw+ZCRh7EYc0hvvLQ7XmIvNmKe4PxEQ7jAsje4M2cdO6youiaCOd1mwiLNO+6dnv1SqbOeEheh+Qz4Y8PTtavHYDS259gvXJIXjCrAOtpONgDcACtTiPRKK8DyXOVlLFEo7w+2Yf7X9g/XLv0ab8qOJJX6qUbLw3LcyOvVHDk0351sgcwtY0Tms2z5SgIauWMgHGRFUW33V69mtbeAe52wEHdr41PAAAAAElFTkSuQmCC"],"LegendLabel":["Ramp"]},{"Filter":["\\"accessibility type\\" = \'Small lip or steep ramp\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAW9JREFUOI2Vk71qG1EQhb+ZgP4qE6uTcIILI4MqNXqkvEMcI5bEfgY7b5RGVcBCRbATudsYBYL2B3tOipWM4gg7e6p74XznDnNnjB363p+89nZrZM4xgIKryPLpwSK5e+q17cvt0aRr1jnB9E5YadAEEBSGGsgupdVZb56k/wR8e/vxTbPV+ALac/PmrspCUYAti7wcH16f3jwG3B5NunjnK6jr5q92wVshD2ApsRr25knqAObtD+uXn4UBKo/2zDonALYYnO87/sPM2y/B25Iiu/+d9d3wkbCyDgwgrPR2a+RIg02368igac6x1wWfyjGbCYq6oKBQcOUipoYadQMMNSLLp96fvf8JfK6G5P8UigLZ5cEiuXMARfYJbFkNyYvwA9hSWp0BOEBvnqRFXo7B0ucqWY9yWuTleLMPj79weH16Q6yGBhdSZCH9kpRLyqtzZAYXxGq42YOqFzu0GJzvGz5CGlQum4mYrvv1l/4ApAq6N+RpN/UAAAAASUVORK5CYII="],"LegendLabel":["Small lip or steep ramp"]},{"Filter":["\\"accessibility type\\" = \'Step free\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAYVJREFUOI2Vk81KY0EQhc+pJjcaXYQxi1GE2Sq4yibPIijCDJKH0KW+gxlREAd8lmyy1a2MqIsoEfLjvbHruDAJkok69+yaqu/0obqLmKFfx6vfrORVua0DAM0vvW+tk92bx+levj9sNpYrpcWwZ2JdUEaiCAASUoKJU41+Nx5e1O/a/xj8/PP9R0ChKahsZsVZydw9JdiJGNZOt+6vAcDGNwcUmgAqH8EAMKpVAgrNzcZyZWKwsBD2BZVpDB/Bk8jGIKhcWgx7AMDts5WluRD+0jj/Ffxecg18oFVLGKqCsjwwAAjKrORVI7U2nnYekSjKbd3ygtMyiVcS0ryghJTml5YptggmeQ0IJt63lp3v3D4I+u3u/53C3VOnGie7N48GAL1ePCDYkSt+Gd0VCXb63XgIjD7SRf2uHTGsAWh/lmRUa0cMa+N9mLzC6db9dbf3sgHgSK6Buz9J/iz5s7s/yTUAcNTtvWyM9+BtFjO0fbaylDBUSa0BgMSrTLF1vnP7MN37Cg54woLus55uAAAAAElFTkSuQmCC"],"LegendLabel":["Step free"]},{"Filter":["\\"accessibility type\\" = \'Steps\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAWBJREFUOI2dk71KA1EQhb+Z6IZAiqApg0KqCKnS5E1sIlj6EFrqO6idoI1vYpNKMJXgT7lKhIU1G/ceCzdRY4jGD25xmTmHYX6MOdxfsuaBToAtAIeb4PQ3tnmezbWvn8EF9eqK7ZuxB2RAuQiNgEjiJHnTUatH/MPg9pzNKLIrRM3dyswhBI0whlmmbnOHu6nB4IJ6ddWugbqbleaJpyZSDsTJWO1Wj9gBqqt2gKj9JgZwsxKiVl2xfQB7PGPdKvZgZpXfxF+RlOao4XmFDh8NW5bMAx23QIvPbi9DOcCW/0P4DZcz4GPOyzJyuPFSSh+I/mEQBafvjV2eBKch6M9VhKCRxMnGNs8OkIx1iDEslmSxWMoxhsmbjgAcoNUjzjJ1gXhRJUUszjJ1J/cwnUJzh7tkrDbGsaRU0ouk1+K9SEoxjpOx2pM7gJlrnPB4xnpeoVPsCHIGpZR+Y5en2dx3eXulXwvnBkYAAAAASUVORK5CYII="],"LegendLabel":["Steps"]},{"Filter":["\\"accessibility type\\" = \'Too complex to determine\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAW9JREFUOI2tkjFLm1EYhc95b8lHo4PUDFWErgqZsvTPCE6Swal2tKOO6iSYdhL6Z7pkKugqFXWIEsEYv+A9x6FobRqqH3i2C+9zznnvvcQEffu08K6e1BJiCQACOrzJ0V3dPbkcn+XTQ2d9rjFNbjjYhjkiXACAwRJ0jXLn2t5q75z1/jH4/vn9B/DND9AzwSgmNZNVwuzDdx+Xt8+PHw0663ONqUg/QTSCTJPgPybOMHoD5WZ756wXADAV6cvv5P/DABBkAj0zTW4AAA/W5mdTnb+C8fY5eGyd4fCOC8HCLZijKjAAwBzVk1rBSIsPt11FhAshlqJy8pjCykcGy6qgwTKgw3DJLuha5Wi6dpOjGyt7pxcwv8p6cQtZJeXO6u7JZQDAQHkTZl92fh52htm/treAV/jKj6+wvH1+PFBuwtyXNZR8ZenW0q3kK1lDmPsD5eYD/FeDpzpYm59l4RYjLQKAlY9csruyd3oxPnsPW1jEaJmtXKcAAAAASUVORK5CYII="],"LegendLabel":["Too complex to determine"]},{"Filter":["\\"accessibility type\\" = \'Undetermined\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAXZJREFUOI2VU7FuGkEUnNmVFnI0KKaM5BK7skTDr+SKa6DIRzhl/BFEOmTpivsWGijtNkqRBlukuIs4Zd+kOZBFcOKbbjVv5o2eZokzmM/n751zE0nXAEDywczWeZ4/n87y5SNN01GSJLfOuU+SGpI9AJC0JxnMbFHX9V1Zltu/DGaz2aX3fiVp6JzrnUtmZnuSuxjjdLlcfgMAd9jsvV8BGL0mBoCWG3nvV2majo4Gg8Hgs6QhSf+a+BiZ9JKGSZLcAgCzLLvo9/vfSb77n/glJP0ysw8uhDCR1HQRtwaNc27iSF4drt0FJHuSrl1X4SmcpEdJ+67CthsPrmmaNcnQ1aAt1toVRfEk6auZvTmFme3NbJHn+bMDgKqqvpDcSYpviB5J7uq6vgPaIpVluY0xTgFs/5Wk5bYxxunhPxybt9lsfo7H4/sQQgLgRlLdUr8lVQAEYFFV1ceiKH4cb3FuU5ZlFyGECcmrNvZj0zTroiieTmf/ANNmwUE88ekSAAAAAElFTkSuQmCC"],"LegendLabel":["Undetermined"]}],"Type":["1"]}],"MaxScale":["1000000000000"],"MinScale":["0"]}],"Selectable":["true"],"Type":["1"],"Visible":["false"]},{"ActuallyVisible":["false"],"DisplayInLegend":["true"],"ExpandInLegend":["false"],"FeatureSource":[{"ClassName":["Default:melbourne_bike_share_locations_map"],"Geometry":["GEOMETRY"],"ResourceId":["Library://Samples/Melbourne/Data/Melbourne_Bike_Share_Locations_Map.FeatureSource"]}],"LayerDefinition":["Library://Samples/Melbourne/Layers/Bike Share Locations.LayerDefinition"],"LegendLabel":["Bike Share Locations"],"Name":["Bike Share Locations"],"ObjectId":["08fd104a-1e72-11ea-8002-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-8008-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAApdJREFUOI19k09oVFcUxn/33TvvzXvzJhknZhKaEBPQqIlK7aZKCVGrOIugpd1EXKRugn+Q4KYUF10UadOVlECgWQmt0qVKpCOtoIJLQQ0FiYu0JNOY0dgZZzLz5s2buS6UsWOmfvDBvZfv/M5Z3COGh4eV67pR3/djWuuwUkrwHgVBoIUQnmma2UKhkFeA+1no/pFPe71LpmW+r7Yuv+xzKx3+8he2XlNSykinzA/1bt2GMNY3z2bSVPwyLfEEluMCoGuazqePh6SUfxhKKUMLIUTIBhlucE1L1N7TtH+/iud59XcRstFCCKWUYdRbmU6Dc8+XKQweQ236mMUJC9ONN2be6C1A2XWXvRJiz0miQ6fI/f4DnefnyGaWGjL1svppZQ6AxaV/QCpUNkd0/wTu3hMsXxgk1DnA4oNbtDgWra2tTSYAloMoiXN3kG6CttFp0ue7kbFu2sZ+RrZ0YA8kCX0+TS6XazKBNHF2fMGzn47S3R4j+/AqiTO/UfrzBkJZWJmHIKDafwCEbAIIx8ilvqPnYp7VKyeJH/qK1cld1KoB1r5zGAe/QSiLaiGDCNlA8R2AE6dn9wFWv91MNfB5OXWPjZs/AqD0+Cr5Z0sARBM92D2DMHf3NUBrXVa6VilVDOxYnLbB4XWfyY5sxP5ge/1eyr5A6VpFa10WY2Nj4XQ6nfjQWun3ayJsSCkmdnrXez9JNkD+upfix7nwkVq1qk1Dew/KHfNdXV0ZATA+Ph5aWFgwfd8PRSKRsO/7G6Z2/X27//BoAmD+5q+Zs4827TNN89+1tTXPNM1KX1+fPzMzU2m2eUYymXSDIOiY7H9yGeDr+S3HlVIrqVSqANT+G/7f1R0ZGXGKxWIUwHGc/OzsbLFZ7hWps+RVRIveNQAAAABJRU5ErkJggg=="],"LegendLabel":null}],"Type":["4"]}],"MaxScale":["1000000000000"],"MinScale":["0"]}],"Selectable":["false"],"Type":["1"],"Visible":["false"]},{"ActuallyVisible":["false"],"DisplayInLegend":["true"],"ExpandInLegend":["false"],"FeatureSource":[{"ClassName":["Default:melbourne_s_urban_forest_map"],"Geometry":["GEOMETRY"],"ResourceId":["Library://Samples/Melbourne/Data/Melbourne_s_Urban_Forest_Map.FeatureSource"]}],"LayerDefinition":["Library://Samples/Melbourne/Layers/Trees.LayerDefinition"],"LegendLabel":["Trees"],"Name":["Trees"],"ObjectId":["08fd104a-1e72-11ea-8004-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-8006-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAPJJREFUOI2l0jFOAkEUxvHfLDHGmFhwAzu9hLFzGyo7Ki6gNyBm9QbSmNh4ASubrbmAJhYaGm9AQaHFJowFLKyBlUW/cuZ9/+/NvMc/FVZOrhyILpAKjkH0hlwwkJnUA/o6ggeJ9tq4qbGo58bTKqCvI/Eo2Pm156gwdV5CQqXtj9rkdZ0EhzKTZH502dgMifb8n5SAtLF5qbQKONraPp9Qsqluk0rA+9bO2W4sAPkfwvMq4NbUuLF1NsbBEpCZiHqiYqM5KkS9cqVbi4uhkRMvOBPs1SZH3eoqt34UDI2cusMndrGPLzzjXtB17bXxU5voG7GMPbY9oilTAAAAAElFTkSuQmCC"],"LegendLabel":null}],"Type":["1"]}],"MaxScale":["1000000000000"],"MinScale":["0"]}],"Selectable":["true"],"Type":["1"],"Visible":["false"]},{"ActuallyVisible":["false"],"DisplayInLegend":["true"],"ExpandInLegend":["false"],"FeatureSource":[{"ClassName":["Default:City Circle Stops"],"Geometry":["Geometry"],"ResourceId":["Library://Samples/Melbourne/Data/City Circle Stops.FeatureSource"]}],"LayerDefinition":["Library://Samples/Melbourne/Layers/City Circle Stops.LayerDefinition"],"LegendLabel":["City Circle Stops"],"Name":["City Circle Stops"],"ObjectId":["08fd104a-1e72-11ea-8007-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-8004-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAnFJREFUOI19U01PE1EUPW/m9XVsh34iJalGipFobAyJFAkJFlcSUokbQoAFbiDxBxg3/gIX/gBWbowS40JSI34kYqJgWCAbNypMopkoBGiHmQ6d6fQ9F4QJTZGzeS/nnXvuuS+5JJ/PU1VVW1zXjQkhFEopwQnwPE8QQqqMsbJlWSYFoCYq2kgmoTwOBpWTan04ThXabvWOhdMvqSzLYeY5A10Xr4JIB82NUglGebehKBpLIBqPAwAEF9A/LQ3IVH4vUUolEIlQFoRMGWTKcK0wgc7ufnABcAF0dvej79ak/05ZECASoZRK9LADPRJ/+dUczmVzuHJ92OeWis/Qnj7TNI7kGzAFlCmwTBO54XFsrC2jrK+jrK9jY20ZueFxWKbp6/y6w8vO758H8xsG9i0D3LXh7O0AALhrY98ysPvnF+q20ZCA4hjkR6eRH51u4ldfP23ifAOJBgAAAcbwY/Uzoq3t2NY1cM7RdvY8jO2/CASYr2syUEKqf754dB+eV28QCs5x4dLlpgT+JwbVKIJqFPtVB7fvPkAkmUJHtgcd2R5EkimM3XsIs2L7Oj+BEMIhgtdqXh2ReBIcBN+W3iKWSII7NgAglkji67vniCRacaolhr3SDojgNSGEQ6amphRd19siwuriXl2RZJn0ZaLzvYM3G6KuLL7BF80Y4fW6kKhc3SPq93Q6vUUAYGZmJqBpGnNdNxAOhxXXdeP5lLd4Y2SsDQA+zM9tfdykg4yxUqVSqTLGaplMxp2dna0dt3nS0NCQ6nleqjdmPwGAlXJoklK6ubCwYAHgR8X/Xd1CoRCybbsFAEKhkFksFu3jdP8AIMPsYtSVuH4AAAAASUVORK5CYII="],"LegendLabel":null}],"Type":["4"]}],"MaxScale":["1000000000000"],"MinScale":["0"]}],"Selectable":["false"],"Type":["1"],"Visible":["false"]},{"ActuallyVisible":["false"],"DisplayInLegend":["true"],"ExpandInLegend":["false"],"FeatureSource":[{"ClassName":["Default:SyringeBin"],"Geometry":["Geometry"],"ResourceId":["Library://Samples/Melbourne/Data/SyringeBin.FeatureSource"]}],"LayerDefinition":["Library://Samples/Melbourne/Layers/SyringeBin.LayerDefinition"],"LegendLabel":["Syringe Bins"],"Name":["SyringeBin"],"ObjectId":["08fd104a-1e72-11ea-8009-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-8005-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAoBJREFUOI19k8FLXFcYxX/fvXfum5k3IzN1GE2UhHGhjQSKpcVSMAoScGFCt01JzUpwEZJ/o2SRZFlXhVIK3TVx4aLQFkqLqwYJSmJS6+BgnGiiceY58+b5bhclE0XjgW91zzn3x+V+Mjo6ajKZTDYMw5xzLmmMEU5RFEVORBrW2p1arbZngMxi49OrcWH4O8+zp2XbajZD1NbCjT5+/dlorf09OkeGB/oQdfzyysZL7s/0c+en57hEHkRwsWNh69mI1voXY4xREjlJeupY2AEpT/ikP8dAr8+TaoxNGEAQ58QYo9qplFXHZm29yrc3B8mmDHdnLvJhV9Q+eytzuODdSwV8PV7kbGeRV3stAP7dDOgtpNgJj5K2C5bXGwDs7+9zbaSD6988IpFIcONyN59dyBMduCO+YwUAu7u7DJWSPN8I+Kgvi+d5iAj1xgHbb0Ier9UA70hBm8caQWvh1hfnyCQNG9tNLl3sQIlQ3Wny6k3IYjnGGsEe+iptgo60xojPUrnGH0u7jH9cYKVS58wHSbQSlBJSnqIjrU8myPmas4U05WrAtbEinw/mWSrvYxQYLWglZFOanP//tAmcc81YdMtFDTrzGRbLAa2oCdTo7c7x10qDP5+uoJRwvsvHWsP26xqx6JZzrilTU1PJSqVS3HSlfiFKaqVE+r58cGX0whHUh78v4/758epBHDuHaXTJ6tOenp6qAExPTydWV1dtGIYJ3/eTYRjmX/Te/u365FAR4Pu5v6vd6/fGrLWv6/V6w1rbKpVK4ezsbOukzVMTExOZKIq61grTPwCc35r9yhizOT8/XwPiw+b3ru7k5GQ6CIIsQDqd3pubmwtO8v0HJLjmnZTZ56cAAAAASUVORK5CYII="],"LegendLabel":null}],"Type":["4"]}],"MaxScale":["1000000000000"],"MinScale":["0"]}],"Selectable":["false"],"Type":["1"],"Visible":["false"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["false"],"FeatureSource":[{"ClassName":["Default:City Circle Route"],"Geometry":["Geometry"],"ResourceId":["Library://Samples/Melbourne/Data/City Circle Route.FeatureSource"]}],"LayerDefinition":["Library://Samples/Melbourne/Layers/City Circle Route.LayerDefinition"],"LegendLabel":["City Circle Route"],"Name":["City Circle Route"],"ObjectId":["08fd104a-1e72-11ea-800b-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-8004-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAADlJREFUOI1jYBgFjH/qGEIpMYCFmYlhFSUGMFGimYGBgYHx/5VV/wfYBQ0MA+sClr//GMIoNWSkAwDQmgrbb2Xy5QAAAABJRU5ErkJggg=="],"LegendLabel":null}],"Type":["2"]}],"MaxScale":["1000000000000"],"MinScale":["0"]}],"Selectable":["false"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["false"],"FeatureSource":[{"ClassName":["Default:Major Features"],"Geometry":["Geometry"],"ResourceId":["Library://Samples/Melbourne/Data/Major Features.FeatureSource"]}],"LayerDefinition":["Library://Samples/Melbourne/Layers/Major Features.LayerDefinition"],"LegendLabel":["Major Features"],"Name":["Major Features"],"ObjectId":["08fd375a-1e72-11ea-8000-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAADdJREFUOI1j5Gfg/y/PIM9ADnjI8JCBRZ5BniGWIZYsAxYzLGZgIksnEhg1YNSAUQMggJHS7AwADtsImeqLIoYAAAAASUVORK5CYII="],"LegendLabel":null}],"Type":["3"]}],"MaxScale":["1000000000000"],"MinScale":["0"]}],"Selectable":["false"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["false"],"DisplayInLegend":["true"],"ExpandInLegend":["false"],"FeatureSource":[{"ClassName":["Default:CLUE_Block_2012"],"Geometry":["Geometry"],"ResourceId":["Library://Samples/Melbourne/Data/CLUE_Block_2012.FeatureSource"]}],"LayerDefinition":["Library://Samples/Melbourne/Layers/CLUE - Number of Establishments per Block.LayerDefinition"],"LegendLabel":["Number of Establishments per Block"],"Name":["CLUE - Number of Establishments per Block"],"ObjectId":["08fd375a-1e72-11ea-8003-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-8009-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":["\\"Establishm\\" <= 50"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1j/Hth0X8GCgATJZpHDRg1YNSAwWQAACxDA473ZfNCAAAAAElFTkSuQmCC"],"LegendLabel":["Less than 50"]},{"Filter":["\\"Establishm\\" > 50 AND \\"Establishm\\" <= 200"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1j/Lsu+z8DBYCJEs2jBowaMGrAYDIAAMN+AzVNbvXgAAAAAElFTkSuQmCC"],"LegendLabel":["Between 50 and 200"]},{"Filter":["\\"Establishm\\" > 200 AND \\"Establishm\\" <= 300"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1j/Ntr85+BAsBEieZRA0YNGDVgMBkAAH8+AuUM1DtsAAAAAElFTkSuQmCC"],"LegendLabel":["Between 200 and 300"]},{"Filter":["\\"Establishm\\" > 300 AND \\"Establishm\\" <= 400"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1jfBbK+5+BAsBEieZRA0YNGDVgMBkAAIBUAmeQK5d5AAAAAElFTkSuQmCC"],"LegendLabel":["Between 300 and 400"]},{"Filter":["\\"Establishm\\" > 400"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1jXGbG/J+BAsBEieZRA0YNGDVgMBkAANZCAf7VaxhTAAAAAElFTkSuQmCC"],"LegendLabel":["More than 400"]}],"Type":["3"]}],"MaxScale":["1000000000000"],"MinScale":["0"]}],"Selectable":["false"],"Type":["1"],"Visible":["false"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["false"],"FeatureSource":[{"ClassName":["Default:BuildingFootprints"],"Geometry":["Geometry"],"ResourceId":["Library://Samples/Melbourne/Data/BuildingFootprints.FeatureSource"]}],"LayerDefinition":["Library://Samples/Melbourne/Layers/BuildingFootprints.LayerDefinition"],"LegendLabel":["Building Footprints"],"Name":["BuildingFootprints"],"ObjectId":["08fd375a-1e72-11ea-8005-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-8003-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":["\\"FLOORS\\" <= 16"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1j/M/w/z8DBYCJEs2jBowaMGrAYDIAAGGcAx3rFI91AAAAAElFTkSuQmCC"],"LegendLabel":["< 16 Floors"]},{"Filter":["\\"FLOORS\\" > 16 AND \\"FLOORS\\" <= 31"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1jNK/b8Z+BAsBEieZRA0YNGDVgMBkAABUPAowDhee8AAAAAElFTkSuQmCC"],"LegendLabel":["16 - 31 Floors"]},{"Filter":["\\"FLOORS\\" > 31 AND \\"FLOORS\\" <= 46"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1j9F3v9Z+BAsBEieZRA0YNGDVgMBkAAHdiAmUb0y6RAAAAAElFTkSuQmCC"],"LegendLabel":["31 - 46 Floors"]},{"Filter":["\\"FLOORS\\" > 46 AND \\"FLOORS\\" <= 62"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1jnOG3+D8DBYCJEs2jBowaMGrAYDIAAIcNAqibTQYnAAAAAElFTkSuQmCC"],"LegendLabel":["46 - 62 Floors"]},{"Filter":["\\"FLOORS\\" > 62 AND \\"FLOORS\\" <= 78"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1j/F/P8J+BAsBEieZRA0YNGDVgMBkAAFt9Ap31nR6oAAAAAElFTkSuQmCC"],"LegendLabel":["62 - 78 Floors"]},{"Filter":["\\"FLOORS\\" > 78"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1j/P/f+D8DBYCJEs2jBowaMGrAYDIAADFBA1AuZh82AAAAAElFTkSuQmCC"],"LegendLabel":["> 78 Floors"]}],"Type":["3"]}],"MaxScale":["17000"],"MinScale":["0"]}],"Selectable":["true"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["false"],"FeatureSource":[{"ClassName":["Default:FootpathGrades"],"Geometry":["Geometry"],"ResourceId":["Library://Samples/Melbourne/Data/FootpathGrades.FeatureSource"]}],"LayerDefinition":["Library://Samples/Melbourne/Layers/FootpathGrades.LayerDefinition"],"LegendLabel":["Footpath Grades"],"Name":["FootpathGrades"],"ObjectId":["08fd375a-1e72-11ea-8007-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-8003-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAADdJREFUOI1jFBER+a+pqclADrh+/ToDi6amJkNNTQ1ZBrS0tDAwkaUTCYwaMGrAqAEQwEhpdgYAIaEMEjLBgaMAAAAASUVORK5CYII="],"LegendLabel":null}],"Type":["3"]}],"MaxScale":["4500"],"MinScale":["0"]}],"Selectable":["false"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["false"],"FeatureSource":[{"ClassName":["Default:Road Corridor"],"Geometry":["Geometry"],"ResourceId":["Library://Samples/Melbourne/Data/Road Corridor.FeatureSource"]}],"LayerDefinition":["Library://Samples/Melbourne/Layers/Road Corridor.LayerDefinition"],"LegendLabel":["Road Corridor"],"Name":["Road Corridor"],"ObjectId":["08fd375a-1e72-11ea-8009-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-8003-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":["\\"NAME\\" = \'Arterial\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1jbGg48J+BAsBEieZRA0YNGDVgMBkAAGXpAt+Cnx4gAAAAAElFTkSuQmCC"],"LegendLabel":["Arterial"]},{"Filter":["\\"NAME\\" = \'Citylink\' OR \\"NAME\\" = \'Citylink2\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1jZJ735z8DBYCJEs2jBowaMGrAYDIAANc3ArxlNu7KAAAAAElFTkSuQmCC"],"LegendLabel":["Citylink"]},{"Filter":["\\"NAME\\" = \'Council Major\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1j9PT0/M9AAWCiRPOoAaMGjBowmAwAAMVnAfrodOjIAAAAAElFTkSuQmCC"],"LegendLabel":["Council Major"]},{"Filter":["\\"NAME\\" = \'Council Minor\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1jvHz58n8GCgATJZpHDRg1YNSAwWQAAFR0A5gSSyWyAAAAAElFTkSuQmCC"],"LegendLabel":["Council Minor"]},{"Filter":["\\"NAME\\" = \'Freeway\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1jZGhg+M9AAWCiRPOoAaMGjBowmAwAAFReAZ96fsy0AAAAAElFTkSuQmCC"],"LegendLabel":["Freeway"]},{"Filter":["\\"NAME\\" = \'Lease/Reserve\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1jvLVU4T8DBYCJEs2jBowaMGrAYDIAAOEGAr69xsWmAAAAAElFTkSuQmCC"],"LegendLabel":["Lease/Reserve"]},{"Filter":["\\"NAME\\" = \'Parks Victoria\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1jLM/k/M9AAWCiRPOoAaMGjBowmAwAAP6ZAgjvSuPKAAAAAElFTkSuQmCC"],"LegendLabel":["Parks Victoria"]},{"Filter":["\\"NAME\\" = \'Port Roads\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1jZLh58z8DBYCJEs2jBowaMGrAYDIAACyMAtE7C+1ZAAAAAElFTkSuQmCC"],"LegendLabel":["Port Roads"]},{"Filter":["\\"NAME\\" = \'Private\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1j/M/A8J+BAsBEieZRA0YNGDVgMBkAAFhtAh6Zl924AAAAAElFTkSuQmCC"],"LegendLabel":["Private"]},{"Filter":["\\"NAME\\" = \'Rail/Tram\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1j7GZg+M9AAWCiRPOoAaMGjBowmAwAAIGDAar4Kv31AAAAAElFTkSuQmCC"],"LegendLabel":["Rail/Tram"]},{"Filter":["\\"NAME\\" = \'River\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1jZHbb9p+BAsBEieZRA0YNGDVgMBkAAFa7Ah6J056jAAAAAElFTkSuQmCC"],"LegendLabel":["River"]},{"Filter":["\\"NAME\\" = \'Road Safety Act\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1j/P+f4T8DBYCJEs2jBowaMGrAYDIAAGKbAx3Dyee6AAAAAElFTkSuQmCC"],"LegendLabel":["Road Safety Act"]}],"Type":["3"]}],"MaxScale":["1000000000000"],"MinScale":["0"]}],"Selectable":["false"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["false"],"FeatureSource":[{"ClassName":["Default:Property Boundaries"],"Geometry":["Geometry"],"ResourceId":["Library://Samples/Melbourne/Data/Property Boundaries.FeatureSource"]}],"LayerDefinition":["Library://Samples/Melbourne/Layers/Property Boundaries.LayerDefinition"],"LegendLabel":["Property Boundaries"],"Name":["Property Boundaries"],"ObjectId":["08fd5e6a-1e72-11ea-8000-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-8003-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAADdJREFUOI1j5BXm+i+jIcJADnhy4w0Di4yGCENIpR1ZBqxpP8TARJZOJDBqwKgBowZAACOl2RkAKOcLy+ohk9MAAAAASUVORK5CYII="],"LegendLabel":null}],"Type":["3"]}],"MaxScale":["1000000000000"],"MinScale":["0"]}],"Selectable":["false"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["false"],"FeatureSource":[{"ClassName":["Default:Municipal Boundary"],"Geometry":["Geometry"],"ResourceId":["Library://Samples/Melbourne/Data/Municipal Boundary.FeatureSource"]}],"LayerDefinition":["Library://Samples/Melbourne/Layers/Municipal Boundary.LayerDefinition"],"LegendLabel":["Municipal Boundary"],"Name":["Municipal Boundary"],"ObjectId":["08fd5e6a-1e72-11ea-8001-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-8003-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1jPD4r4j8DBYCJEs2jBowaMGrAYDIAAEo2Athzju8JAAAAAElFTkSuQmCC"],"LegendLabel":null}],"Type":["3"]}],"MaxScale":["1000000000000"],"MinScale":["0"]}],"Selectable":["false"],"Type":["1"],"Visible":["true"]}],"MapDefinition":["Library://Samples/Melbourne/Maps/Melbourne.MapDefinition"],"Name":["Melbourne"],"SessionId":["a1be7998-1c12-11ea-8000-0a002700000d_en_MTI3LjAuMC4x0AFC0AFB0AFA"],"SiteVersion":["4.0.0.9598"]}}')},271:function(module){"use strict";module.exports=JSON.parse('{"RuntimeMap":{"@version":["3.0.0"],"@xmlns:xsi":["http://www.w3.org/2001/XMLSchema-instance"],"@xsi:noNamespaceSchemaLocation":["RuntimeMap-3.0.0.xsd"],"BackgroundColor":["FFFFFFFF"],"CoordinateSystem":[{"EpsgCode":["26741"],"MentorCode":["CA-I"],"MetersPerUnit":["0.30480060960121919"],"Wkt":["PROJCS[\\"NAD_1927_StatePlane_California_I_FIPS_0401\\",GEOGCS[\\"GCS_North_American_1927\\",DATUM[\\"D_North_American_1927\\",SPHEROID[\\"Clarke_1866\\",6378206.4,294.9786982]],PRIMEM[\\"Greenwich\\",0.0],UNIT[\\"Degree\\",0.0174532925199433]],PROJECTION[\\"Lambert_Conformal_Conic\\"],PARAMETER[\\"False_Easting\\",2000000.0],PARAMETER[\\"False_Northing\\",0.0],PARAMETER[\\"Central_Meridian\\",-122.0],PARAMETER[\\"Standard_Parallel_1\\",40.0],PARAMETER[\\"Standard_Parallel_2\\",41.66666666666666],PARAMETER[\\"Latitude_Of_Origin\\",39.33333333333334],UNIT[\\"Foot_US\\",0.3048006096012192]]"]}],"DisplayDpi":["96"],"Extents":[{"LowerLeftCoordinate":[{"X":["1875218.71875"],"Y":["413797.484375"]}],"UpperRightCoordinate":[{"X":["1924050.2147280774"],"Y":["491024.39689498628"]}]}],"Group":[{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["false"],"LegendLabel":["Cadastral"],"Name":["Cadastral"],"ObjectId":["08c9555c-1e72-11ea-8001-0a002700000d"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"LegendLabel":["Transportation"],"Name":["Transportation"],"ObjectId":["08c9555c-1e72-11ea-800b-0a002700000d"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"LegendLabel":["Miscellaneous"],"Name":["Miscellaneous"],"ObjectId":["08c9555c-1e72-11ea-800c-0a002700000d"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"LegendLabel":["Basemap"],"Name":["Basemap"],"ObjectId":["08c9555c-1e72-11ea-800d-0a002700000d"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"LegendLabel":["Hydrology"],"Name":["Hydrology"],"ObjectId":["08c9555c-1e72-11ea-800e-0a002700000d"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"LegendLabel":["Utilities"],"Name":["Utilities"],"ObjectId":["08c9555c-1e72-11ea-800f-0a002700000d"],"Type":["1"],"Visible":["true"]}],"IconMimeType":["image/png"],"Layer":[{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"FeatureSource":[{"ClassName":["Default:signals"],"Geometry":["Geometry"],"ResourceId":["Library://Redding/Basemap/Data/signals.FeatureSource"]}],"LayerDefinition":["Library://Redding/Basemap/Layers/signals.LayerDefinition"],"LegendLabel":["signals"],"Name":["signals"],"ObjectId":["08eac084-1e72-11ea-8001-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-800b-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAZRJREFUOI2lkj+LGlEUxX+zxMCk8k/QQmSRbDOThRkWbRTBQt4WUYK13yCFxCqFn0RrtZkm26aIlRYLSRcsp5JAFhxfYTMEbpqdB2YmLEkOXLi8yz33nnse/CesJBERSfJGo4HWGq01rVaLXC5HEATnjZZlAVwkD8vlksFggOu61Go1PscxPx4e+Hh3h9Yay7JwXZdSqZS9yuMGAkihUBABE77vm1qCpO/iNxK63S6e5/GuUgHg680N+XwegPV6nRpsCOI4xrZtNpsNnufx5fIlCHx7/9oQKKWIoihbQhiGZk3f90UEE+1229SCIDiTcHYDpZQAUq/X5XR6YQiazaYAUq1WUzdI2bjf75lOp+x2OyzrnqurtxyPPxmPxyilzMDERoPFYiH9fl8cx5HhcCjXx2t5JcitIJPJRABxHEeKxeKfJSQ6y+WyPBfkmSCfBFmtVn9no+u6TO4/UAFO398wn8+BbBszv3IURXQ6HQ6HA71eD9u2mc1m542PN8gkANhut4RhCMBoNEpPforgKaRc+Ff8Akqt7dxtcGdEAAAAAElFTkSuQmCC"],"LegendLabel":null}],"Type":["1"]}],"MaxScale":["3000"],"MinScale":["0"]}],"Selectable":["true"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["false"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"FeatureSource":[{"ClassName":["Default:E-zone"],"Geometry":["Geometry"],"ResourceId":["Library://Redding/Basemap/Data/E-zone.FeatureSource"]}],"LayerDefinition":["Library://Redding/Basemap/Layers/E-zone.LayerDefinition"],"LegendLabel":["E-zone"],"Name":["E-zone"],"ObjectId":["08f2d6f2-1e72-11ea-8000-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-8001-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAADlJREFUOI1jVJJWfqCrpv+AgQxw+dZFBRZdNf0Hi1qWHiDHgLiaaAcmcjQig1EDRg0YNQACGCnNzgCmkhADfYX00wAAAABJRU5ErkJggg=="],"LegendLabel":null}],"Type":["3"]}],"MaxScale":["1000000000000"],"MinScale":["0"]}],"Selectable":["true"],"Type":["1"],"Visible":["false"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"FeatureSource":[{"ClassName":["Default:Parks"],"Geometry":["Geometry"],"ResourceId":["Library://Redding/Basemap/Data/Parks.FeatureSource"]}],"LayerDefinition":["Library://Redding/Basemap/Layers/Parks.LayerDefinition"],"LegendLabel":["Parks"],"Name":["Parks"],"ObjectId":["08f2d6f2-1e72-11ea-8003-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-800c-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAEZJREFUOI1jbO1tfcApxP6AgQzw/d1PBRZOIfYH8k7SB8gx4OG+pw5M5GhEBqMGjBowagAEsHx/91Ph4b6nDuRo/v7upwIAjKEUXSKCxqUAAAAASUVORK5CYII="],"LegendLabel":null}],"Type":["3"]}],"MaxScale":["25000"],"MinScale":["0"]}],"Selectable":["true"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"FeatureSource":[{"ClassName":["Default:Roads"],"Geometry":["Geometry"],"ResourceId":["Library://Redding/Basemap/Data/Roads.FeatureSource"]}],"LayerDefinition":["Library://Redding/Basemap/Layers/Roads.LayerDefinition"],"LegendLabel":["Roads"],"Name":["Roads"],"ObjectId":["08fce93a-1e72-11ea-8002-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-800b-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1jYBgFwwAw1tfXf6LEACZquWQUDGkAAJOZAnOhhw4fAAAAAElFTkSuQmCC"],"LegendLabel":null}],"Type":["2"]}],"MaxScale":["30000"],"MinScale":["0"]}],"Selectable":["true"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"FeatureSource":[{"ClassName":["Default:MiscFeatures"],"Geometry":["Geometry"],"ResourceId":["Library://Redding/Basemap/Data/MiscFeatures.FeatureSource"]}],"LayerDefinition":["Library://Redding/Basemap/Layers/MiscFeatures.LayerDefinition"],"LegendLabel":["MiscFeatures"],"Name":["MiscFeatures"],"ObjectId":["08fce93a-1e72-11ea-8005-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-800c-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1jYBgFwwAw1tfXN1BiABOVHDIKhjYAAJDQAgFCrBpuAAAAAElFTkSuQmCC"],"LegendLabel":null}],"Type":["2"]}],"MaxScale":["3000"],"MinScale":["0"]}],"Selectable":["true"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"FeatureSource":[{"ClassName":["Default:Parks_points"],"Geometry":["Geometry"],"ResourceId":["Library://Redding/Basemap/Data/Parks_points.FeatureSource"]}],"LayerDefinition":["Library://Redding/Basemap/Layers/Parks_points.LayerDefinition"],"LegendLabel":["Parks_points"],"Name":["Parks_points"],"ObjectId":["08fce93a-1e72-11ea-8007-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-800c-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAOBJREFUOI3V0C1OxHAQBfBf2/3IErIJhqDAkLAcAILhAqwjKSQg8HgsCgcJBsEV8FyAE6CRi0KQIEhWsOm/mIpS+qF31EzmvTfvDUtfSRcgJTkmjXibEar7uEtgh2mPp0NO6vZRAy++ZGXMcMBzzEHgdc7RHR9lYK+OfcVGYW9T0WN9yERFoDbCgCTjJ2GUcRH4zDiLWaSVv/1xcM0Mc9ysso29PtPi0gvs8o6tpghR4DbmHPs5pwqBMqYtwiJiXFwYRUwC33Uxmxz0E+5L80Mb+Z9AzmNgrY2Q89UlumT1Czm5J77BXNhmAAAAAElFTkSuQmCC"],"LegendLabel":null}],"Type":["1"]}],"MaxScale":["3000"],"MinScale":["0"]}],"Selectable":["true"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"FeatureSource":[{"ClassName":["Default:Hospital"],"Geometry":["Geometry"],"ResourceId":["Library://Redding/Basemap/Data/Hospital.FeatureSource"]}],"LayerDefinition":["Library://Redding/Basemap/Layers/Hospital.LayerDefinition"],"LegendLabel":["Hospital"],"Name":["Hospital"],"ObjectId":["08fd104a-1e72-11ea-8001-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-800c-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAALtJREFUOI3lkzEKwkAQRf+sS6qQIp3EPuyRzA3C1p7COldYjxQs0kXstgipls2OhSAEs1GxEZxq4H8e84cZQqS893siKgGAmc9SytOSj2KAydpeGFMAQKiqyybPdzFvFMBKMSvFk7V9zCc+ov4kQHrv9zQMxyclTbdw7tEv7YGz7CCJqBTGFGiaueoc0HX3MZUSSJJipmuNUNfl1xFoLYJQSgBAaNuAcbwuRYiS/+kOVlWtXwKi3/juO98ATJxWi0BUvrUAAAAASUVORK5CYII="],"LegendLabel":null}],"Type":["1"]}],"MaxScale":["1000000000000"],"MinScale":["0"]}],"Selectable":["true"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"FeatureSource":[{"ClassName":["Default:Railroad"],"Geometry":["Geometry"],"ResourceId":["Library://Redding/Basemap/Data/Railroad.FeatureSource"]}],"LayerDefinition":["Library://Redding/Basemap/Layers/Railroad.LayerDefinition"],"LegendLabel":["Railroad"],"Name":["Railroad"],"ObjectId":["08fd104a-1e72-11ea-8003-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-800b-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAH1JREFUOI1jYBjygBHGyM3NZRcQEHBrbm7eTIxGmHommAA/P78KIyNjB7E2w9QzEVaKH1BsAGN9fX0DAwMDw////7WZmJhC/v//34hHvRaUvgZTT7kLYIyamhptJiamVU1NTdrEaISpH/hAhBvw8ePHO4yMjJXEaiRV/SAGALVlI7JPE4D4AAAAAElFTkSuQmCC"],"LegendLabel":null}],"Type":["2"]}],"MaxScale":["1000000000000"],"MinScale":["0"]}],"Selectable":["true"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["false"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"FeatureSource":[{"ClassName":["Default:floodzone"],"Geometry":["Geometry"],"ResourceId":["Library://Redding/Basemap/Data/floodzone.FeatureSource"]}],"LayerDefinition":["Library://Redding/Basemap/Layers/floodzone.LayerDefinition"],"LegendLabel":["floodzone"],"Name":["floodzone"],"ObjectId":["08fd104a-1e72-11ea-8005-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-800e-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAADpJREFUOI1jVFT79l5d5/t7BjLAzSucgizqOt/fJxe8uk+OAXMniDEwkaMRGYwaMGrAqAEQwEhpdgYAuKsSkc6gkKMAAAAASUVORK5CYII="],"LegendLabel":null}],"Type":["3"]}],"MaxScale":["1000000000000"],"MinScale":["0"]}],"Selectable":["true"],"Type":["1"],"Visible":["false"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"FeatureSource":[{"ClassName":["Schema:Parcels"],"Geometry":["Geometry"],"ResourceId":["Library://Redding/Basemap/Data/Parcels.FeatureSource"]}],"LayerDefinition":["Library://Redding/Basemap/Layers/Parcels Pendng.LayerDefinition"],"LegendLabel":["Parcels Pendng"],"Name":["Parcels Pendng"],"ObjectId":["08fd104a-1e72-11ea-8006-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-8001-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAADdJREFUOI1jZFBWfsBgYPCAgRxw4YICC4OBwQOGVasOkGVAWJgDE1kakcCoAaMGjBoAAYyUZmcAIrQMrY3HTWoAAAAASUVORK5CYII="],"LegendLabel":null}],"Type":["3"]}],"MaxScale":["10000"],"MinScale":["0"]}],"Selectable":["true"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"FeatureSource":[{"ClassName":["Schema:Parcels"],"Geometry":["Geometry"],"ResourceId":["Library://Redding/Basemap/Data/Parcels.FeatureSource"]}],"LayerDefinition":["Library://Redding/Basemap/Layers/Parcels.LayerDefinition"],"LegendLabel":["Parcels"],"Name":["Parcels"],"ObjectId":["08fd104a-1e72-11ea-8008-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-8001-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAEZJREFUOI1jnDCh84GEBP8DBjLAixcfFVgkJPgfBAcbHyDHgLVrzzowkaMRGYwaMGrAqAEQwPLixUeFtWvPOpCj+cWLjwoAQZAT9c8qpEgAAAAASUVORK5CYII="],"LegendLabel":null}],"Type":["3"]}],"MaxScale":["25000"],"MinScale":["0"]}],"Selectable":["true"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"FeatureSource":[{"ClassName":["Default:River"],"Geometry":["Geometry"],"ResourceId":["Library://Redding/Basemap/Data/River.FeatureSource"]}],"LayerDefinition":["Library://Redding/Basemap/Layers/River.LayerDefinition"],"LegendLabel":["River"],"Name":["River"],"ObjectId":["08fd104a-1e72-11ea-800a-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-800e-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAEZJREFUOI1jzJ0w4cELCYkHDGQAiRcvFFheSEg8WB0aeoAcA0JXr3ZgIkcjMhg1YNSAUQMggEXixQuF0NWrHcjRLPHihQIA/dYShHnVqD0AAAAASUVORK5CYII="],"LegendLabel":null}],"Type":["3"]}],"MaxScale":["1000000000000"],"MinScale":["0"]}],"Selectable":["true"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"FeatureSource":[{"ClassName":["Default:Creeks"],"Geometry":["Geometry"],"ResourceId":["Library://Redding/Basemap/Data/Creeks.FeatureSource"]}],"LayerDefinition":["Library://Redding/Basemap/Layers/Creeks.LayerDefinition"],"LegendLabel":["Creeks"],"Name":["Creeks"],"ObjectId":["08fd375a-1e72-11ea-8001-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-800e-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1jYBgFwwAwMjDUN1BiABOVHDIKhjYAAE3BAQMVaM+vAAAAAElFTkSuQmCC"],"LegendLabel":null}],"Type":["2"]}],"MaxScale":["50000"],"MinScale":["0"]}],"Selectable":["true"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"FeatureSource":[{"ClassName":["Default:rivertrail"],"Geometry":["Geometry"],"ResourceId":["Library://Redding/Basemap/Data/rivertrail.FeatureSource"]}],"LayerDefinition":["Library://Redding/Basemap/Layers/rivertrail.LayerDefinition"],"LegendLabel":["rivertrail"],"Name":["rivertrail"],"ObjectId":["08fd375a-1e72-11ea-8002-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-800e-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1jYBgFwwAwMjDUN1BiABOVHDIKhjYAAE3BAQMVaM+vAAAAAElFTkSuQmCC"],"LegendLabel":null}],"Type":["2"]}],"MaxScale":["50000"],"MinScale":["0"]}],"Selectable":["true"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["false"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"FeatureSource":[{"ClassName":["Default:General_Plan"],"Geometry":["Geometry"],"ResourceId":["Library://Redding/Basemap/Data/General_Plan.FeatureSource"]}],"LayerDefinition":["Library://Redding/Basemap/Layers/General_Plan.LayerDefinition"],"LegendLabel":["General_Plan"],"Name":["General_Plan"],"ObjectId":["08fd375a-1e72-11ea-8004-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-8001-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":["GP_CLASS = \'Acquisition\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAEZJREFUOI1j7O1teyAkxPmAgQzw7t13BRYhIc4HDk4KB8gx4MC+Bw5M5GhEBqMGjBowagAEsLx7913hwL4HDuRofvfuuwIA2fIUNVrb2pwAAAAASUVORK5CYII="],"LegendLabel":["GP Class Acquisition"]},{"Filter":["GP_CLASS = \'Airport\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAEZJREFUOI1j7OlpfSAkxPmAgQzw7t13BRYhIc4H9rayB8gx4ODhxw5M5GhEBqMGjBowagAEsLx7913h4OHHDuRofvfuuwIAzeEUO3rQL1QAAAAASUVORK5CYII="],"LegendLabel":["GP Class Airport"]},{"Filter":["GP_CLASS = \'Commercial\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAEZJREFUOI1j7OlqfSAkyP6AgQzw7v1PBRYhQfYH9layB8gx4OCxxw5M5GhEBqMGjBowagAEsLx7/1Ph4LHHDuRofvf+pwIAuoMUP3AC2RgAAAAASUVORK5CYII="],"LegendLabel":["GP Class Commercial"]},{"Filter":["GP_CLASS = \'Greenway\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAEZJREFUOI1j7OlqeSAkwP6AgQzw7sNPBRYhAfYHtqZSB8gx4PDpZw5M5GhEBqMGjBowagAEsLz78FPh8OlnDuRofvfhpwIAstAUSV5R4YsAAAAASUVORK5CYII="],"LegendLabel":["GP Class Greenway"]},{"Filter":["GP_CLASS = \'Industrial\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAEZJREFUOI1j7OlseSDEx/aAgQzw7tMvBRYhPrYHtkbiB8gx4PC5lw5M5GhEBqMGjBowagAEsLz79Evh8LmXDuRofvfplwIAo4cUURfpf0AAAAAASUVORK5CYII="],"LegendLabel":["GP Class Industrial"]},{"Filter":["GP_CLASS = \'Mixed Use\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAEZJREFUOI1j7OloeSDAx/aAgQzw4dMvBRYBPrYHtrqiB8gx4PDl1w5M5GhEBqMGjBowagAEsHz49Evh8OXXDuRo/vDplwIAmAgUWWuHSLgAAAAASUVORK5CYII="],"LegendLabel":["GP Class Mixed Use"]},{"Filter":["GP_CLASS = \'Public Facilities\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAEZJREFUOI1j7GlveiDAw/aAgQzw4csvBRYBHrYHtlrCB8gx4PC1tw5M5GhEBqMGjBowagAEsHz48kvh8LW3DuRo/vDllwIAhGcUXcXXIH4AAAAASUVORK5CYII="],"LegendLabel":["GP Class Public Facilities"]},{"Filter":["GP_CLASS = \'Residential\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAEZJREFUOI1j7GlveiDAzfqAgQzw4etvBRYBbtYHtqpCB8gx4PDtdw5M5GhEBqMGjBowagAEsHz4+lvh8O13DuRo/vD1twIAfPEUZRthBOYAAAAASUVORK5CYII="],"LegendLabel":["GP Class Residential"]},{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAADNJREFUOI1jtLe3/+/g4MBADjhw4AADQ319/X9yQX19/X8msqxGAqMGjBowagAEMFKanQE3XkZV/oFYUwAAAABJRU5ErkJggg=="],"LegendLabel":null}],"Type":["3"]}],"MaxScale":["1000000000000"],"MinScale":["0"]}],"Selectable":["true"],"Type":["1"],"Visible":["false"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"FeatureSource":[{"ClassName":["Default:City_Boundary"],"Geometry":["Geometry"],"ResourceId":["Library://Redding/Basemap/Data/City_Boundary.FeatureSource"]}],"LayerDefinition":["Library://Redding/Basemap/Layers/City_Boundary.LayerDefinition"],"LegendLabel":["City_Boundary"],"Name":["City_Boundary"],"ObjectId":["08fd375a-1e72-11ea-8006-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-800d-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAEZJREFUOI1jbGho+M/ExPiLgQzw799/NhYmJsZfMVHGPeQYsGTZ2RImcjQig1EDRg0YNQACWP79+8+2ZNnZEnI0//v3nw0AoIcULxnQpWcAAAAASUVORK5CYII="],"LegendLabel":null}],"Type":["3"]}],"MaxScale":["1000000000000"],"MinScale":["0"]}],"Selectable":["false"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"FeatureSource":[{"ClassName":["Default:400ScaleGrid"],"Geometry":["Geometry"],"ResourceId":["Library://Redding/Basemap/Data/400ScaleGrid.FeatureSource"]}],"LayerDefinition":["Library://Redding/Basemap/Layers/400ScaleGrid.LayerDefinition"],"LegendLabel":["400ScaleGrid"],"Name":["400ScaleGrid"],"ObjectId":["08fd375a-1e72-11ea-8008-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-800d-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAGZJREFUOI3dk7ENgDAMBM+psgvzsARVJsijTEDFEszDEkyQLrQRHbiJuPKl+3djk3QBOx2ttbOUcvRZznk2s4kfIil63AAkx34KwOcLgBgcMgBjFFSHXwOwOQo87iiYpPUZvnjn5QbPmBx/5f16UQAAAABJRU5ErkJggg=="],"LegendLabel":null}],"Type":["3"]}],"MaxScale":["1000000000000"],"MinScale":["0"]}],"Selectable":["false"],"Type":["1"],"Visible":["true"]}],"MapDefinition":["Library://Redding/Maps/Redding.MapDefinition"],"Name":["Redding"],"SessionId":["a1be7998-1c12-11ea-8000-0a002700000d_en_MTI3LjAuMC4x0AFC0AFB0AFA"],"SiteVersion":["4.0.0.9598"]}}')},40752:function(module){"use strict";module.exports=JSON.parse('{"RuntimeMap":{"@version":["3.0.0"],"@xmlns:xsi":["http://www.w3.org/2001/XMLSchema-instance"],"@xsi:noNamespaceSchemaLocation":["RuntimeMap-3.0.0.xsd"],"BackgroundColor":["ffcdbd9c"],"CoordinateSystem":[{"EpsgCode":["4326"],"MentorCode":["LL84"],"MetersPerUnit":["111319.49079327358"],"Wkt":["GEOGCS[\\"WGS84 Lat/Long\'s, Degrees, -180 ==> +180\\",DATUM[\\"D_WGS_1984\\",SPHEROID[\\"World_Geodetic_System_of_1984\\",6378137,298.257222932867]],PRIMEM[\\"Greenwich\\",0],UNIT[\\"Degree\\",0.017453292519943295]]"]}],"DisplayDpi":["96"],"Extents":[{"LowerLeftCoordinate":[{"X":["-87.764986990962839"],"Y":["43.691398128787782"]}],"UpperRightCoordinate":[{"X":["-87.695521510899724"],"Y":["43.797520000480347"]}]}],"Group":[{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"LegendLabel":["Base Map"],"Name":["Base Map"],"ObjectId":["a1ea1e18-1c12-11ea-8000-0a002700000d"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"LegendLabel":["Municipal"],"Name":["Municipal"],"ObjectId":["a1ea1e18-1c12-11ea-8001-0a002700000d"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"LegendLabel":["Transportation"],"Name":["Transportation"],"ObjectId":["a1ea1e18-1c12-11ea-8002-0a002700000d"],"Type":["1"],"Visible":["true"]}],"IconMimeType":["image/png"],"Layer":[{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"FeatureSource":[{"ClassName":["SHP_Schema:Trees"],"Geometry":["SHPGEOM"],"ResourceId":["Library://Samples/Sheboygan/Data/Trees.FeatureSource"]}],"LayerDefinition":["Library://Samples/Sheboygan/Layers/Trees.LayerDefinition"],"LegendLabel":["Trees"],"Name":["Trees"],"ObjectId":["a1ea4532-1c12-11ea-8000-0a002700000d"],"ParentId":["a1ea1e18-1c12-11ea-8001-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAARRJREFUOI2l0z1LQmEYxvHfOXmSFok8vShFq2JLLkG0FPR1+hitRVt9kxbbghanItdo6U0RB8XeaFDkYFkd/E/PDdd1cz1wX4GfWUAV5eF8izpaE/QjYpEjGV0FbZt6NvUUtGV0RY4QJw1B4r0ucqVi3p6s3NjqDmr6brS92cJdckEscm1XbNvMrxkvfbjw4s0GXgbiyKGKHfuiv/5oTagl0jTn03mAvIx7B+a+xZ5EByd63q2GqFry+m8z5LDoFdUQJcuyKewDVmRRDlMbxwjR8Kif2vmgj9sQdU9mdVKYO3g2i3qIpsCZWooUNX2BU7SmPqSpT3mcWORYRlcxUabiqEzHfilTkrxBnUvDuWFQ5+a48AuKI1HyEp3qeQAAAABJRU5ErkJggg=="],"LegendLabel":null}],"Type":["1"]}],"MaxScale":["12000"],"MinScale":["0"]}],"Selectable":["false"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"FeatureSource":[{"ClassName":["Default:RoadCenterLines"],"Geometry":["Geometry"],"ResourceId":["Library://Samples/Sheboygan/Data/RoadCenterLines.FeatureSource"]}],"LayerDefinition":["Library://Samples/Sheboygan/Layers/Roads.LayerDefinition"],"LegendLabel":["Roads"],"Name":["Roads"],"ObjectId":["a1ea4532-1c12-11ea-8001-0a002700000d"],"ParentId":["a1ea1e18-1c12-11ea-8002-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1jYBgFwwAw1tfXf6LEACZquWQUDGkAAJOZAnOhhw4fAAAAAElFTkSuQmCC"],"LegendLabel":null}],"Type":["2"]}],"MaxScale":["10000"],"MinScale":["0"]},{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1jYBgFwwAw1tfXf6LEACZquWQUDGkAAJOZAnOhhw4fAAAAAElFTkSuQmCC"],"LegendLabel":null}],"Type":["2"]}],"MaxScale":["24000"],"MinScale":["10000"]}],"Selectable":["false"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["false"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"FeatureSource":[{"ClassName":["SHP_Schema:Rail"],"Geometry":["SHPGEOM"],"ResourceId":["Library://Samples/Sheboygan/Data/Rail.FeatureSource"]}],"LayerDefinition":["Library://Samples/Sheboygan/Layers/Tracks.LayerDefinition"],"LegendLabel":["Rail Lines"],"Name":["Rail Lines"],"ObjectId":["a1ea6c42-1c12-11ea-8000-0a002700000d"],"ParentId":["a1ea1e18-1c12-11ea-8002-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAH5JREFUOI1jYBjygBHG8PDwYJeWlnabO3fuZmI0wtQzwQTExMRUGBgYOoi1GaaeiaBKAoBiAxiTk5MbGBgYGP7//6/NxMQU8v///0Y86rWg9DWYespdAGPExcVps7Kyrpo7d642MRph6gc+EOEGvHr16s7///8ridVIqvpBDADwGyit6VCFVQAAAABJRU5ErkJggg=="],"LegendLabel":null}],"Type":["2"]}],"MaxScale":["24000"],"MinScale":["0"]}],"Selectable":["false"],"Type":["1"],"Visible":["false"]},{"ActuallyVisible":["false"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"FeatureSource":[{"ClassName":["Default:VotingDistricts"],"Geometry":["Geometry"],"ResourceId":["Library://Samples/Sheboygan/Data/VotingDistricts.FeatureSource"]}],"LayerDefinition":["Library://Samples/Sheboygan/Layers/Districts.LayerDefinition"],"LegendLabel":["Districts"],"Name":["Districts"],"ObjectId":["a1ea6c42-1c12-11ea-8001-0a002700000d"],"ParentId":["a1ea1e18-1c12-11ea-8001-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAADlJREFUOI1jXNIVdIDx//8DDGSA/4yMDgxLOwMbyNHMwMDAsLQzsIGJXM0wMGrAqAGjBkAAI6XZGQAhVhCbfcJbYwAAAABJRU5ErkJggg=="],"LegendLabel":null}],"Type":["3"]}],"MaxScale":["1000000000000"],"MinScale":["10000"]}],"Selectable":["false"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"FeatureSource":[{"ClassName":["SHP_Schema:BuildingOutlines"],"Geometry":["SHPGEOM"],"ResourceId":["Library://Samples/Sheboygan/Data/BuildingOutlines.FeatureSource"]}],"LayerDefinition":["Library://Samples/Sheboygan/Layers/Buildings.LayerDefinition"],"LegendLabel":["Buildings"],"Name":["Buildings"],"ObjectId":["a1ea6c42-1c12-11ea-8002-0a002700000d"],"ParentId":["a1ea1e18-1c12-11ea-8001-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAD9JREFUOI3tzDEVwFAMw0C373MQC/MnEAJhYRTt0KVz5mjXXVX1JNEkQCeJunsE2NY9On8tsMACXweQ7dEM6AWSRg1B02biUQAAAABJRU5ErkJggg=="],"LegendLabel":null}],"Type":["3"]}],"MaxScale":["1500"],"MinScale":["0"]}],"Selectable":["false"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"FeatureSource":[{"ClassName":["SHP_Schema:Parcels"],"Geometry":["SHPGEOM"],"ResourceId":["Library://Samples/Sheboygan/Data/Parcels.FeatureSource"]}],"LayerDefinition":["Library://Samples/Sheboygan/Layers/Parcels.LayerDefinition"],"LegendLabel":["Parcels"],"Name":["Parcels"],"ObjectId":["a1ea6c42-1c12-11ea-8003-0a002700000d"],"ParentId":["a1ea1e18-1c12-11ea-8001-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":["RTYPE = \'AGR\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAEJJREFUOI1jnNBe9V+A4zcDOeDDD1YGFgGO3wyK/F/JMuA+AzcDE1k6kcCoAaMGjBoAASwffrAy3GfgJkvzhx+sDADG4w2aBVCvyQAAAABJRU5ErkJggg=="],"LegendLabel":["Zone:  AGR"]},{"Filter":["RTYPE = \'EXM\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAEJJREFUOI1j7Ous+c/H9YeBHPDpGwsDCx/XHwZZ4R9kGfCYgYOBiSydSGDUgFEDRg2AAJZP31gYHjNwkKX50zcWBgDh7w2gYiFR3wAAAABJRU5ErkJggg=="],"LegendLabel":["Zone:  EXM"]},{"Filter":["RTYPE = \'MER\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAEJJREFUOI1j7Omu/c/L84+BHPD5CxMDCy/PPwZJ8T9kGcDAwMLARKZOOBg1YNSAUQMggOXzFyYGBgYWsjR//sLEAACRYwvU9QFABgAAAABJRU5ErkJggg=="],"LegendLabel":["Zone:  MER"]},{"Filter":["RTYPE = \'MFG\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAD5JREFUOI1j7Oqt/8/Nx0AW+PqJgYGFm4+BQUz6P1kGvGJgZGAiz24EGDVg1IBRAyCA5esnSK4iB3z9xMAAAEnVC6Y05mSVAAAAAElFTkSuQmCC"],"LegendLabel":["Zone:  MFG"]},{"Filter":["RTYPE = \'RES\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAEJJREFUOI1j7Oxv/M8pwMhADvj+4T8DC6cAI4OQPDNZBrxj+MvARJZOJDBqwKgBowZAAMv3D/8Z3jH8JUvz9w//GQB8Kg+sTL/RWAAAAABJRU5ErkJggg=="],"LegendLabel":["Zone:  RES"]},{"Filter":["RTYPE = \'S&W\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAENJREFUOI1jbJ/Y/J9diJmBHPDz3V8GFnYhZgZ+ZTayDPjI8IuBiSydSGDUgFEDRg2AAJaf7/4yfGT4RZbmn+/+MgAAmvYPsIiS2soAAAAASUVORK5CYII="],"LegendLabel":["Zone:  S&W"]},{"Filter":["RTYPE = \'WTC\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAEJJREFUOI1jbJ3c8p9NhJWBHPDrzW8GFjYRVgZudS6yDGBg+MbARKZOOBg1YNSAUQMggOXXm98MDAzfyNL8681vBgAVJg3IbKdDKgAAAABJRU5ErkJggg=="],"LegendLabel":["Zone:  WTC"]},{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAADdJREFUOI1jNDU1/W9qaspADjh9+jQDi6mpKUNWVhZZBkybNo2BiSydSGDUgFEDRg2AAEZKszMAWEoM/Dho0fsAAAAASUVORK5CYII="],"LegendLabel":["Zone:  Other"]}],"Type":["3"]}],"MaxScale":["10000"],"MinScale":["0"]}],"Selectable":["true"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"FeatureSource":[{"ClassName":["SHP_Schema:Islands"],"Geometry":["SHPGEOM"],"ResourceId":["Library://Samples/Sheboygan/Data/Islands.FeatureSource"]}],"LayerDefinition":["Library://Samples/Sheboygan/Layers/Islands.LayerDefinition"],"LegendLabel":["Islands"],"Name":["Islands"],"ObjectId":["a1ea6c42-1c12-11ea-8004-0a002700000d"],"ParentId":["a1ea1e18-1c12-11ea-8000-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1jvHpizX8GCgATJZpHDRg1YNSAwWQAAJHuA2i4bNaHAAAAAElFTkSuQmCC"],"LegendLabel":null}],"Type":["3"]}],"MaxScale":["1000000000000"],"MinScale":["0"]}],"Selectable":["false"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"FeatureSource":[{"ClassName":["SHP_Schema:HydrographicPolygons"],"Geometry":["SHPGEOM"],"ResourceId":["Library://Samples/Sheboygan/Data/HydrographicPolygons.FeatureSource"]}],"LayerDefinition":["Library://Samples/Sheboygan/Layers/Hydrography.LayerDefinition"],"LegendLabel":["Hydrography"],"Name":["Hydrography"],"ObjectId":["a1ea6c42-1c12-11ea-8005-0a002700000d"],"ParentId":["a1ea1e18-1c12-11ea-8000-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1jXH385X8GCgATJZpHDRg1YNSAwWQAANqDA3rC62i6AAAAAElFTkSuQmCC"],"LegendLabel":null}],"Type":["3"]}],"MaxScale":["1000000000000"],"MinScale":["0"]}],"Selectable":["false"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["false"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"FeatureSource":[{"ClassName":["SHP_Schema:Soils"],"Geometry":["SHPGEOM"],"ResourceId":["Library://Samples/Sheboygan/Data/Soils.FeatureSource"]}],"LayerDefinition":["Library://Samples/Sheboygan/Layers/Soils.LayerDefinition"],"LegendLabel":["Soils"],"Name":["Soils"],"ObjectId":["a1ea6c42-1c12-11ea-8006-0a002700000d"],"ParentId":["a1ea1e18-1c12-11ea-8000-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAADlJREFUOI1jZGVieC/AznCPgQzw4SeDEosAO8O9TDOGOeQYMP0UQwoTORqRwagBowaMGgABjJRmZwDtGAwCk1TQvgAAAABJRU5ErkJggg=="],"LegendLabel":null}],"Type":["3"]}],"MaxScale":["1000000000000"],"MinScale":["0"]}],"Selectable":["false"],"Type":["1"],"Visible":["false"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"FeatureSource":[{"ClassName":["SHP_Schema:CityLimits"],"Geometry":["SHPGEOM"],"ResourceId":["Library://Samples/Sheboygan/Data/CityLimits.FeatureSource"]}],"LayerDefinition":["Library://Samples/Sheboygan/Layers/CityLimits.LayerDefinition"],"LegendLabel":["CityLimits"],"Name":["CityLimits"],"ObjectId":["a1ea9352-1c12-11ea-8000-0a002700000d"],"ParentId":["a1ea1e18-1c12-11ea-8000-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1jPHDgwH8GCgATJZpHDRg1YNSAwWQAAG1HA1/7dPCRAAAAAElFTkSuQmCC"],"LegendLabel":null}],"Type":["3"]}],"MaxScale":["10000"],"MinScale":["0"]},{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1jvHpizX8GCgATJZpHDRg1YNSAwWQAAJHuA2i4bNaHAAAAAElFTkSuQmCC"],"LegendLabel":null}],"Type":["3"]}],"MaxScale":["1000000000000"],"MinScale":["10000"]}],"Selectable":["false"],"Type":["1"],"Visible":["true"]}],"MapDefinition":["Library://Samples/Sheboygan/Maps/Sheboygan.MapDefinition"],"Name":["Sheboygan"],"SessionId":["a1be7998-1c12-11ea-8000-0a002700000d_en_MTI3LjAuMC4x0AFC0AFB0AFA"],"SiteVersion":["4.0.0.9598"]}}')},71103:function(module){"use strict";module.exports=JSON.parse('{"FeatureInformation":{"FeatureSet":[{"@xmlns:xsi":["http://www.w3.org/2001/XMLSchema-instance"],"@xsi:noNamespaceSchemaLocation":["FeatureSet-1.0.0.xsd"],"Layer":[{"@id":["db34473e-1e7e-11ea-8001-0a002700000d"],"Class":[{"@id":["SHP_Schema:Parcels"],"ID":["2x4AAA==","4h4AAA==","4x4AAA==","5B4AAA==","5R4AAA==","5h4AAA==","5x4AAA==","6B4AAA==","KR8AAA==","NR8AAA==","Rx8AAA==","UB8AAA==","Xx8AAA==","YB8AAA==","YR8AAA==","Yh8AAA==","Yx8AAA==","ZB8AAA==","ZR8AAA==","Zx8AAA==","aB8AAA==","px8AAA==","rx8AAA==","1R8AAA==","1h8AAA==","1x8AAA==","EiAAAA==","EyAAAA==","JSAAAA==","JiAAAA==","JyAAAA==","KCAAAA==","KiAAAA==","KyAAAA==","cCAAAA==","ciAAAA==","eiAAAA==","lCAAAA==","ziAAAA==","hCEAAA==","mSEAAA==","uSEAAA=="]}]}]}],"Hyperlink":null,"InlineSelectionImage":null,"SelectedFeatures":[{"SelectedLayer":[{"@id":["db34473e-1e7e-11ea-8001-0a002700000d"],"@name":["Parcels"],"Feature":[{"Bounds":["-87.722795366494324 43.756662887792743 -87.721545117334017 43.757359091595923"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["EXM"]},{"Name":["Acreage"],"Value":["1.12"]},{"Name":["Lot Dimensions"],"Value":["IRREG"]},{"Name":["Owner"],"Value":["REHABILITATION CENTE"]},{"Name":["Description2"],"Value":["THE W 1/2 OF LOT 1, ALL OF"]},{"Name":["Description3"],"Value":["LOTS 2, 3, 4 & 5; THE N"]},{"Name":["Billing Address"],"Value":["P O BOX 685"]},{"Name":["Lot Size (SqFt)"],"Value":["48870"]},{"Name":["Description4"],"Value":["50.00\' OF LOT 6, ALSO THE N"]}],"SelectionKey":["\\n2x4AAA=="]},{"Bounds":["-87.721548800290776 43.756941186301994 -87.721431569785551 43.757353225582108"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["WTC"]},{"Name":["Acreage"],"Value":["0"]},{"Name":["Lot Dimensions"],"Value":["30X150"]},{"Name":["Owner"],"Value":["UNION PACIFIC RR COM"]},{"Name":["Description2"],"Value":["E 1/2 OF LOT 1 BLK 81 EXCEPT"]},{"Name":["Description3"],"Value":["VAC ALLEY ADJ."]},{"Name":["Billing Address"],"Value":["P O BOX 2500"]},{"Name":["Lot Size (SqFt)"],"Value":["0"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\n4h4AAA=="]},{"Bounds":["-87.721132461736815 43.75693762394323 -87.720674585524321 43.757351267327486"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["EXM"]},{"Name":["Acreage"],"Value":["0.41"]},{"Name":["Lot Dimensions"],"Value":["120X150"]},{"Name":["Owner"],"Value":["REHABILITATION CENTE"]},{"Name":["Description2"],"Value":["LOTS 5 & 6 BLOCK 80"]},{"Name":["Description3"],"Value":null},{"Name":["Billing Address"],"Value":["P O BOX 685"]},{"Name":["Lot Size (SqFt)"],"Value":["18000"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\n4x4AAA=="]},{"Bounds":["-87.720678274204502 43.756936643600021 -87.720466414841425 43.757349129160872"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["RES"]},{"Name":["Acreage"],"Value":["0.19"]},{"Name":["Lot Dimensions"],"Value":["55X150"]},{"Name":["Owner"],"Value":["VETERANS ADMINISTRAT"]},{"Name":["Description2"],"Value":["W 55\' OF LOT 4 BLK 80"]},{"Name":["Description3"],"Value":null},{"Name":["Billing Address"],"Value":["5000 W NATIONAL AVE"]},{"Name":["Lot Size (SqFt)"],"Value":["8250"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\n5B4AAA=="]},{"Bounds":["-87.720470104948689 43.756936019228846 -87.720333942679602 43.757348148637767"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["RES"]},{"Name":["Acreage"],"Value":["0.12"]},{"Name":["Lot Dimensions"],"Value":["35X150"]},{"Name":["Owner"],"Value":["YANG, GE & JENNIFER"]},{"Name":["Description2"],"Value":["W 1/2 OF LOT 3 & E 5\' OF LOT"]},{"Name":["Description3"],"Value":["4 BLK 80"]},{"Name":["Billing Address"],"Value":["1215 ST CLAIR AVE"]},{"Name":["Lot Size (SqFt)"],"Value":["5250"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\n5R4AAA=="]},{"Bounds":["-87.720337633451948 43.756935484156728 -87.720220394906718 43.757347524439041"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["RES"]},{"Name":["Acreage"],"Value":["0.1"]},{"Name":["Lot Dimensions"],"Value":["30X150"]},{"Name":["Owner"],"Value":["THAO, DAO"]},{"Name":["Description2"],"Value":["E 1/2 OF LOT 3 BLK 80"]},{"Name":["Description3"],"Value":null},{"Name":["Billing Address"],"Value":["1213 ST CLAIR AVE"]},{"Name":["Lot Size (SqFt)"],"Value":["4500"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\n5h4AAA=="]},{"Bounds":["-87.720222708421886 43.757088042202945 -87.719993299607737 43.757346989364912"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["RES"]},{"Name":["Acreage"],"Value":["0.13"]},{"Name":["Lot Dimensions"],"Value":["60X94"]},{"Name":["Owner"],"Value":["PERREAULT, JANET B"]},{"Name":["Description2"],"Value":["N 94\' OF LOT 2 BLK 80"]},{"Name":["Description3"],"Value":null},{"Name":["Billing Address"],"Value":["1209 ST CLAIR AVE"]},{"Name":["Lot Size (SqFt)"],"Value":["5640"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\n5x4AAA=="]},{"Bounds":["-87.719995146408806 43.757139095080454 -87.719766204558141 43.757345918702299"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["RES"]},{"Name":["Acreage"],"Value":["0.1"]},{"Name":["Lot Dimensions"],"Value":["60X75"]},{"Name":["Owner"],"Value":["MC COY, JAMES D."]},{"Name":["Description2"],"Value":["N 1/2 OF LOT 1 BLK 80"]},{"Name":["Description3"],"Value":null},{"Name":["Billing Address"],"Value":["621 N 10TH ST"]},{"Name":["Lot Size (SqFt)"],"Value":["4500"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\n6B4AAA=="]},{"Bounds":["-87.719996131170788 43.757029360395038 -87.719768051894633 43.757140166191917"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["RES"]},{"Name":["Acreage"],"Value":["0.06"]},{"Name":["Lot Dimensions"],"Value":["40X60"]},{"Name":["Owner"],"Value":["MC MULLEN, THOMAS J"]},{"Name":["Description2"],"Value":["N 40\' OF S 75\' OF LOT 1 BLK"]},{"Name":["Description3"],"Value":["80"]},{"Name":["Billing Address"],"Value":["N2050 COUNTY ROAD GW"]},{"Name":["Lot Size (SqFt)"],"Value":["2400"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\nKR8AAA=="]},{"Bounds":["-87.720224086699432 43.756934413498861 -87.71999561409865 43.757089112687019"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["RES"]},{"Name":["Acreage"],"Value":["0.08"]},{"Name":["Lot Dimensions"],"Value":["60X56"]},{"Name":["Owner"],"Value":["AHLES, HENRY C. JR."]},{"Name":["Description2"],"Value":["S 56\' OF LOT 2 BLK 80"]},{"Name":["Description3"],"Value":null},{"Name":["Billing Address"],"Value":["1209A ST CLAIR AVE"]},{"Name":["Lot Size (SqFt)"],"Value":["3360"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\nNR8AAA=="]},{"Bounds":["-87.719996992956695 43.756933342389779 -87.719769037072112 43.757030431329667"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["RES"]},{"Name":["Acreage"],"Value":["0.05"]},{"Name":["Lot Dimensions"],"Value":["35X60"]},{"Name":["Owner"],"Value":["CUELLAR, DAWN M."]},{"Name":["Description2"],"Value":["S 35\' OF LOT 1 BLK 80"]},{"Name":["Description3"],"Value":null},{"Name":["Billing Address"],"Value":["1456 S. 14TH ST."]},{"Name":["Lot Size (SqFt)"],"Value":["2100"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\nRx8AAA=="]},{"Bounds":["-87.722347746986827 43.756480834348743 -87.721549021150707 43.756920764342354"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["MER"]},{"Name":["Acreage"],"Value":["0.77"]},{"Name":["Lot Dimensions"],"Value":["210X159"]},{"Name":["Owner"],"Value":["SNITOVSKY, NORMAN"]},{"Name":["Description2"],"Value":["LOTS 9,10 & 11 & W1/2 OF LOT"]},{"Name":["Description3"],"Value":["12 BLK 81 & THE S1/2 OF THE"]},{"Name":["Billing Address"],"Value":["2215 ENTERPRISE DR."]},{"Name":["Lot Size (SqFt)"],"Value":["33390"]},{"Name":["Description4"],"Value":["VAC E-W ALLEY ADJ THE AFORE"]}],"SelectionKey":["\\nUB8AAA=="]},{"Bounds":["-87.721552924677852 43.75648030030694 -87.72143569509079 43.756892339617764"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["WTC"]},{"Name":["Acreage"],"Value":["0"]},{"Name":["Lot Dimensions"],"Value":["30X150"]},{"Name":["Owner"],"Value":["UNION PACIFIC RR COM"]},{"Name":["Description2"],"Value":["E 1/2 OF LOT 12 BLK 81"]},{"Name":["Description3"],"Value":["EXCEPT VAC ALLEY ADJ."]},{"Name":["Billing Address"],"Value":["P O BOX 2500"]},{"Name":["Lot Size (SqFt)"],"Value":["0"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\nXx8AAA=="]},{"Bounds":["-87.721136589318334 43.756477807264687 -87.720905810457865 43.756890381373516"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["RES"]},{"Name":["Acreage"],"Value":["0.21"]},{"Name":["Lot Dimensions"],"Value":["60X150"]},{"Name":["Owner"],"Value":["PRIEBE, TODD W & LIS"]},{"Name":["Description2"],"Value":["LOT 7 BLK 80"]},{"Name":["Description3"],"Value":null},{"Name":["Billing Address"],"Value":["2522 S. 7TH ST."]},{"Name":["Lot Size (SqFt)"],"Value":["9000"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\nYB8AAA=="]},{"Bounds":["-87.720909497535018 43.756476737966125 -87.72067871688229 43.756889312520372"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["MER"]},{"Name":["Acreage"],"Value":["0.21"]},{"Name":["Lot Dimensions"],"Value":["60X150"]},{"Name":["Owner"],"Value":["PRIEBE, TODD W & LIS"]},{"Name":["Description2"],"Value":["LOT 8 BLK 80"]},{"Name":["Description3"],"Value":null},{"Name":["Billing Address"],"Value":["2522 S. 7TH ST."]},{"Name":["Lot Size (SqFt)"],"Value":["9000"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\nYR8AAA=="]},{"Bounds":["-87.720682405272967 43.756476203235074 -87.720565169975401 43.756888243392304"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["RES"]},{"Name":["Acreage"],"Value":["0.1"]},{"Name":["Lot Dimensions"],"Value":["30X150"]},{"Name":["Owner"],"Value":["SCHMITT, ROBERT W"]},{"Name":["Description2"],"Value":["W 1/2 OF LOT 9 BLK 80"]},{"Name":["Description3"],"Value":null},{"Name":["Billing Address"],"Value":["W695 GARTON RD"]},{"Name":["Lot Size (SqFt)"],"Value":["4500"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\nYh8AAA=="]},{"Bounds":["-87.720568859386916 43.756475668215629 -87.720451623312911 43.756887708483681"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["RES"]},{"Name":["Acreage"],"Value":["0.1"]},{"Name":["Lot Dimensions"],"Value":["30X150"]},{"Name":["Owner"],"Value":["SCHMITT, ROBERT W"]},{"Name":["Description2"],"Value":["E 1/2 OF LOT 9 BLK 80"]},{"Name":["Description3"],"Value":null},{"Name":["Billing Address"],"Value":["W695 GARTON RD"]},{"Name":["Lot Size (SqFt)"],"Value":["4500"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\nYx8AAA=="]},{"Bounds":["-87.720455313502015 43.756475133259322 -87.720338076409362 43.756887173637445"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["RES"]},{"Name":["Acreage"],"Value":["0.1"]},{"Name":["Lot Dimensions"],"Value":["30X150"]},{"Name":["Owner"],"Value":["TULLBERG, LEE & LYNN"]},{"Name":["Description2"],"Value":["W 1/2 OF LOT 10 BLK 80"]},{"Name":["Description3"],"Value":null},{"Name":["Billing Address"],"Value":["1502 S. 14TH ST."]},{"Name":["Lot Size (SqFt)"],"Value":["4500"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\nZB8AAA=="]},{"Bounds":["-87.720341767377107 43.756474598190209 -87.720224529750226 43.756886638503218"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["RES"]},{"Name":["Acreage"],"Value":["0.1"]},{"Name":["Lot Dimensions"],"Value":["30X150"]},{"Name":["Owner"],"Value":["TULLBERG, LEE & LYNN"]},{"Name":["Description2"],"Value":["E 1/2 OF LOT 10 BLK 80"]},{"Name":["Description3"],"Value":null},{"Name":["Billing Address"],"Value":["1502 S. 14TH ST."]},{"Name":["Lot Size (SqFt)"],"Value":["4500"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\nZR8AAA=="]},{"Bounds":["-87.720226375507011 43.756679280247376 -87.71999743619422 43.75688610343137"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["RES"]},{"Name":["Acreage"],"Value":["0.1"]},{"Name":["Lot Dimensions"],"Value":["60X75"]},{"Name":["Owner"],"Value":["HERRERA, CESAR A."]},{"Name":["Description2"],"Value":["N 1/2 OF LOT 11 BLK 80"]},{"Name":["Description3"],"Value":null},{"Name":["Billing Address"],"Value":["1116A N. 12TH ST."]},{"Name":["Lot Size (SqFt)"],"Value":["4500"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\nZx8AAA=="]},{"Bounds":["-87.7199998983195 43.756609625023195 -87.719770342645432 43.756885032774065"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["RES"]},{"Name":["Acreage"],"Value":["0.14"]},{"Name":["Lot Dimensions"],"Value":["100X60"]},{"Name":["Owner"],"Value":["HALEEM, NAFESEH"]},{"Name":["Description2"],"Value":["N 100\' OF LOT 12 BLK 80"]},{"Name":["Description3"],"Value":null},{"Name":["Billing Address"],"Value":["1108 N. 12TH ST."]},{"Name":["Lot Size (SqFt)"],"Value":["6000"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\naB8AAA=="]},{"Bounds":["-87.720228221253834 43.756473527537295 -87.719999282729617 43.756680350726725"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["RES"]},{"Name":["Acreage"],"Value":["0.1"]},{"Name":["Lot Dimensions"],"Value":["60X75"]},{"Name":["Owner"],"Value":["TULLBERG, LEE & LYNN"]},{"Name":["Description2"],"Value":["S 1/2 OF LOT 11 BLK 80"]},{"Name":["Description3"],"Value":null},{"Name":["Billing Address"],"Value":["1502 S. 14TH ST."]},{"Name":["Lot Size (SqFt)"],"Value":["4500"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\npx8AAA=="]},{"Bounds":["-87.720001129496268 43.756472456433514 -87.719772805808176 43.756610695952979"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["RES"]},{"Name":["Acreage"],"Value":["0.07"]},{"Name":["Lot Dimensions"],"Value":["50X60"]},{"Name":["Owner"],"Value":["SUKOWATY, WILLIAM C."]},{"Name":["Description2"],"Value":["S 50\' OF LOT 12 BLOCK 80"]},{"Name":["Description3"],"Value":null},{"Name":["Billing Address"],"Value":["2982 WOODBINE DR"]},{"Name":["Lot Size (SqFt)"],"Value":["3000"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\nrx8AAA=="]},{"Bounds":["-87.722788142888234 43.755335868606466 -87.721634440510442 43.756252668096828"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["MER"]},{"Name":["Acreage"],"Value":["1.61"]},{"Name":["Lot Dimensions"],"Value":["IRREG"]},{"Name":["Owner"],"Value":["MRED (14TH/ERIE) ASS"]},{"Name":["Description2"],"Value":["CSM REC IN VOL 17 P 242-4 AS"]},{"Name":["Description3"],"Value":["DOC #1593757 ROD BEING PRT"]},{"Name":["Billing Address"],"Value":["W228 N745 WESTMOUND"]},{"Name":["Lot Size (SqFt)"],"Value":["70140"]},{"Name":["Description4"],"Value":["OF LOTS 2 & 6 AND ALL OF"]}],"SelectionKey":["\\n1R8AAA=="]},{"Bounds":["-87.721783993639846 43.75586600668715 -87.721422848998813 43.756250861467976"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["MFG"]},{"Name":["Acreage"],"Value":["0.31"]},{"Name":["Lot Dimensions"],"Value":["95X140"]},{"Name":["Owner"],"Value":["MILLENNIUM PROPERTIE"]},{"Name":["Description2"],"Value":["LOT 1 & E 35\' OF LOT 2 BLK"]},{"Name":["Description3"],"Value":["90, ALSO N 1/2 OF VAC N"]},{"Name":["Billing Address"],"Value":["PO BOX 1005"]},{"Name":["Lot Size (SqFt)"],"Value":["13300"]},{"Name":["Description4"],"Value":["WATER ST ADJ THE AFORE DESC"]}],"SelectionKey":["\\n1h8AAA=="]},{"Bounds":["-87.721121273860433 43.75583496112074 -87.719757486350858 43.756249430247053"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["MER"]},{"Name":["Acreage"],"Value":["1.22"]},{"Name":["Lot Dimensions"],"Value":["IRREG"]},{"Name":["Owner"],"Value":["TOBOTIPE, INC"]},{"Name":["Description2"],"Value":["LOTS 1,2,3,4,5 & 6 BLK 91"]},{"Name":["Description3"],"Value":null},{"Name":["Billing Address"],"Value":["4902 N. 18TH ST."]},{"Name":["Lot Size (SqFt)"],"Value":["53300"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\n1x8AAA=="]},{"Bounds":["-87.721653703295871 43.755270165190019 -87.721500126709785 43.755866497421906"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["EXM"]},{"Name":["Acreage"],"Value":["0.19"]},{"Name":["Lot Dimensions"],"Value":["IRREG"]},{"Name":["Owner"],"Value":["REDEVELOPMENT AUTHOR"]},{"Name":["Description2"],"Value":["THE PRT OF LOT 1 BLK 90 1/2"]},{"Name":["Description3"],"Value":["AND THE S1/2 OF VAC N WATER"]},{"Name":["Billing Address"],"Value":["807 CENTER AVE"]},{"Name":["Lot Size (SqFt)"],"Value":["8280"]},{"Name":["Description4"],"Value":["ST ADJ TO LOT 1 THAT IS"]}],"SelectionKey":["\\nEiAAAA=="]},{"Bounds":["-87.721502577700576 43.755234750660989 -87.72142442891051 43.755866170374183"],"Property":[{"Name":["Description1"],"Value":["ORIG. PLAT"]},{"Name":["Zone"],"Value":["WTC"]},{"Name":["Acreage"],"Value":["0"]},{"Name":["Lot Dimensions"],"Value":["IRREG"]},{"Name":["Owner"],"Value":["UNION PACIFIC RR COM"]},{"Name":["Description2"],"Value":["LOT 1 BLK 90 1/2 & S 1/2 OF"]},{"Name":["Description3"],"Value":["VACATED N. WATER ST. ADJ TO"]},{"Name":["Billing Address"],"Value":["1700 FARNAM ST."]},{"Name":["Lot Size (SqFt)"],"Value":["0"]},{"Name":["Description4"],"Value":["LOT 1. EXCEPT THAT PART"]}],"SelectionKey":["\\nEyAAAA=="]},{"Bounds":["-87.720861840190551 43.755592030858544 -87.720554220778794 43.755787973083471"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["RES"]},{"Name":["Acreage"],"Value":["0.08"]},{"Name":["Lot Dimensions"],"Value":["IRREG"]},{"Name":["Owner"],"Value":["TOBOTIPE, INC"]},{"Name":["Description2"],"Value":["LOT 7 & W 1/2 OF LOT 8 BLK"]},{"Name":["Description3"],"Value":["91"]},{"Name":["Billing Address"],"Value":["4902 N. 18TH ST."]},{"Name":["Lot Size (SqFt)"],"Value":["3375"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\nJSAAAA=="]},{"Bounds":["-87.720555027210096 43.755519705614631 -87.720440674351423 43.755787306516758"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["RES"]},{"Name":["Acreage"],"Value":["0.06"]},{"Name":["Lot Dimensions"],"Value":["IRREG"]},{"Name":["Owner"],"Value":["WELCHER, RICHARD A."]},{"Name":["Description2"],"Value":["THE E 1/2 OF LOT 8 BLK 91"]},{"Name":["Description3"],"Value":null},{"Name":["Billing Address"],"Value":["1007 N WATER ST"]},{"Name":["Lot Size (SqFt)"],"Value":["2653"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\nJiAAAA=="]},{"Bounds":["-87.720441778455964 43.755464256212981 -87.720353621961863 43.755787060115075"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["RES"]},{"Name":["Acreage"],"Value":["0.06"]},{"Name":["Lot Dimensions"],"Value":["IRREG"]},{"Name":["Owner"],"Value":["HUENINK, DAVID & DIA"]},{"Name":["Description2"],"Value":["THE W 23\' OF LOT 9 BLK 91"]},{"Name":["Description3"],"Value":null},{"Name":["Billing Address"],"Value":["3711 N. 13TH ST."]},{"Name":["Lot Size (SqFt)"],"Value":["2519"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\nJyAAAA=="]},{"Bounds":["-87.720354954821971 43.755375054785382 -87.720213581256687 43.755786871212827"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["RES"]},{"Name":["Acreage"],"Value":["0.11"]},{"Name":["Lot Dimensions"],"Value":["IRREG"]},{"Name":["Owner"],"Value":["WEGMANN, JEFFREY B."]},{"Name":["Description2"],"Value":["THE E 37\' OF LOT 9 BLK 91"]},{"Name":["Description3"],"Value":null},{"Name":["Billing Address"],"Value":["W6277 HARBOR LIGHT C"]},{"Name":["Lot Size (SqFt)"],"Value":["4977"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\nKCAAAA=="]},{"Bounds":["-87.72021422752924 43.755629698988692 -87.719986488163769 43.755786567149201"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["RES"]},{"Name":["Acreage"],"Value":["0.08"]},{"Name":["Lot Dimensions"],"Value":["60X57"]},{"Name":["Owner"],"Value":["TOBOTIPE, INC"]},{"Name":["Description2"],"Value":["THE N 57\' OF LOT 10 BLOCK 91"]},{"Name":["Description3"],"Value":null},{"Name":["Billing Address"],"Value":["4902 N. 18TH ST."]},{"Name":["Lot Size (SqFt)"],"Value":["3420"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\nKiAAAA=="]},{"Bounds":["-87.719987316701619 43.755585310356871 -87.71975939483147 43.755786073556571"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["RES"]},{"Name":["Acreage"],"Value":["0.1"]},{"Name":["Lot Dimensions"],"Value":["60X73"]},{"Name":["Owner"],"Value":["TOBOTIPE, INC"]},{"Name":["Description2"],"Value":["THE N 73\' OF LOT 11 BLOCK 91"]},{"Name":["Description3"],"Value":null},{"Name":["Billing Address"],"Value":["4902 N. 18TH ST."]},{"Name":["Lot Size (SqFt)"],"Value":["4380"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\nKyAAAA=="]},{"Bounds":["-87.72021528225028 43.755374561369131 -87.719987135028191 43.755630192405448"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["RES"]},{"Name":["Acreage"],"Value":["0.13"]},{"Name":["Lot Dimensions"],"Value":["60X93"]},{"Name":["Owner"],"Value":["FLINN, THOMAS W"]},{"Name":["Description2"],"Value":["LOT 10 BLOCK 91 EXCEPT THE N"]},{"Name":["Description3"],"Value":["57\' THEREOF"]},{"Name":["Billing Address"],"Value":["1117 ONTARIO AVE"]},{"Name":["Lot Size (SqFt)"],"Value":["5580"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\ncCAAAA=="]},{"Bounds":["-87.721133934289426 43.755079363262183 -87.720664294927616 43.755626212156706"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["EXM"]},{"Name":["Acreage"],"Value":["0.37"]},{"Name":["Lot Dimensions"],"Value":["IRREG"]},{"Name":["Owner"],"Value":["REDEVELOPMENT AUTHOR"]},{"Name":["Description2"],"Value":["LOTS 12 & 13 BLK 110 AND"]},{"Name":["Description3"],"Value":["THAT PRT OF VAC N WATER ST"]},{"Name":["Billing Address"],"Value":["807 CENTER AVE"]},{"Name":["Lot Size (SqFt)"],"Value":["15944"]},{"Name":["Description4"],"Value":["ADJ THERETO"]}],"SelectionKey":["\\nciAAAA=="]},{"Bounds":["-87.719988190714076 43.755374067502046 -87.71976022412619 43.755585804399963"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["RES"]},{"Name":["Acreage"],"Value":["0.11"]},{"Name":["Lot Dimensions"],"Value":["60X77"]},{"Name":["Owner"],"Value":["CARRIVEAU, WARREN G."]},{"Name":["Description2"],"Value":["S 77\' OF LOT 11 BLOCK 91"]},{"Name":["Description3"],"Value":null},{"Name":["Billing Address"],"Value":["1008 N. 12TH ST."]},{"Name":["Lot Size (SqFt)"],"Value":["4620"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\neiAAAA=="]},{"Bounds":["-87.721004013643338 43.754607862439073 -87.719612065403311 43.755370981302171"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["EXM"]},{"Name":["Acreage"],"Value":["1.2"]},{"Name":["Lot Dimensions"],"Value":["IRREG"]},{"Name":["Owner"],"Value":["REDEVELOPMENT AUTHOR"]},{"Name":["Description2"],"Value":["LOTS 4, 5, 6, 7, 8, 9, 10 &"]},{"Name":["Description3"],"Value":["11 BLOCK 110, EXCEPT THAT"]},{"Name":["Billing Address"],"Value":["807 CENTER AVE"]},{"Name":["Lot Size (SqFt)"],"Value":["52070"]},{"Name":["Description4"],"Value":["PART OF LOTS 5 & 6 BLOCK 110"]}],"SelectionKey":["\\nlCAAAA=="]},{"Bounds":["-87.722646669234223 43.754385301052096 -87.722012829296915 43.75511224194878"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["MER"]},{"Name":["Acreage"],"Value":["0.69"]},{"Name":["Lot Dimensions"],"Value":["IRREG"]},{"Name":["Owner"],"Value":["QUASIUS, WILLARD & C"]},{"Name":["Description2"],"Value":["THE W 40\' OF LOT 14 & ALL OF"]},{"Name":["Description3"],"Value":["LOTS 15 & 16 BLOCK 111"]},{"Name":["Billing Address"],"Value":["514 N. 26TH ST."]},{"Name":["Lot Size (SqFt)"],"Value":["30030"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\nziAAAA=="]},{"Bounds":["-87.722162484663968 43.754312771062935 -87.721608769630919 43.754985594929259"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["EXM"]},{"Name":["Acreage"],"Value":["0.59"]},{"Name":["Lot Dimensions"],"Value":["IRREG"]},{"Name":["Owner"],"Value":["CITY OF SHEBOYGAN"]},{"Name":["Description2"],"Value":["LOTS 12 & 13 & PRT OF LOTS"]},{"Name":["Description3"],"Value":["11 & 14 BLK 111 DESC AS: COM"]},{"Name":["Billing Address"],"Value":["828 CENTER AVE"]},{"Name":["Lot Size (SqFt)"],"Value":["25847"]},{"Name":["Description4"],"Value":["IN THE S LINE OF LOT 14,40\'"]}],"SelectionKey":["\\nhCEAAA=="]},{"Bounds":["-87.721610401472248 43.75318564960952 -87.720860507050233 43.754840625035236"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["WTC"]},{"Name":["Acreage"],"Value":["0"]},{"Name":["Lot Dimensions"],"Value":["IRREG"]},{"Name":["Owner"],"Value":["UNION PACIFIC RR COM"]},{"Name":["Description2"],"Value":["RIGHT OF WAY 100\' WIDE OVER"]},{"Name":["Description3"],"Value":["LOTS 5-6-7-8-9-10 & 11 &"]},{"Name":["Billing Address"],"Value":["P O BOX 2500"]},{"Name":["Lot Size (SqFt)"],"Value":["0"]},{"Name":["Description4"],"Value":["OVER W 30\' OF LOTS 1-2-3 & 4"]}],"SelectionKey":["\\nmSEAAA=="]},{"Bounds":["-87.721231389255706 43.754117373413919 -87.720731824089768 43.754669743971775"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["MER"]},{"Name":["Acreage"],"Value":["0.48"]},{"Name":["Lot Dimensions"],"Value":["IRREG"]},{"Name":["Owner"],"Value":["SHEB RIVERSIDE BOAT"]},{"Name":["Description2"],"Value":["LOTS 8-9 & 10 LYING BETW."]},{"Name":["Description3"],"Value":["SHEB. RIVER & R.R. RIGHT OF"]},{"Name":["Billing Address"],"Value":["1228A WISCONSIN AVE"]},{"Name":["Lot Size (SqFt)"],"Value":["20800"]},{"Name":["Description4"],"Value":["WAY BLK 111"]}],"SelectionKey":["\\nuSEAAA=="]}],"LayerMetadata":[{"Property":[{"DisplayName":["Description1"],"Name":["RLDESCR1"],"Type":["9"]},{"DisplayName":["Zone"],"Name":["RTYPE"],"Type":["9"]},{"DisplayName":["Acreage"],"Name":["RACRE"],"Type":["9"]},{"DisplayName":["Lot Dimensions"],"Name":["RLOT"],"Type":["9"]},{"DisplayName":["Owner"],"Name":["RNAME"],"Type":["9"]},{"DisplayName":["Description2"],"Name":["RLDESCR2"],"Type":["9"]},{"DisplayName":["Description3"],"Name":["RLDESCR3"],"Type":["9"]},{"DisplayName":["Billing Address"],"Name":["RBILAD"],"Type":["9"]},{"DisplayName":["Lot Size (SqFt)"],"Name":["RSQFT"],"Type":["7"]},{"DisplayName":["Description4"],"Name":["RLDESCR4"],"Type":["9"]}]}]}]}],"Tooltip":null}}')}},function(__webpack_require__){var __webpack_exec__=function(moduleId){return __webpack_require__(__webpack_require__.s=moduleId)};__webpack_require__.O(0,[117],(function(){return __webpack_exec__(37707),__webpack_exec__(99669),__webpack_exec__(86261),__webpack_exec__(91568),__webpack_exec__(59746),__webpack_exec__(84873),__webpack_exec__(62853),__webpack_exec__(54687),__webpack_exec__(38011)}));__webpack_require__.O()}]);
//# sourceMappingURL=main.b5e1d5b0.iframe.bundle.js.map